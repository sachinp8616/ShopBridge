(this.webpackJsonpghin_admin_portal=this.webpackJsonpghin_admin_portal||[]).push([[0],{1080:function(e,t){},1082:function(e,t,s){},1083:function(e,t,s){"use strict";s.r(t);s(555);var a=s(1),i=s.n(a),n=s(46),o=s.n(n),r=(s(761),s(3)),c=s(4),l=s(5),d=s(6),u=s(53),h=s(212),p=s(10),m=s(491),b=s(8),j=s(2),f=s(17),O=s(213),g=s(480),_=s(481),v=s(11),x=s(51),y=s(82),N=s.n(y),S=s(492),C=s.n(S);function k(e){return Promise.reject(e.response||e.message)}function A(e){if(console.debug("Request Successful!",e),"object"!==typeof e.data){var t=C.a.parse(e.data);return t||e.data}return"undefined"!==typeof e.headers["total-count"]&&"undefined"!==typeof e.headers["per-page"]?Object(j.a)(Object(j.a)({},e.data),{},{"per-page":e.headers["per-page"],"total-count":e.headers["total-count"],"total-pages":e.headers["total-pages"],"current-page":e.headers["current-page"]}):e.data}var M=s(526),w=s(493),I=s(76),T=s(364),E=s(428),F=s(482);function D(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"@@ghin/USER_AUTHENTICATED"===t.type?Object(j.a)(Object(j.a)({},e),{},{isAuthenticated:t.payload}):e}function P(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@ghin/ADD_LOGIN_USER_DATA":return Object(j.a)(Object(j.a)({},e),{},{first_name:t.payload.first_name,last_name:t.payload.last_name,user_id:t.payload.id});case"@@ghin/ADD_USER_ACCESS":return Object(j.a)(Object(j.a)({},e),{},{rawAccess:t.payload});case"@@ghin/ADD_USER_PARSED_ACCESS":return Object(j.a)(Object(j.a)({},e),{},{access:t.payload});default:return e}}function G(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@ghin/ADD_ALERT":return e.concat(t.payload);case"@@ghin/REMOVE_ALERT":return e.filter((function(e,s){return s!==t.payload}));default:return e}}function R(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"@@ghin/ADD_TERMS"===t.type?Object(j.a)(Object(j.a)({},e),t.payload):e}function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"@@ghin/UPDATE_FEDERATION"===t.type?Object(j.a)(Object(j.a)({},e),t.payload):e}function U(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"@@ghin/UPDATE_ASSOCIATION"===t.type?Object(j.a)(Object(j.a)({},e),t.payload):e}function L(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"@@ghin/UPDATE_CLUB"===t.type?Object(j.a)(Object(j.a)({},e),t.payload):e}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@ghin/UPDATE_SELECTED_MEMBERSHIP":return Object(j.a)(Object(j.a)({},e),{},{membership:t.payload.membership,displayMembershipDetails:t.payload.displayMembershipDetails});case"@@ghin/CLEAR_SELECTED_MEMBERSHIP":return Object(j.a)(Object(j.a)({},e),{},{membership:null,displayMembershipDetails:!1});default:return e}}function z(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"@@ghin/SHOW_PRODUCT_ALERTS":return Object(j.a)(Object(j.a)({},e),{},{showAlert:t.payload});case"@@ghin/PRODUCT_ALERTS_DATA":return Object(j.a)(Object(j.a)({},e),{},{alert:t.payload});default:return e}}var B=function(e){return{router:Object(h.b)(e),form:F.a,auth:D,user:P,terms:R,alerts:G,federation:H,association:U,club:L,membership:Y,productAlerts:z}},q=s(362);function V(e){return{type:"@@ghin/UPDATE_SELECTED_MEMBERSHIP",payload:e}}function W(){return{type:"@@ghin/CLEAR_SELECTED_MEMBERSHIP"}}q.a.initialize("UA-127474639-1");var K=Object(I.a)({basename:""}),J=function(e){return function(t){return function(s){if("@@router/LOCATION_CHANGE"===s.type){var a="".concat(s.payload.location.pathname);-1!==e.getState().router.location.pathname.indexOf("/club-memberships")&&-1===s.payload.location.pathname.indexOf("/club-memberships")&&e.dispatch({type:"@@ghin/CLEAR_SELECTED_MEMBERSHIP"}),$(a)}return t(s)}}},$=function(e){q.a.ga("send","pageview",e)},X={key:"ghinadmin",version:1,storage:M.a,migrate:function(e){if(e&&e._persist&&1!==e._persist.version){var t=new x.a;return oe.logout({user_token:t.get("token")}),t.remove("token",{path:"/"}),t.remove("gotAlert",{path:"/"}),t.remove("closedAlert",{path:"/"}),Promise.resolve(Q)}return Promise.resolve(e)},blacklist:["form","router"]},Q={auth:{isAuthenticated:!1},alerts:[],user:{},terms:{},productAlerts:{}},Z=Object(T.a)(X,B(K));var ee=function(){var e=Object(v.e)(Z,Q,Object(v.a)(w.a,Object(E.a)(K),J));return{persistor:Object(T.b)(e),store:e}}(),te=ee.persistor,se=ee.store,ae=new x.a,ie=N.a.create({baseURL:"https://ghin-apiproxy.usga.org/api/v1"});ie.interceptors.request.use((function(e){return/login/.test(e.url)?(e.headers={},e):e})),ie.interceptors.response.use((function(e){return e}),(function(e){return e&&e.response&&e.response.data&&e.response.data.error&&"Invalid token"===e.response.data.error?(ae.remove("token",{path:"/"}),se.dispatch({type:"@@ghin/USER_AUTHENTICATED",payload:!1})):Promise.reject(e)}));var ne=function(e,t){return e.params=Object(j.a)({},e.params),ae.get("token")&&(e.headers={Authorization:"Bearer "+ae.get("token")}),ie(e).then(A).catch(k)},oe=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"login",value:function(e){return ne({url:"/users/admin_login.json",method:"POST",data:e})}},{key:"logout",value:function(e){return ne({url:"/users/logout.json",method:"DELETE",data:e})}},{key:"sendResetEmail",value:function(e){return ne({url:"/users/forgot_password.json",method:"POST",data:e})}},{key:"resetPassword",value:function(e){return ne({url:"/users/set_password.json",method:"POST",data:e})}}]),e}(),re=s(0),ce=function(e){var t=e.input,s=e.placeholder,a=e.disabled,i=e.hideErrorMessages,n=e.className,o=(e.label,e.type),r=e.meta,c=r.touched,l=r.error;r.warning;return Object(re.jsxs)("div",{children:[Object(re.jsx)("input",Object(j.a)(Object(j.a)({disabled:a||!1,autoComplete:"off",id:t.id,placeholder:s,className:n+(!a&&c&&l?" is-error":"")},t),{},{type:o})),!t.hideErrorMessages&&!i&&!a&&c&&l&&Object(re.jsx)("span",{className:"validation__message is-error",children:l})]})},le=s(91),de=s(9),ue=s.n(de),he=function(e){return e?void 0:"This field is required"},pe=function(e){return e&&e.value?void 0:"This field is required"},me=function(e){return e&&e.length>0?void 0:"This field is required"},be=function(e){return e?e.length<=10&&e.length>=2?void 0:"The Local Number should include minimum 2 and maximum 10 characters.":void 0},je=function(e){return e?e.match(/([a-zA-Z0-9]+)$/)?void 0:"Should contain only alpha-numeric characters":void 0},fe=function(e){return e?e.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)?void 0:"Invalid email address":void 0},Oe=function(e){return e?e.match(/^(?:http(s)?:\/\/)/)?"Do not include http:// or https://":e.match(/^(www\.)+[a-zA-Z0-9-]+(\.[a-zA-Z]{2,}){1,3}(#?\/?[a-zA-Z0-9-#]+)*\/?(\?[a-zA-Z0-9-_]+=[a-zA-Z0-9-%]+&?)?$/)?void 0:"Invalid URL Format":void 0},ge=function(e){return e?e.match(/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w\.-]+)+[\w\-\._~:/?#[\]@!\$&'\(\)\*\+,;=.%]+$/)?void 0:"Invalid URL Format":void 0},_e=function(e){if(e&&e<27)return"score is below the minimum allowed. Please recheck your score and try again."},ve=function(e){if(e&&e>90)return"score is above the maximum allowed. Please recheck your score and try again."},xe=function(e){if(e&&!/^\d+$/.test(e))return"This field should be numeric"},ye=function(e){if(e&&!/^\+?[0-9]{1,2}([,.][0-9]{1,4})?$/.test(e))return"Invalid H.I. value"},Ne=function(e){if(e&&!/^\+?[0-9]{1,4}([,.][0-9]{1,4})?$/.test(e))return"This field should be numeric"},Se=function(e){return e&&parseInt(e)>0&&parseInt(e)<=31?void 0:"This field is required"},Ce=Object(le.addValidator)({validator:function(e,t){if(t&&parseInt(t)<=e)return{defaultMessage:"Grater than "+e}}}),ke=Object(le.addValidator)({validator:function(e,t){if(t&&t.length>e[0])return{defaultMessage:e[1]?e[1]:"Must be ".concat(e[0]," characters or less")}}}),Ae=Object(le.addValidator)({validator:function(e,t){if(parseFloat(t)<e)return{defaultMessage:"The value should be more than 1 stroke"}}}),Me=Object(le.addValidator)({validator:function(e,t,s){if(!t)return{defaultMessage:"".concat(e.fieldName," is required")}}}),we=Object(le.addValidator)({validator:function(e,t){if(parseFloat(t)<e[0]||parseFloat(t)>e[1])return e[3]?{defaultMessage:"".concat(e[2]," must be between ").concat(e[0].toFixed(1)," and ").concat(e[1].toFixed(1))}:{defaultMessage:"".concat(e[2]," must be between ").concat(e[0]," and ").concat(e[1])}}}),Ie=Object(le.addValidator)({validator:function(e,t,s){if(s.number_of_holes){if(9===s.number_of_holes){if(t&&t<27)return{defaultMessage:"The total score is below the minimum allowed. Please recheck your score and try again."};if(t&&t>90)return{defaultMessage:"The total score is above the minimum allowed. Please recheck your score and try again."}}else if("9"===s.number_of_holes.value){if(t&&t<27)return{defaultMessage:"The total score is below the minimum allowed. Please recheck your score and try again."};if(t&&t>90)return{defaultMessage:"The total score is above the minimum allowed. Please recheck your score and try again."}}else{if(t&&t<54)return{defaultMessage:"The total score is below the minimum allowed. Please recheck your score and try again."};if(t&&t>180)return{defaultMessage:"The total score is above the minimum allowed. Please recheck your score and try again."}}if(!t)return{defaultMessage:"Please enter your score."}}}}),Te=(Object(le.addValidator)({validator:function(e,t,s){if(s.seasonStart&&s.seasonEnd&&!s.seasonAllYear){var a=ue()("".concat(s.seasonStart,"/").concat(ue()().format("YY")),"MM/DD/YY"),i=ue()("".concat(s.seasonEnd,"/").concat(ue()().format("YY")),"MM/DD/YY");if(!ue()(s.played_at).isBetween(a,i))return{defaultMessage:"Date played is outside of the active score posting season for this golf course."}}}}),Object(le.addValidator)({validator:function(e,t,s){if(s.password&&s.password.length>0&&s.confirm_password&&s.confirm_password.length>0&&s.password!==s.confirm_password)return{defaultMessage:"Passwords do not match"}}})),Ee=(Object(le.addValidator)({validator:function(e,t,s){switch(e.selectedEntryMethod){case"ghin":case"local":if(t&&!/^\d+$/.test(t))return{defaultMessage:"Only numbers allowed."};break;default:return null}}}),function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"get",value:function(e,t,s){return ne({url:"/users.json",method:"GET",params:{club_id:e,association_id:t,federation_id:s}})}},{key:"search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2?arguments[2]:void 0;return ne({url:"/users/search.json?association_id=".concat(t).concat(s&&"&club_id="+s,"&email=").concat(e),method:"GET"})}},{key:"accesses",value:function(){return ne({url:"/users/accesses.json",method:"GET"})}},{key:"insertAccess",value:function(e){return ne({url:"/users/accesses.json",method:"POST",data:e})}},{key:"deleteAccess",value:function(e){return ne({url:"/users/accesses/".concat(e),method:"DELETE"})}},{key:"insert",value:function(e){return ne({url:"/users.json",method:"POST",data:e})}},{key:"update",value:function(e,t){return ne({url:"/users/accesses/".concat(t,".json"),method:"PATCH",data:e})}},{key:"reinvite",value:function(e,t){return ne({url:"/users/accesses/".concat(e,"/reinvite.json?callback_url=").concat(t),method:"POST"})}}]),e}());function Fe(){return function(e){var t=new x.a;oe.logout({user_token:t.get("token")}),t.remove("token",{path:"/"}),t.remove("gotAlert",{path:"/"}),t.remove("closedAlert",{path:"/"}),e({type:"@@ghin/ADD_LOGIN_USER_DATA",payload:{first_name:null,last_name:null,user_id:null}}),e({type:"@@ghin/USER_AUTHENTICATED",payload:!1})}}function De(){return function(e){Ee.accesses().then((function(t){e({type:"@@ghin/ADD_USER_ACCESS",payload:t})})).catch((function(e){}))}}function Pe(e){return e.timestamp=ue()().unix()+10,{type:"@@ghin/ADD_ALERT",payload:e}}function Ge(e){return{type:"@@ghin/REMOVE_ALERT",payload:e}}function Re(e){return{type:"@@ghin/SHOW_PRODUCT_ALERTS",payload:e}}function He(e){return{type:"@@ghin/PRODUCT_ALERTS_DATA",payload:e}}var Ue=s(496),Le=s(497);function Ye(e,t){switch(t){case"edit-associations":return"super-admin"===e;case"edit-association":return"super-admin"===e||"association-admin"===e;case"edit-club":return"super-admin"===e||"association-admin"===e||"club-admin"===e;case"manage-scores":return["super-admin","association-admin","club-admin","association-score-maintenance","club-score-maintenance"].includes(e);default:return!1}}function ze(e){var t={associations:[],clubs:[]};return e.associations.length>0&&e.associations.forEach((function(e){"admin"===e.user_access.role&&t.associations.push(parseInt(e.golf_association.id))})),e.clubs.length>0&&e.clubs.forEach((function(e){"admin"===e.user_access.role&&t.clubs.push(parseInt(e.club.id))})),t}function Be(e){var t={associations:[],clubs:[]};return e.associations.length>0&&e.associations.forEach((function(e){t.associations.push(parseInt(e.golf_association.id))})),e.clubs.length>0&&e.clubs.forEach((function(e){t.clubs.push(parseInt(e.club.id))})),t}function qe(e,t,s){return t=null===t||void 0===t?"":t,s=null===s||void 0===s?"":s,e.associations.filter((function(e){return e.toString()===t.toString()})).length>0||e.clubs.filter((function(e){return e.toString()===s.toString()})).length>0}function Ve(e){return function(t){Object(l.a)(a,t);var s=Object(d.a)(a);function a(){return Object(r.a)(this,a),s.apply(this,arguments)}return Object(c.a)(a,[{key:"componentDidMount",value:function(){document.addEventListener("keypress",this._handleEnterKey.bind(this),!1)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keypress",this._handleEnterKey.bind(this),!1)}},{key:"_handleEnterKey",value:function(e){13===e.keyCode&&this.component&&this.component.refs.submit&&(this.component.refs.submit&&this.component.refs.submit.link?this.component.refs.submit.link.click():this.component.refs.submit.click())}},{key:"render",value:function(){var t=this;return Object(re.jsx)(e,Object(j.a)(Object(j.a)({},this.props),{},{onRef:function(e){return t.component=e}}))}}]),a}(i.a.Component)}var We=s(19),Ke=new x.a,Je=N.a.create({baseURL:"https://ghin-apiproxy.usga.org/api/v1".replace("/api/v1","")});Je.interceptors.request.use((function(e){return/login/.test(e.url)?(e.headers={},e):e})),Je.interceptors.response.use((function(e){return e}),(function(e){return e&&e.response&&e.response.data&&e.response.data.error&&"Invalid token"===e.response.data.error?(Ke.remove("token",{path:"/"}),se.dispatch({type:"@@ghin/USER_AUTHENTICATED",payload:!1})):Promise.reject(e)}));var $e=function(e,t){e.params=Object(j.a)({},e.params);return Ke.get("token")&&(e.headers={Authorization:"Bearer "+Ke.get("token")}),Je(e).then((function(e){return console.debug("Request Successful!",e),e.data})).catch((function(e){return Promise.reject(e.response||e.message)}))},Xe=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"globalSearch",value:function(e){return ne({url:"/global_search.json",params:e,method:"GET"})}},{key:"getTimezones",value:function(){return ne({url:"/time_zones.json",method:"GET"})}},{key:"getCountriesAndStates",value:function(){return ne({url:"/get_countries_and_states.json",method:"GET"})}},{key:"getLocationByPostalCode",value:function(e){return N.a.get("https://maps.googleapis.com/maps/api/geocode/json?address=".concat(e,"&key=AIzaSyA6lLufwnuXAob_PJubDYGjVPAkD-3HSKs&libraries=places"))}},{key:"downloadFile",value:function(e,t){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",a=document.createElement("a");a.style.display="none",document.body.appendChild(a),a.href=window.URL.createObjectURL(new Blob([e],{type:s})),a.setAttribute("download",t),a.click(),window.URL.revokeObjectURL(a.href),document.body.removeChild(a)}},{key:"arrayUnique",value:function(e){return Object(We.a)(new Set(e))}},{key:"getReports",value:function(e,t){return $e({url:"".concat("https://ghin-apiproxy.usga.org/api/v1".replace("/api/v1",""),"/reports/").concat(e,"/").concat(t),method:"GET"})}},{key:"getFederationTerms",value:function(){return ne({url:"/terms.json",method:"GET"})}},{key:"acceptTerms",value:function(){return ne({url:"/accept_terms.json",method:"POST"})}},{key:"resendDigitalProfileInvitationEmail",value:function(e,t){return ne({url:"/resend_email_after_ghin_account_verification.json".concat(t?"?association_id="+t:""),method:"POST",data:e})}}]),e}(),Qe=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={loading:!0},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("h2",{className:"modal__title",children:"USGA Admin Portal Terms of Service"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[this.state.loading&&Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",style:this.state.loading?{display:"none"}:null,children:Object(re.jsx)("div",{className:"col",children:"To continue, please read and agree to the following:"})}),Object(re.jsx)("div",{className:"row",style:this.state.loading?{display:"none"}:null,children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("iframe",{title:"Terms 1",width:"100%",id:"iframe",height:"160px",onLoad:function(){e.setState({loading:!1})},src:this.props.terms[0]})})}),this.props.terms[1]&&Object(re.jsx)("div",{className:"row",style:this.state.loading?{display:"none"}:null,children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("iframe",{title:"Terms 2",width:"100%",id:"iframe",height:"160px",src:this.props.terms[1]})})}),this.props.terms[2]&&Object(re.jsx)("div",{className:"row",style:this.state.loading?{display:"none"}:null,children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("iframe",{title:"Terms 3",width:"100%",id:"iframe",height:"160px",src:this.props.terms[2]})})}),Object(re.jsxs)("div",{className:"row",style:this.state.loading?{display:"none"}:null,children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.onDecline()},className:"btn fill gray",children:"Decline"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"submit",onClick:function(){e.setState({loading:!0}),e.props.onConfirm()},className:"btn fill blue",children:"I Agree"})})]})]})]})]})})}}]),s}(a.Component),Ze=s(13),et=s.n(Ze),tt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={termsModal:!1,terms:[],user:null,termsToSave:null,error:null},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.toggleAlert(!0),et.a.setAppElement("body")}},{key:"onSubmit",value:function(e){var t=this;return oe.login({user:e}).then((function(s){(new x.a).set("token",s.token,{path:"/",expires:e.remember_me?null:new Date((new Date).getTime()+864e5)}),t.getTerms().then((function(e){if(!s||!s.token)throw new O.a({email:"No user permissions defined"});s.terms_accepted?t.termsAccepted(s.user):Xe.getFederationTerms().then((function(e){t.setState({termsModal:!0,user:s.user})})).catch((function(e){console.log(e)}))}))})).catch((function(e){throw new O.a({email:"Invalid email or password",password:"Invalid email or password"})}))}},{key:"getTerms",value:function(){var e=this;return Xe.getFederationTerms().then((function(t){e.setState({terms:Object.keys(t.terms).map((function(e){return t.terms[e]})),termsToSave:t.terms})})).catch((function(e){console.log(e)}))}},{key:"acceptTerms",value:function(){var e=this;Xe.acceptTerms().then((function(t){e.termsAccepted(e.state.user)})).catch((function(e){console.log(e)}))}},{key:"closeModal",value:function(){this.setState({termsModal:!1},(function(){(new x.a).remove("token",{path:"/"})}))}},{key:"termsAccepted",value:function(e){var t=this;return this.props.dispatch({type:"@@ghin/ADD_LOGIN_USER_DATA",payload:e}),Ee.accesses().then((function(s){var a=new x.a;s.email=e.email;var i=function(e){if(e){if(e.clubs=e.clubs.filter((function(e){return e.user_access&&"true"===e.user_access.active})),e.associations=e.associations.filter((function(e){return e.user_access&&"true"===e.user_access.active})),e.federations=[],0===e.associations.length&&0===e.clubs.length&&0===e.federations.length&&"false"===e.super_user)return null;var t={};return t.homepage=function(e,t){return"true"===e.super_user?"/manage":1===e.associations.length&&0===e.clubs.length?"/manage/association/".concat(e.associations[0].golf_association.id):0===e.associations.length&&1===e.clubs.length?"/manage/association/".concat(e.clubs[0].user_access.association_id,"/club/").concat(e.clubs[0].club.id):void 0}(e),t.super_user="true"===e.super_user,t.reporting_token=e.reporting_token,t.notification_user=1===Ue.emails.filter((function(t){return t===e.email})).length,t.upload_user=1===Le.emails.filter((function(t){return t===e.email})).length,delete e.email,t.canChangeAffiliation=e.associations.length>1||e.clubs.length>1||e.federations.length>1||e.associations.length+e.clubs.length+e.federations.length>1,t.association_role=1===e.associations.length?e.associations[0].user_access.role:null,t.club_role=1===e.clubs.length?e.clubs[0].user_access.role:null,t.default_club_id=0,t.default_association_id=0,t.user_type="true"===e.super_user?"super-admin":t.association_role?"admin"===t.association_role?"association-admin":"read_only"===t.association_role?"association-read-only":"score_maintenance"===t.association_role?"association-score-maintenance":"score-only":t.club_role?"admin"===t.club_role?"club-admin":"read_only"===t.club_role?"club-read-only":"score_maintenance"===t.club_role?"club-score-maintenance":"score-only":"read-only",!["club-admin","club-read-only","club-score-maintenance"].includes(t.user_type)&&!t.club_role||t.canChangeAffiliation||(t.default_association_id=parseInt(e.clubs[0].user_access.association_id),t.default_association_name=e.clubs[0].user_access.association_name,t.default_club_id=parseInt(e.clubs[0].club.id),t.default_club_name=e.clubs[0].user_access.organization_name,t.reporting_token=e.clubs[0].user_access.reporting_token),!["association-admin","association-read-only","association-score-maintenance"].includes(t.user_type)&&!t.association_role||t.canChangeAffiliation||(t.default_association_id=parseInt(e.associations[0].golf_association.id),t.default_association_name=e.associations[0].user_access.organization_name,t.reporting_token=e.associations[0].user_access.reporting_token),t}return null}(s);i?(t.props.dispatch({type:"@@ghin/ADD_USER_PARSED_ACCESS",payload:i}),t.props.dispatch({type:"@@ghin/ADD_USER_ACCESS",payload:s}),t.props.dispatch({type:"@@ghin/ADD_TERMS",payload:t.state.termsToSave}),t.props.dispatch({type:"@@ghin/USER_AUTHENTICATED",payload:!!a.get("token")})):(t.props.logoutUser(),t.setState({error:"Your account is inactive"}))})).catch((function(e){t.setState({error:"Your account is inactive"})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.pristine,i=t.submitting;return Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("section",{className:"auth",children:Object(re.jsxs)("div",{className:"auth__container",children:[Object(re.jsx)("div",{className:"auth__head",children:"USGA Admin Portal Log In"}),Object(re.jsxs)("div",{className:"auth__body",children:[Object(re.jsx)("div",{className:"usga__logo push-right"}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsxs)("div",{className:"f-col",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email Address ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he,fe],className:"input",component:ce,type:"text",name:"email",id:"email"})]})}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsxs)("div",{className:"f-col",children:[Object(re.jsxs)("label",{htmlFor:"password",children:["Password ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],className:"input",component:ce,type:"password",name:"password",id:"password"})]})}),Object(re.jsxs)("div",{className:"f-row",children:[Object(re.jsxs)("div",{className:"f-col auto",children:[Object(re.jsx)(g.a,{className:"input small",component:"input",type:"checkbox",name:"remember_me",id:"remember_me"}),Object(re.jsx)("label",{htmlFor:"remember_me",children:"Remember Me"})]}),Object(re.jsx)("div",{className:"f-col auto text-align-right",children:Object(re.jsx)(f.NavLink,{className:"form-link",to:"/auth/recovery",children:"Forgot your password?"})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{disabled:a||i,type:"submit",ref:"submit",className:"btn full fill blue",children:"Log In"})})}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",style:{textAlign:"center"},children:this.state.error})]})]})}),Object(re.jsx)(et.a,{isOpen:this.state.termsModal,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Qe,{onConfirm:function(){return e.acceptTerms()},closeModal:function(){return e.closeModal()},onDecline:function(){return e.closeModal()},terms:this.state.terms})})]})}}]),s}(a.Component);tt=Object(_.a)({form:"authForm",destroyOnUnmount:!0})(tt);var st=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){var t=Object(v.b)({getUserAccess:De,logoutUser:Fe,toggleAlert:Re},e);return Object(j.a)({dispatch:e},t)}))(Ve(tt)),at=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={emailSent:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this;return oe.sendResetEmail(Object(j.a)(Object(j.a)({},e),{},{callback_url:window.location.origin+"/auth/reset/"})).then((function(e){t.setState({emailSent:!0})})).catch((function(e){throw new O.a({email:e.data.error})}))}},{key:"render",value:function(){var e=this.props.handleSubmit;return Object(re.jsx)("form",{autoComplete:"off",onSubmit:e(this.onSubmit),children:Object(re.jsx)("section",{className:"auth",children:Object(re.jsxs)("div",{className:"auth__container",children:[Object(re.jsx)("div",{className:"auth__head",children:"Forgot Password"}),Object(re.jsxs)("div",{className:"auth__body",children:[Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)("div",{className:"f-col",children:Object(re.jsx)("p",{className:"f-paragraph",children:this.state.emailSent?"An email regarding your password change has been sent to your email address.":"Please enter your email address to reset your password:"})})}),!this.state.emailSent&&Object(re.jsx)("div",{className:"f-row",children:Object(re.jsxs)("div",{className:"f-col",children:[Object(re.jsxs)("label",{htmlFor:"username",children:["Email",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he,fe],component:ce,type:"text",name:"email",id:"email"})]})}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsxs)("div",{className:"f-col",children:[!this.state.emailSent&&Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn full fill blue",children:"Submit"}),this.state.emailSent&&Object(re.jsx)(f.NavLink,{className:"btn full fill blue",to:"/auth/login",children:"Back to Login"})]})}),!this.state.emailSent&&Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)("div",{className:"f-col auto justify-center",children:Object(re.jsx)(f.NavLink,{className:"form-link",to:"/auth/login",children:"Back to Login"})})})]})]})})})}}]),s}(a.Component);at=Object(_.a)({form:"recoveryForm",destroyOnUnmount:!0})(at);var it=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(at)),nt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1,error:null},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=this;return oe.resetPassword({password:e.password,reset_password_token:this.props.match.params.reset_password_token}).then((function(e){e&&e.user&&e.user.email&&t.setState({success:!0})})).catch((function(e){console.log(e),t.setState({error:t.props.setPassword?"Set password token is invalid":"Reset password token is invalid"})}))}},{key:"componentDidMount",value:function(){this.props.match||this.props.match.params||this.props.match.params.reset_password_token||this.props.history.push("/")}},{key:"render",value:function(){var e=this,t=this.props,s=t.setPassword,i=t.handleSubmit,n=t.pristine,o=t.submitting;return Object(re.jsx)("form",{autoComplete:"off",onSubmit:i(this.onSubmit),children:Object(re.jsx)("section",{className:"auth",children:Object(re.jsxs)("div",{className:"auth__container",children:[Object(re.jsxs)("div",{className:"auth__head",children:["USGA Password ",s?"Set":"Reset"]}),Object(re.jsxs)("div",{className:"auth__body",children:[Object(re.jsx)("div",{className:"usga__logo push-right"}),this.state.success?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)("div",{className:"f-col",children:Object(re.jsx)("label",{htmlFor:"password",children:"Password set successfully"})})}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)("div",{className:"f-col",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.history.push("/auth/login")},className:"btn full fill blue",children:"Admin Portal Login"})})})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"f-row",children:Object(re.jsxs)("div",{className:"f-col",children:[Object(re.jsxs)("label",{htmlFor:"password",children:["New Password ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he,Te()],className:"input",component:ce,type:"password",name:"password",id:"password"})]})}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsxs)("div",{className:"f-col",children:[Object(re.jsxs)("label",{htmlFor:"confirm_password",children:["Confirm Password ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he,Te()],className:"input",component:ce,type:"password",name:"confirm_password",id:"confirm_password"})]})}),this.state.error&&Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)("div",{className:"f-col",children:Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error})})}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)("div",{className:"f-col",children:Object(re.jsx)("button",{disabled:n||o,type:"submit",ref:"submit",className:"btn full fill blue",children:s?"Set password":"Reset password"})})})]})]})]})})})}}]),s}(a.Component);nt=Object(_.a)({form:"recoveryForm",destroyOnUnmount:!0,touchOnBlur:!1})(nt);var ot=Object(u.o)(Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(nt))),rt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container very-narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon"}),Object(re.jsx)("h2",{className:"modal__title",children:"Important Alert"})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:this.props.data.message_title})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:this.props.data.message_body})})}),Object(re.jsx)("div",{className:"row no-margin",children:Object(re.jsx)("div",{className:"col is-1-of-2 push-right",children:Object(re.jsx)("button",{type:"submit",ref:"submit",onClick:function(){return e.props.closeModal()},className:"btn fill another-red",children:"Close"})})})]})]})})}}]),s}(a.Component),ct=N.a.create({baseURL:"https://ghin-apiproxy.usga.org/api/v1"}),lt=function(e,t){return e.params=Object(j.a)({},e.params),ct(e).then(A).catch(k)},dt=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getAlerts",value:function(e,t){return lt({url:"federations/1/product_alerts.json?active=".concat(e,"&source=").concat(t),method:"GET"})}},{key:"updateAlert",value:function(e){return ne({url:"federations/1/product_alerts.json",method:"POST",data:e})}},{key:"getVersionNumbers",value:function(){return ne({url:"federations/1/version_numbers.json?source=all",method:"GET"})}},{key:"updateVersionNumbers",value:function(e){return ne({url:"federations/1/version_numbers.json",method:"POST",data:e})}}]),e}(),ut=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={showAlert:!1,infoModal:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;(new x.a).get("gotAlert")||dt.getAlerts("true","admin").then((function(t){if(t.product_alerts.length>0){e.props.saveAlert(t.product_alerts[0]),(new x.a).set("gotAlert",!0,{path:"/",expires:new Date((new Date).getTime()+72e5)})}else{e.props.toggleAlert(!1),e.props.saveAlert();var s=new x.a;s.remove("gotAlert",{path:"/"}),s.remove("closedAlert",{path:"/"})}})).catch((function(e){console.log(e)})),(new x.a).get("closedAlert")||this.props.toggleAlert(!0)}},{key:"hideAlert",value:function(){(new x.a).set("closedAlert",!0,{path:"/",expires:new Date((new Date).getTime()+864e5)}),this.props.toggleAlert(!1)}},{key:"showModal",value:function(){this.setState({infoModal:!0})}},{key:"closeModal",value:function(){this.setState({infoModal:!1})}},{key:"render",value:function(){var e=this,t=this.props,s=t.alert,i=t.showAlert;return s&&i?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"main__alert",onClick:function(){return e.showModal()},children:[Object(re.jsx)("div",{className:"icon"}),Object(re.jsx)("span",{children:s.banner_alert_message})]}),Object(re.jsx)("button",{className:"hide_alert",onClick:function(){e.hideAlert()}}),Object(re.jsx)(et.a,{isOpen:this.state.infoModal,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"custom__modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(rt,{data:s,closeModal:function(){return e.closeModal()}})})]}):null}}]),s}(a.Component);var ht=Object(p.c)((function(e){return{showAlert:e.productAlerts.showAlert,alert:e.productAlerts.alert,enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({toggleAlert:Re,saveAlert:He},e)}))(ut),pt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={interval:null},e.interval=e.interval.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=setInterval(this.interval,1e3);if(this.setState({interval:e}),this.props.isAuthenticated){if(this.props.access&&this.props.user.first_name&&this.props.user.last_name)return this.props.access.canChangeAffiliation?this.props.access.homepage?this.props.history.push(this.props.access.homepage):this.props.history.push("/affiliation/select"):this.props.history.push(this.props.access.homepage);(new x.a).remove("token",{path:"/"})}}},{key:"interval",value:function(){if(window.$zopim){var e=document.getElementById("launcher");e&&(e.style.display="none")}}},{key:"componentDidUpdate",value:function(e,t,s){if(this.props.isAuthenticated!==e.isAuthenticated)return this.props.access.canChangeAffiliation?this.props.access.homepage?this.props.history.push(this.props.access.homepage):this.props.history.push("/affiliation/select"):this.props.history.push(this.props.access.homepage)}},{key:"componentWillUnmount",value:function(){clearInterval(this.state.interval)}},{key:"render",value:function(){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(ht,{}),Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"/auth/",to:"/auth/login"}),Object(re.jsx)(u.d,{path:"/auth/login",component:st}),Object(re.jsx)(u.d,{path:"/auth/recovery",component:it}),Object(re.jsx)(u.d,{path:"/auth/reset/:reset_password_token",component:ot}),Object(re.jsx)(u.d,{path:"/auth/set/:reset_password_token",component:function(){return Object(re.jsx)(ot,{setPassword:!0})}})]})]})}}]),s}(a.Component);var mt=Object(p.c)((function(e){return{isAuthenticated:e.auth.isAuthenticated,access:e.user.access,user:e.user}}),null)(pt),bt=s(282),jt=s.n(bt),ft=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={alerts:[]},a}return Object(c.a)(s,[{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"componentDidUpdate",value:function(e){e.alerts.length!==this.props.alerts.length&&this.setState({alerts:this.props.alerts})}},{key:"componentDidMount",value:function(){var e=this,t=this;this.interval=setInterval((function(){e.state.alerts.length>0&&e.state.alerts.map((function(e,s){return ue()().unix()>e.timestamp&&t.removeElement(s),null}))}),1e3)}},{key:"removeElement",value:function(e){this.props.removeAlert(e)}},{key:"render",value:function(){var e=this;return Object(re.jsx)("div",{className:"alerts_list",children:this.state.alerts.length>0&&this.state.alerts.map((function(t,s){return Object(re.jsxs)("li",{className:t.type,onClick:function(){e.removeElement(s)},children:[Object(re.jsxs)("span",{className:"alert-label",children:[t.type,":"]}),Object(re.jsx)("span",{className:"alert-message",children:t.message})]},s)}))})}}]),s}(a.Component);var Ot=Object(p.c)((function(e){return{alerts:e.alerts}}),(function(e){return Object(v.b)({removeAlert:Ge},e)}))(ft),gt=s(60),_t=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("h2",{className:"modal__title",children:"Are you sure you want to log out?"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"submit",onClick:function(){return e.props.logoutUser()},className:"btn fill blue",children:"Continue"})})]})})]})})}}]),s}(a.Component);var vt=Object(p.c)(null,(function(e){return Object(v.b)({logoutUser:Fe},e)}))(_t),xt=s(498),yt=function(e){return Object(re.jsxs)("div",{children:[Object(re.jsx)(gt.a,{id:"state-select",className:"".concat(e.className," ").concat(e.meta.touched&&e.meta.error?"is-error":""),clearable:!1,classNamePrefix:"react-select",value:e.input.value,onChange:e.input.onChange,onBlur:function(t){return xt.isMobile?t.preventDefault():e.input.onBlur(e.input.value)},options:e.options,name:e.input.name,style:e.style,isMulti:e.isMulti,isDisabled:e.disabled,noOptionsMessage:function(){if(e.noOptionsMessage)return e.noOptionsMessage},backspaceRemoves:e.backspaceRemoves,searchable:e.searchable||!1}),!e.hideErrorMessages&&e.meta.touched&&e.meta.error&&Object(re.jsx)("p",{className:"validation__message is-error",children:e.meta.error})]})},Nt=s(139),St=s.n(Nt),Ct=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],clubs:[],options:[],selectedAssociation:null,hasAdditionalStep:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.buildOptions()}},{key:"onSubmit",value:function(e){var t={};if(this.state.options.length>0)if(e.association.isClubDerived)switch(t.homepage="score_only"!==e.association.role?"/manage/association/".concat(e.association.association_id,"/club/").concat(e.association.value):"/rapid-score-entry",t.default_association_id=e.association.association_id,t.default_association_name=e.association.association_name,t.club_role=e.association.role,t.reporting_token=e.association.reporting_token,t.default_club_id=e.association.value,t.default_club_name=e.association.club_name,t.canChangeAffiliation=!0,t.association_role=null,t.super_user=!1,e.association.role){case"admin":t.user_type="club-admin";break;case"read_only":t.user_type="club-read-only";break;case"score_maintenance":t.user_type="club-score-maintenance";break;case"score_only":t.user_type="score-only"}else{switch(t.homepage="score_only"!==e.association.role?"/manage/association/".concat(e.association.value):"/rapid-score-entry",t.default_association_id=e.association.value,t.default_association_name=e.association.label,t.default_club_id=0,t.default_club_name=null,t.club_role=null,t.reporting_token=e.association.reporting_token,t.association_role=e.association.role,e.association.role){case"admin":t.user_type="association-admin";break;case"read_only":t.user_type="association-read-only";break;case"score_maintenance":t.user_type="association-score-maintenance";break;case"score_only":t.user_type="score-only"}t.canChangeAffiliation=!0,t.super_user=!1}this.props.dispatch({type:"@@ghin/ADD_USER_PARSED_ACCESS",payload:t})}},{key:"componentWillUpdate",value:function(e,t,s){this.props.access.homepage!==e.access.homepage&&(this.props.closeModal&&this.props.closeModal(),this.props.history.push("/manage")),this.props.access.default_association_id===e.access.default_association_id&&this.props.access.default_club_id===e.access.default_club_id||"score-only"!==e.access.user_type||(this.props.closeModal&&this.props.closeModal(),this.props.history.push("/auth"))}},{key:"buildOptions",value:function(){var e=this,t=this.props.associations.map((function(e){return{value:e.golf_association.id,label:e.user_access.organization_name,association_id:e.golf_association.id,association_name:e.user_access.organization_name,role:e.user_access.role,isClubDerived:!1,reporting_token:e.user_access.reporting_token}})),s=this.props.clubs.map((function(e){return{value:e.club.id,label:e.user_access.organization_name+" - "+e.user_access.association_name,club_name:e.user_access.organization_name,isClubDerived:!0,role:e.user_access.role,association_id:e.user_access.association_id,association_name:e.user_access.association_name,reporting_token:e.user_access.reporting_token}})),a=St()([].concat(Object(We.a)(t),Object(We.a)(s)),(function(e){return e.value}));this.setState({options:a.sort((function(e,t){return e.label.localeCompare(t.label)}))},(function(){e.props.access&&e.props.initialize({association:e.state.options.filter((function(t){return e.props.access.default_club_id?t.value===e.props.access.default_club_id&&t.isClubDerived:t.association_id===e.props.access.default_association_id&&!t.isClubDerived}))[0]})}))}},{key:"closeModal",value:function(e){this.props.homepage?(e.preventDefault(),this.props.closeModal()):this.props.logoutUser()}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.pristine,i=t.submitting;return Object(re.jsx)("section",{className:this.props.homepage?"":"auth",children:Object(re.jsx)(et.a,{isOpen:!0,contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Select Account to Manage"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.homepage?e.props.closeModal():e.props.logoutUser()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[this.state.options.length>0&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"association",children:["Change Account ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{options:this.state.options,className:"association_name",validate:[he],component:yt,type:"text",name:"association",id:"association"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{onClick:function(t){return e.closeModal(t)},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:a||i,type:"submit",ref:"submit",className:"btn fill blue",children:"Submit"})})]})]})})]})})})}}]),s}(a.Component);Ct=Object(_.a)({form:"affiliationChangeAssociationForm",destroyOnUnmount:!0})(Ct);var kt=Object(u.o)(Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,associations:e.user.rawAccess.associations,clubs:e.user.rawAccess.clubs,homepage:e.user.access.homepage,access:e.user.access,rawAccess:e.user.rawAccess}}),(function(e){return Object(v.b)({logoutUser:Fe},e)}))(Ct)),At=[{placeholder:"Enter Name, GHIN # or Email Address",label:"Golfer",value:"golfer"},{placeholder:"Enter Club Name or Number",label:"Club",value:"club"},{placeholder:"Enter Association Name or Number",label:"Association",value:"association"},{placeholder:"Enter Name, GHIN # or Email Address",label:"Guardian",value:"guardian"}],Mt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={logOutModalIsOpen:!1,affiliationSelectIsOpen:!1,selectedSearchObject:0,searchText:""},a.openLogOutModal=a.openLogOutModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openLogOutModal",value:function(){this.setState({logOutModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({logOutModalIsOpen:!1})}},{key:"onSearchTextChange",value:function(e){this.setState({searchText:e.target.value,objectNotFound:!1})}},{key:"performSearch",value:function(e){this.props.history.push("/search/".concat(At[this.state.selectedSearchObject].value,"?q=").concat(encodeURI(this.state.searchText))),this.setState({searchText:""}),e.preventDefault()}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(Ot,{}),Object(re.jsxs)("header",{children:[Object(re.jsx)(ht,{}),Object(re.jsx)("div",{className:"container",children:Object(re.jsxs)("div",{className:"header__container row",children:[Object(re.jsxs)("div",{className:"logo__container col is-1-of-4 push-left",children:[Object(re.jsx)("h1",{className:"usga__logo",children:"USGA Logo"}),Object(re.jsxs)("span",{children:["Admin"," ",Object(re.jsx)("br",{})," Portal"]})]}),"score-only"!==this.props.access.user_type&&Object(re.jsxs)("form",{onSubmit:function(t){e.state.searchText?e.performSearch(t):t.preventDefault()},className:"search__container col auto push-right",children:[this.state.objectNotFound&&Object(re.jsx)("p",{children:"Not found"}),Object(re.jsx)(gt.a,{className:"react-select-container",classNamePrefix:"react-select",options:At,isSearchable:!1,isMulti:!1,value:At[this.state.selectedSearchObject],onChange:function(t){e.setState({selectedSearchObject:At.indexOf(t),objectNotFound:!1})}}),Object(re.jsx)("input",{className:"search",onChange:this.onSearchTextChange.bind(this),type:"text",autoComplete:"off",name:"search",id:"search",placeholder:At[this.state.selectedSearchObject].placeholder,value:this.state.searchText||""}),Object(re.jsx)("button",{className:"btn search",type:"submit",ref:"submit",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"search"})})]}),Object(re.jsx)("div",{className:"profile__container col",children:Object(re.jsxs)(jt.a,{children:[Object(re.jsxs)(bt.DropdownTrigger,{children:[this.props.user.first_name," ",this.props.user.last_name,Object(re.jsx)("i",{className:"material-icons-outlined",children:"keyboard_arrow_down"})]}),Object(re.jsx)(bt.DropdownContent,{children:Object(re.jsxs)("ul",{children:[this.props.access.canChangeAffiliation&&Object(re.jsx)("li",{children:Object(re.jsx)("div",{onClick:function(){return e.setState({affiliationSelectIsOpen:!0})},className:"dropdown__option",children:"Change Account"})}),Object(re.jsx)("li",{children:Object(re.jsx)("div",{onClick:function(){return e.openLogOutModal()},className:"dropdown__option",children:"Log Out"})})]})})]})})]})})]}),Object(re.jsx)(et.a,{isOpen:this.state.logOutModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(vt,{closeModal:function(){e.closeModal()}})}),this.props.access.canChangeAffiliation&&this.state.affiliationSelectIsOpen&&Object(re.jsx)(kt,{closeModal:function(){return e.setState({affiliationSelectIsOpen:!1})}})]})}}]),s}(a.Component);var wt=Object(p.c)((function(e){return{user:e.user,access:e.user.access}}),(function(e){return Object(v.b)({logoutUser:Fe,addAlert:Pe},e)}))(Object(u.o)(Mt)),It=(s(449),function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={logOutModalIsOpen:!1},a.openLogOutModal=a.openLogOutModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openLogOutModal",value:function(){this.setState({logOutModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({logOutModalIsOpen:!1})}},{key:"render",value:function(){var e=this,t=(new x.a).get("token");return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("nav",{children:Object(re.jsx)("div",{className:"container",children:Object(re.jsxs)("ul",{className:"navigation__container",children:["score-only"!==this.props.user_type&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"nav__link",to:this.props.homepage,activeClassName:"is-active",children:"Manage"})}),Object(re.jsxs)(a.Fragment,{children:[("super-admin"===this.props.user_type||"association-admin"===this.props.user_type||"association-score-maintenance"===this.props.user_type||"club-admin"===this.props.user_type||"club-score-maintenance"===this.props.user_type||"score-only"===this.props.user_type)&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"nav__link",to:"/rapid-score-entry",activeClassName:"is-active",children:"Rapid Score Entry"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"nav__link",to:"/merges",activeClassName:"is-active",children:"Merges"})}),"score-only"!==this.props.user_type&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"nav__link",to:"/reports",activeClassName:"is-active",children:"Reports"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type||"association-read-only"===this.props.user_type||"association-score-maintenance"===this.props.user_type)&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"nav__link",to:"/advanced-reports",activeClassName:"is-active",children:"Advanced Reports"})}),"score-only"!==this.props.user_type&&Object(re.jsx)("li",{children:Object(re.jsx)("a",{className:"nav__link",target:"_blank",rel:"noreferrer",href:"https://usgasupport.zendesk.com/hc/en-us",children:"Tools & Resources"})})]}),this.props.upload_user&&Object(re.jsx)("li",{children:Object(re.jsx)("a",{className:"nav__link",target:"_blank",rel:"noreferrer",href:"http://uploads.hcp2020.com/upload_files?token=".concat(t),children:"Uploads"})}),"super-admin"===this.props.user_type&&Object(re.jsx)("li",{children:Object(re.jsx)("a",{className:"nav__link",target:"_blank",rel:"noreferrer",href:"https://ghin-apiproxy.usga.org/api/v1"+"/sso?token=".concat(t,"&redirect=/user_management"),children:"User Management"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("li",{children:Object(re.jsxs)("a",{className:"nav__link",target:"_blank",rel:"noreferrer",href:"https://usgasupport.canny.io/",children:["Ideas ",Object(re.jsxs)("span",{children:[Object(re.jsx)("i",{className:"fa fa-lightbulb-o set__bulb__icon"}),Object(re.jsx)("span",{className:"empty__space"})]})," "]})}),Object(re.jsx)("li",{className:"push__right",children:Object(re.jsx)("a",{href:"#donothing",className:"nav__link",onClick:function(t){t.preventDefault(),e.openLogOutModal()},children:"Log Out"})})]})})}),Object(re.jsx)(et.a,{isOpen:this.state.logOutModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(vt,{closeModal:function(){e.closeModal()}})})]})}}]),s}(a.Component));var Tt=Object(p.c)((function(e){return{homepage:e.user.access.homepage,user_type:e.user.access.user_type,upload_user:e.user.access.upload_user}}),(function(e){return Object(v.b)({logoutUser:Fe},e)}))(It),Et=s(30),Ft=s(499),Dt=s.n(Ft),Pt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"render",value:function(){var e,t=this,s=(e={"/":null,"/manage/association-list":"Association List","/users":"Users","/rapid-score-entry":"Rapid Score Entry","/users/:id/info":"User Info","/users/:id/posts/:p_id":"Post :p_id by :id","/manage/association":function(){return null},"/manage/associations":function(){return null},"/manage/associations/list":function(){return null},"/manage/association/:id":function(){return t.props.canSeeAssociationName?t.props.association.name:null},"/manage/guardian/:id":function(){return t.props.guardian?t.props.guardian:null},"/manage/guardian/:id/account/minor-management":"Guardianship","/manage/association/:id/list":function(){return null},"/manage/association/:id/account/newsletter_setup":"Newsletter-Setup","/manage/association/:association_id/club/:id":function(){return t.props.canSeeAssociationName||t.props.canSeeClubName?t.props.club.club_name:null},"/manage/association/:association_id/club":null,"/manage/association/:association_id/club/:id/list":null,"/manage/association/:association_id/club/:id/golfer":null},Object(Et.a)(e,"/manage/association/:association_id/club/:id/golfer/"+this.props.golfer_encoded_id,(function(){return t.props.golfer})),Object(Et.a)(e,"/manage/association/:association_id/club/:club_id/golfer/:golfer_id/account/minor-management","Guardianship"),Object(Et.a)(e,"/reports/my-reports","My Reports"),Object(Et.a)(e,"/reports/scheduled-reports","Scheduled Reports"),Object(Et.a)(e,"/reports/email-deliveries","Email Deliveries"),e);return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"breadcrumbs__nav",children:Object(re.jsx)("div",{className:"container",children:Object(re.jsx)(Dt.a,{mappedRoutes:s,WrapperComponent:function(e){return Object(re.jsx)("ol",{className:"breadcrumb",children:e.children})},ActiveLinkComponent:function(e){return Object(re.jsx)("li",{className:"breadcrumb-item ".concat("Newsletter-Setup"===e.children?"revision":""),children:e.children})},LinkComponent:function(e){return Object(re.jsx)("li",{className:"breadcrumb-item ".concat("Newsletter-Setup"===e.children?"revision":""),children:e.children})}})})})})}}]),s}(a.Component),Gt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"mail_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Association Support"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-5 jc-fs",children:Object(re.jsx)("span",{className:"label24",children:"Email:"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("a",{className:"mailto_lnk",href:"mailto:customersupport@usga.org",children:"customersupport@usga.org"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-5 jc-fs",children:Object(re.jsx)("span",{className:"label24",children:"Support Hours:"})}),Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Monday-Friday: 7:30 am - 7:00 pm (EST)"})}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Saturday & Sunday: 9:00 am - 5:00 pm (EST)"})})]})]})]})]})})}}]),s}(a.Component),Rt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={ContactUsModalIsOpen:!1},a.openContactUsModal=a.openContactUsModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){if("super-admin"===this.props.access.user_type||"association-admin"===this.props.access.user_type||"association-read-only"===this.props.access.user_type){if(window.$zopim){var e=document.getElementById("launcher");e&&(e.style.display="block",e.style.width="auto")}}else if(window.$zopim){var t=document.getElementById("launcher");t&&(t.style.display="none")}}},{key:"componentWillUnmount",value:function(){if(window.$zopim){var e=document.getElementById("launcher");e&&(e.style.display="none")}}},{key:"openContactUsModal",value:function(){this.setState({ContactUsModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({ContactUsModalIsOpen:!1})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("footer",{ref:function(t){return e.div=t},children:Object(re.jsx)("div",{className:"container",children:Object(re.jsxs)("div",{className:"footer__container",children:[Object(re.jsxs)("ul",{className:"footer__navigation",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){return e.openContactUsModal()},className:"btn lnk footer_lnk",children:"Contact Us"})}),this.props.terms.policies&&Object(re.jsx)("li",{children:Object(re.jsx)("a",{className:"footer__navigation__link",href:this.props.terms.policies,target:"_blank",rel:"noreferrer",children:"Privacy Policy"})}),this.props.terms.ghin_terms&&Object(re.jsx)("li",{children:Object(re.jsx)("a",{className:"footer__navigation__link",href:this.props.terms.ghin_terms,target:"_blank",rel:"noreferrer",children:"GHIN Terms of Service"})}),this.props.terms.admin_terms&&Object(re.jsx)("li",{children:Object(re.jsx)("a",{className:"footer__navigation__link",href:this.props.terms.admin_terms,target:"_blank",rel:"noreferrer",children:"Admin Portal Terms of Service"})})]}),Object(re.jsx)("div",{className:"footer__copyright",children:Object(re.jsxs)("p",{children:["\xa9 ",ue()().format("YYYY")," United States Golf Association. All Rights Reserved."]})})]})})}),Object(re.jsx)(et.a,{isOpen:this.state.ContactUsModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Gt,{closeModal:function(){e.closeModal()}})})]})}}]),s}(a.Component);var Ht=Object(p.c)((function(e){return{user:e.user,terms:e.terms,access:e.user.access}}),null)(Rt),Ut=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{onClick:function(){e.props.showSearch()},className:"btn outline gray",children:"Search for Existing Golfer"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{onClick:function(){e.props.showAdd()},className:"btn outline gray",children:"Add New Golfer"})})]})})}}]),s}(a.Component),Lt=s(484),Yt=N.a.create({baseURL:"".concat("https://ghin-apiproxy.usga.org/api/v1")}),zt=function(e,t){return e.params=Object(j.a)({action:"show",controller:"api/v1/orchestration",format:"json"},e.params),e.headers=Object(j.a)({Accept:"text/html","Content-Type":"application/x-www-form-urlencoded"},e.headers),e.method||(e.method="POST"),Yt(e).then(A).catch(k)},Bt=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getAllGolfers",value:function(e,t){return ne({url:"/clubs/".concat(e,"/golfers/get_all.json"),method:"GET",params:t})}},{key:"getHandicapHistoryLastYear",value:function(e){return ne({url:"/golfers/".concat(e,"/handicap_history_last_year.json")})}},{key:"findGolferByGHIN",value:function(e){return zt({url:"/golfermethods.asmx/FindGolfer.json?ghinNumber=".concat(e,"&association=0&club=0")})}},{key:"getGolferByGHIN",value:function(e){return ne({url:"/search_golfer.json?golfer_id=".concat(e)})}},{key:"getGolfer",value:function(e,t){return ne({url:"/search_golfer.json?".concat(e,"=").concat(t)})}},{key:"addGolfer",value:function(e,t){return ne({url:"/clubs/".concat(t,"/golfers.json"),method:"POST",data:e})}},{key:"addExistingGolfer",value:function(e,t){return ne({url:"/golfers/add_to_club.json",method:"POST",data:e})}},{key:"findGolferByGhinOrEmail",value:function(e,t){return ne({url:"/search_golfer.json?".concat(e?"golfer_id="+e:"").concat(t?"email="+t:""),method:"GET"})}},{key:"findGolferByNameAndState",value:function(e){return ne({url:"/search_golfer.json?",params:e,method:"GET"})}},{key:"getGolfers",value:function(e){return ne({url:"/golfers.json",params:e})}},{key:"getGolferSubscriptions",value:function(e){return ne({url:"/golfers/".concat(e,"/subscriptions.json"),method:"GET"})}},{key:"getGolferGpsSubscriptions",value:function(e){return ne({url:"/golfers/".concat(e,"/gps_subscriptions.json"),method:"GET"})}},{key:"getGolferNotificationsPreferences",value:function(e){return ne({url:"/golfers/".concat(e,"/notification_preference.json"),method:"GET"})}},{key:"resetFreeTrial",value:function(e){return ne({url:"/golfers/".concat(e,"/gps_free_trials.json"),method:"Patch"})}},{key:"activateGolfers",value:function(e,t,s,a){return s&&(t.from_date=s),ne({url:"/clubs/".concat(e,"/golfers/activate.json"),method:"POST",params:Object(j.a)({},a),data:t})}},{key:"inactivateGolfers",value:function(e,t,s,a){return s&&(t.from_date=s),ne({url:"/clubs/".concat(e,"/golfers/inactivate.json"),method:"POST",params:Object(j.a)({},a),data:t})}},{key:"createGolferGroup",value:function(e,t){return ne({url:"/clubs/".concat(e,"/golfer_groups.json"),method:"POST",data:t})}},{key:"deleteGolferGroup",value:function(e,t){return ne({url:"/clubs/".concat(e,"/golfer_groups/").concat(t,".json"),method:"DELETE"})}},{key:"updateGolferGroup",value:function(e,t,s){return ne({url:"/clubs/".concat(e,"/golfer_groups/").concat(t,".json"),method:"PATCH",data:s})}},{key:"getGroups",value:function(e){return ne({url:"/clubs/".concat(e,"/golfer_groups.json"),method:"GET"})}},{key:"getScores",value:function(e){return ne({url:"/golfers/".concat(e,"/revision_scores.json")})}},{key:"showGolfer",value:function(e,t){return ne({url:"/clubs/".concat(e,"/golfers/").concat(t,".json"),method:"GET"})}},{key:"getGolferMerges",value:function(e){return ne({url:"/golfers/".concat(e,"/merge.json")})}},{key:"unmergeGolfers",value:function(e){return ne({url:"/golfers/merge.json",method:"DELETE",data:e})}},{key:"mergeGolfers",value:function(e){return ne({url:"/golfers/merge.json",method:"POST",data:e})}},{key:"updateGolfer",value:function(e,t,s){return ne({url:"/clubs/".concat(e,"/golfers/").concat(t,".json"),method:"PATCH",data:s})}},{key:"deleteGolferAddress",value:function(e,t,s){return ne({url:"/clubs/".concat(e,"/golfers/").concat(t,".json?delete=").concat(s),method:"PATCH"})}},{key:"getAffiliations",value:function(e){return ne({url:"/golfers/".concat(e,"/club_affiliations.json"),method:"GET"})}},{key:"updateAffiliation",value:function(e,t,s){return ne({url:"/golfers/".concat(e,"/club_affiliations/").concat(t,".json"),method:"PATCH",data:{club_affiliation:s}})}},{key:"deleteAffiliation",value:function(e,t){return ne({url:"/golfers/".concat(e,"/club_affiliations/").concat(t,".json"),method:"DELETE"})}},{key:"specialUpdate",value:function(e,t,s,a){var i={};return s?(i.unchecked_items=t,i.golfer_ids=[]):i.golfer_ids=t,ne({url:"/clubs/".concat(e,"/special_update.json"),method:"POST",data:i,params:a})}},{key:"setMembershipType",value:function(e,t,s,a){return ne({url:"/clubs/".concat(e,"/golfers/membership_types/").concat(t,".json"),method:"POST",params:Object(j.a)({},a),data:s})}},{key:"handicapModification",value:function(e,t){return ne({url:"/golfers/".concat(e,"/handicap_modifications.json"),method:"POST",data:t})}},{key:"adjustScore",value:function(e,t){return ne({url:"/golfers/".concat(e,"/adjust_score_differentials.json"),method:"PATCH",data:t})}},{key:"removeScoreDifferentials",value:function(e,t){return ne({url:"/golfers/".concat(e,"/adjust_score_differentials.json"),method:"DELETE",params:{score_id:t}})}},{key:"removeHandicapModification",value:function(e,t){return ne({url:"/golfers/".concat(e,"/handicap_modifications.json"),method:"DELETE",data:{type:t}})}},{key:"getLogs",value:function(e,t){return ne({url:"/golfers/".concat(e,"/logs.json"),method:"GET",params:t})}},{key:"archiveGolfer",value:function(e){return ne({url:"/golfers/".concat(e,"/archive.json"),method:"POST"})}},{key:"getGuardians",value:function(e){return ne({url:"/golfers/".concat(e,"/guardians.json"),method:"GET"})}},{key:"createGuardian",value:function(e,t){return ne({url:"/golfers/".concat(e,"/guardians.json"),method:"POST",data:{guardian:t}})}},{key:"deleteGuardian",value:function(e,t){return ne({url:"/guardians/".concat(e,"/remove_minor.json"),method:"DELETE",data:{golfer_id:t}})}},{key:"updateGuardian",value:function(e,t,s){return ne({url:"/golfers/".concat(e,"/guardians/").concat(t,".json"),method:"PATCH",data:{guardian:s}})}},{key:"getDigitalProfile",value:function(e){return ne({url:"/golfers/".concat(e,"/get_digital_profile_information.json"),method:"GET"})}},{key:"sendInvitation",value:function(e,t){return ne({url:"/golfers/".concat(e,"/send_invitation_to_create_digital_profile.json?association_id=").concat(t),method:"POST",data:{source:"admin"}})}},{key:"removeDigitalProfile",value:function(e){return ne({url:"/golfers/".concat(e,"/remove_digital_profile.json"),method:"DELETE"})}},{key:"sendResetPassword",value:function(e,t){return ne({url:"forgot_login_information.json?email_or_ghin=".concat(e).concat(t?"&association_id="+t:""),method:"POST",data:{source:"admin"}})}},{key:"generateInvitationLink",value:function(e){return ne({url:"/golfers/".concat(e,"/generate_set_password_url.json"),method:"GET",params:{url_type:"profile_creation"}})}},{key:"generateResetPasswordLink",value:function(e){return ne({url:"/golfers/".concat(e,"/generate_set_password_url.json"),method:"GET",params:{url_type:"reset_password"}})}},{key:"getDigitalProfileEmails",value:function(e,t,s){return ne({url:"/digital_profile_emails.json?page=".concat(e,"&per_page=").concat(t,"&email=").concat(s),method:"GET"})}}]),e}(),qt=s(525),Vt=s(45),Wt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;Object(r.a)(this,s);for(var a=arguments.length,i=new Array(a),n=0;n<a;n++)i[n]=arguments[n];return(e=t.call.apply(t,[this].concat(i))).state={showAdjustmentsModal:!1,expandedStats:!1,hasToolTip:!1},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){!0!==this.props.hideToolTip&&this.courseLabelRef&&this.courseCellRef&&(this.courseLabelRef.offsetWidth<this.courseLabelRef.scrollWidth?this.setState({hasToolTip:!0}):this.setState({hasToolTip:!1}))}},{key:"render",value:function(){var e=this,t=this.state.hasToolTip,s=this.props.data,a=s&&("string"===typeof s||"number"===typeof s?s:s.props.value);return Object(re.jsxs)("div",{ref:function(t){return e.courseCellRef=t},"data-for":this.props.id,"data-tip":t?a:"",children:[t&&Object(re.jsx)(Vt.a,{id:this.props.id,place:"top",type:"dark",effect:"float"}),Object(re.jsx)("div",{className:"text-holder",ref:function(t){return e.courseLabelRef=t},style:{textOverflow:t?"ellipsis":"initial"},onClick:this.props.onClick,children:s})]})}}]),s}(a.Component),Kt=Wt,Jt=function(e){return Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:e.colSpan,children:!e.loading&&Object(re.jsx)("h1",{children:"No data available."})})})})},$t=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={sorted:[],showSelectOptions:!1,expanded:null},a.onExpandedChange=a.onExpandedChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"getResolvedState",value:function(){return this.table.getResolvedState()}},{key:"getFilteredData",value:function(){var e=this.getResolvedState();return Object(We.a)(e.sortedData.map((function(e){return e._original})))}},{key:"doSort",value:function(e){e.toggleSort({}),this.getFilteredData()}},{key:"onExpandedChange",value:function(e,t){var s={};for(var a in e)e.hasOwnProperty(a)&&(t.toString()===a?s[a]=e[a]:s[a]=!1);this.setState({expanded:s})}},{key:"render",value:function(){var e=this,t=this.props.idKey||"id",s=this.props.columns.filter((function(e){return!1!==e.show})),i="undefined"!==typeof this.props.total;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(qt.a,Object(j.a)(Object(j.a)({defaultPageSize:this.props.defaultPageSize?this.props.defaultPageSize:20,style:this.props.style,expanded:this.state.expanded?this.state.expanded:Object(Et.a)({},this.props.expandedIndex,this.props.displayMembershipDetails),getTableProps:function(){return{columns:s}},onExpandedChange:function(t,s,a){return e.onExpandedChange(t,s)},getTheadThProps:function(e,t,s){return s.thClassName?{className:s.thClassName}:{}},getTdProps:function(e,t,s,a){return s.highlightColumn&&t.row[s.highlightConditionKey]?{className:"yellow_highlight"}:{className:""}},getTbodyProps:function(e){return{sortedDataLength:e.sortedData.length,enabledColumnsLength:s.length+1}},TbodyComponent:function(t){return t.sortedDataLength>0?Object(re.jsx)("tbody",{children:t.children}):Object(re.jsx)(Jt,{loading:e.props.loading,colSpan:t.enabledColumnsLength})},defaultFilterMethod:function(e,t,s){var a=e.pivotId||e.id;return Array.isArray(e.value)?void 0===t[a]||-1!==e.value.indexOf(t[a]):void 0===t[a]||String(t[a]).startsWith(e.value)},ref:function(t){return e.table=t},TableComponent:function(t){return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[!e.props.hideSelect&&Object(re.jsx)("col",{className:"col_checkbox"}),t.columns.map((function(e){return Object(re.jsx)("col",{className:e.colClassName?e.colClassName:""},Math.random().toString())}))]}),t.children]}),e.props.loading&&Object(re.jsx)("div",{className:"loader",children:Object(re.jsx)("span",{className:"data-table__loader"})})]})},TheadComponent:function(e){return Object(re.jsx)("thead",{children:e.children})},TrComponent:function(e){return Object(re.jsx)("tr",{children:e.children})},ThComponent:function(t){return Object(re.jsxs)("th",{className:"".concat(t.className?t.className:""," ").concat(t.thClassName?t.thClassName:""),onClick:function(){return e.doSort(t)},children:[t.children," ",t.className.includes("-sort-desc")?Object(re.jsx)("i",{className:"material-icons-outlined",children:"arrow_drop_down"}):null," ",t.className.includes("-sort-asc")?Object(re.jsx)("i",{className:"material-icons-outlined",children:"arrow_drop_up"}):null]})},NoDataComponent:function(e){return Object(re.jsx)(a.Fragment,{})},TdComponent:function(e){var t=Math.random().toString();return Object(re.jsx)("td",{className:e.className?e.className:"",children:Object(re.jsx)(Kt,{hideToolTip:!!e.className.includes("without_tooltip"),id:t,data:e.children,onClick:e.onClick},t)})},TrGroupComponent:function(e){return Object(re.jsx)(a.Fragment,{children:e.children})},pageSizeOptions:[5,10,20,25,50,100],LoadingComponent:function(e){return Object(re.jsx)(a.Fragment,{})},ResizerComponent:function(e){return Object(re.jsx)(a.Fragment,{children:e.children})},PaginationComponent:function(t){return e.props.hidePagination?null:Object(re.jsxs)("div",{className:"data__table-footer",children:[Object(re.jsxs)("div",{className:"table__navigation",children:[Object(re.jsxs)("ul",{className:"table__pagination",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:0===t.page?"disabled":"",onClick:function(){return t.onPageChange(0)},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"first_page"})})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:t.canPrevious?"":"disabled",onClick:function(){return t.onPageChange(t.page-1)},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_left"})})}),t.canPrevious&&Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){return t.onPageChange(t.page-1)},children:t.page})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"is-active",children:t.page+1})}),t.canNext&&Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){return t.onPageChange(t.page+1)},children:t.page+2})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:t.canNext?"":"disabled",onClick:function(){return t.onPageChange(t.page+1)},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_right"})})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){return t.onPageChange(t.pages-1)},className:t.page===t.pages-1?"disabled":"",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"last_page"})})})]}),Object(re.jsx)("div",{className:"table__page-select-container",children:Object(re.jsx)(gt.a,{className:"react-select-container",value:{value:t.pageSize,label:t.pageSize},classNamePrefix:"react-select",options:t.pageSizeOptions.map((function(e){return{label:e,value:e}})),isSearchable:!1,onChange:function(e){t.onPageSizeChange(Number(e.value))}})})]}),Object(re.jsxs)("div",{className:"table__info",children:[t.page+1," of ",t.pages||1," pages (",i?e.props.total:t.sortedData.length," items)"]})]})},minRows:0},this.props),{},{columns:this.props.hideSelect?this.props.columns:[{Header:function(t){return e.props.hideSelectAll?"":Object(re.jsxs)("div",{className:"smart_checkbox",children:[Object(re.jsx)("div",{className:"checkbox ".concat(e.props.isAllSelected?"checked":""),onClick:function(){e.props.isAllSelected?e.props.onSelectAll(!1):e.setState({showSelectOptions:!0})}}),e.state.showSelectOptions&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"select",children:[Object(re.jsx)("div",{className:"option",onClick:function(){e.setState({showSelectOptions:!1},(function(){return e.props.onSelectPage()}))},children:"This Page Only"}),Object(re.jsx)("div",{className:"option",onClick:function(){e.setState({showSelectOptions:!1},(function(){return e.props.onSelectAll()}))},children:"All Pages"})]}),Object(re.jsx)("div",{className:"exit_select",onClick:function(){return e.setState({showSelectOptions:!1})}})]})]})},accessor:"selected",Cell:function(s){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("input",{type:"checkbox",checked:s.row.selected,onChange:function(){return e.props.onRowSelect(s.row)},name:s.row[t],id:"item-".concat(s.row[t])}),Object(re.jsx)("label",{htmlFor:"item-".concat(s.row[t])})]})},headerClassName:"table-checkbox-cell",resizable:!1,sortable:!1,filterable:!1,colClassName:"col_checkbox"}].concat(Object(We.a)(this.props.columns))}))})}}]),s}(a.Component),Xt=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],golfers:[],sorted:[{id:"first_name",desc:!1}],page:1,pages:0,perPage:10,selected:null,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name})}))})}))})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCountryChange",value:function(e){this.props.change("state",{label:"Select State",value:null}),this.setState({states:e.states})}},{key:"onSubmit",value:function(e){var t=this;if(e.ghin_or_email){if(e.ghin_or_email.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))return Bt.findGolferByGhinOrEmail(null,encodeURIComponent(e.ghin_or_email)).then((function(e){t.props.onGolferSelect(e.golfer)})).catch((function(e){throw new O.a({ghin_or_email:"No results found, please change your search criteria."})}));if(/^\d+$/.test(e.ghin_or_email))return Bt.findGolferByGhinOrEmail(e.ghin_or_email,null).then((function(e){t.props.onGolferSelect(e.golfer)})).catch((function(e){throw new O.a({ghin_or_email:"No results found, please change your search criteria."})}));throw new O.a({ghin_or_email:"No results found, please change your search criteria."})}var s=[];return s.sorting_criteria=this.state.sorted[0].id,s.order=this.state.sorted[0].desc?"desc":"asc",s.per_page=this.state.perPage,s.page=this.state.page,s.state=e.state.value,s.country=e.country.value,s.last_name=e.last_name,e.first_name&&(s.first_name=e.first_name),Bt.findGolferByNameAndState(s).then((function(s){if(s.golfers&&1===s.golfers.length)t.props.onGolferSelect(s.golfers[0]);else{if(0===s.golfers.length)throw new O.a({last_name:"No results found, please change your search criteria."});t.setState({values:e,golfers:s.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{clubs:e.clubs.sort((function(e,t){return e.club_name>t.club_name?1:-1}))})})),total:parseInt(s["total-count"],10),per_page:parseInt(s["per-page"],10),pages:parseInt(s["total-pages"],10),loading:!1})}})).catch((function(e){throw new O.a({last_name:"No results found, please change your search criteria."})}))}},{key:"getPage",value:function(){var e=this;this.setState({loading:!0});var t=[];t.sorting_criteria=this.state.sorted[0].id,t.order=this.state.sorted[0].desc?"desc":"asc",t.per_page=this.state.perPage,t.page=this.state.page,t.state=this.state.values.state.value,t.last_name=this.state.values.last_name,this.state.values.first_name&&(t.first_name=this.state.values.first_name),Bt.findGolferByNameAndState(t).then((function(t){e.setState({golfers:t.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{selected:!1,clubs:e.clubs.sort((function(e,t){return e.club_name>t.club_name?1:-1}))})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),loading:!1})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=[{Header:"Golfer Name",accessor:"first_name",colClassName:"col_user-name",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[e.original.first_name," ",e.original.middle_name," ",e.original.last_name]})}},{Header:"id",show:!1,accessor:"id"},{Header:"Club Name",accessor:"clubs",colClassName:"col_user-name",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.value.map((function(e){return Object(re.jsxs)("span",{children:[e.club_name,Object(re.jsx)("br",{})]})}))})}},{Header:"H.I.",accessor:"handicap_index"}];return Object(re.jsx)(a.Fragment,{children:0===this.state.golfers.length?Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:"GHIN Number or Email Address Search"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"ghin_or_email",children:["GHIN Number or Email Address ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&(this.props.formValues.last_name||this.props.formValues.first_name),type:"text",validate:(!this.props.formValues||!this.props.formValues.last_name&&!this.props.formValues.first_name)&&[he],name:"ghin_or_email",id:"ghin_or_email"})]})}),Object(re.jsx)("div",{className:"form__separator padding-16-y"}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:"Last Name & State/Province Search"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,type:"text",name:"first_name",id:"first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"last_name",children:["Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,validate:(!this.props.formValues||!this.props.formValues.ghin_or_email)&&[he],type:"text",name:"last_name",id:"last_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"country",children:["Country ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"country",id:"country",component:yt,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,onChange:this.onCountryChange.bind(this),validate:(!this.props.formValues||!this.props.formValues.ghin_or_email)&&[pe],className:"react-select-container",classNamePrefix:"react-select",options:this.state.countries})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"state",children:"State"}),Object(re.jsx)(g.a,{name:"state",id:"state",component:yt,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,className:"react-select-container",classNamePrefix:"react-select",options:this.state.states})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Search"})})]})]}):this.state.golfers.length>1&&Object(re.jsxs)("div",{className:"select golfer",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("h3",{className:"form__title",children:"Select Golfer"}),Object(re.jsx)($t,{idKey:"id",hideSlelectAll:!0,defaultPageSize:10,columns:o,loading:this.state.loading,data:this.state.golfers,ref:function(t){return e.table=t},pages:this.state.pages,manual:!0,pageSize:this.state.per_page,onRowSelect:function(t){var s=Object(We.a)(e.state.golfers).map((function(e){return e.selected?Object(j.a)(Object(j.a)({},e),{},{selected:!1}):e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{selected:!t.selected}):e}));e.setState({golfers:s,selected:t._original})},onPageChange:function(t){return e.setState({page:t+1},(function(){return e.getPage()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.getPage()}))},sortable:!1})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("button",{disabled:!this.state.selected,onClick:function(){e.props.onGolferSelect(e.state.selected)},className:"btn fill blue",children:"Continue"})})]})})}}]),s}(a.Component);Xt=Object(_.a)({form:"searchGolferForm",destroyOnUnmount:!0})(Xt);var Qt=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,formValues:Object(Lt.a)("searchGolferForm")(e)}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(Xt)),Zt=(s(87),function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getGolfAssociations",value:function(e){return ne({url:"/golf_associations.json".concat(e?"?global_search=true":""),method:"GET"})}},{key:"createClub",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs.json"),method:"POST",data:t})}},{key:"specialUpdate",value:function(e,t,s,a){var i={};return s?(i.unchecked_items=t,i.clubs_ids=[]):i.club_ids=t,ne({url:"/associations/".concat(e,"/special_update.json"),method:"POST",data:i,params:a})}},{key:"getClubRoster",value:function(e,t,s){return ne({url:"/clubs/".concat(t,"/golfers.json"),params:Object(j.a)({},s)})}},{key:"getClubRosterExport",value:function(e,t,s){return ne({url:"/clubs/".concat(t,"/golfers/export_to_excel.json"),params:s,method:"GET"})}},{key:"getSpecialUpdateCsv",value:function(e,t){return ne({url:"/clubs/".concat(e,"/get_csv.json"),params:{url:t},method:"GET"})}},{key:"getClub",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,".json"),method:"GET"}).then((function(e){return e.club}))}},{key:"getClubs",value:function(e){return ne({url:"/clubs.json",params:e})}},{key:"getClubHomeCourses",value:function(e,t){return ne({url:"/clubs/".concat(t,"/facility_home_courses.json"),method:"Get"})}},{key:"addClubHomeCourses",value:function(e,t){return ne({url:"/clubs/".concat(e,"/facility_home_courses.json"),method:"POST",data:t})}},{key:"updateClubHomeCourses",value:function(e,t,s){return ne({url:"/clubs/".concat(t,"/facility_home_courses/").concat(e,".json"),method:"PATCH",data:s})}},{key:"getKiosks",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,"/kiosks.json"),method:"GET"})}},{key:"addKiosk",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,"/kiosks.json"),method:"POST",data:s})}},{key:"updateKiosk",value:function(e,t,s,a){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,"/kiosks/").concat(s,".json"),method:"PATCH",data:a})}},{key:"deleteKiosk",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,"/kiosks/").concat(s,".json"),method:"DELETE"})}},{key:"removeClubHomeCourses",value:function(e,t,s,a){return ne({url:"/clubs/".concat(s,"/facility_home_courses/").concat(t,".json"),method:"PATCH",data:{facility:{facility_id:e,homeCourses:[{delete:!0,id:a}]}}})}},{key:"getClubAddresses",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,".json"),method:"GET"})}},{key:"editPrimary",value:function(e,t,s){var a=new FormData;return Object.keys(s).forEach((function(e){a.append("club["+e+"]",s[e])})),ne({url:"/associations/".concat(e,"/clubs/").concat(t,".json"),method:"PATCH",data:a})}},{key:"editClubLogo",value:function(e,t,s){var a=new FormData;return Object.keys(s).forEach((function(e){a.append(e,s[e])})),ne({url:"/associations/".concat(e,"/clubs/").concat(t,".json"),method:"PATCH",data:a})}},{key:"editAddress",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/clubs/").concat(t,".json"),method:"PATCH",data:s})}},{key:"activateClubs",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/clubs/activate.json"),method:"POST",params:Object(j.a)({},s),data:t})}},{key:"inactivateClubs",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/clubs/inactivate.json"),method:"POST",params:Object(j.a)({},s),data:t})}},{key:"getTeeAGS",value:function(e,t){return ne({url:"maximum_hole_scores.json",method:"GET",params:Object(j.a)({tee_set_side:t||"All18"},e)})}},{key:"getMembershipTypes",value:function(e){return ne({url:"/clubs/".concat(e,"/membership_types.json"),method:"GET"})}},{key:"addMembershipType",value:function(e,t){return ne({url:"/clubs/membership_types.json",method:"POST",data:e,params:Object(j.a)({admin:!0},t)})}},{key:"removeMembershipType",value:function(e,t){return ne({url:"/clubs/membership_types.json",method:"DELETE",data:e,params:Object(j.a)({admin:!0},t)})}},{key:"getLogs",value:function(e,t){return ne({url:"/clubs/".concat(e,"/logs.json"),method:"GET",params:t})}}]),e}()),es=s(485),ts=s(14),ss=s(50),as=s(140),is=s.n(as),ns=function(e){var t=e.target.value+e.key;if(e.ctrlKey||e.metaKey||"Control"===e.key||"Meta"===e.key)return!0;return/^(\d*(\d*|\/)\d*(\d*|\/))\d*$/.test(t)||!0==={8:!0,37:!0,38:!0,39:!0,40:!0,46:!0}[e.keyCode]||e.preventDefault(),!0},os=function(e,t){var s=Object(a.useState)(!1),i=Object(ss.a)(s,2),n=i[0],o=i[1],r=Object(a.useState)(!1),c=Object(ss.a)(r,2),l=c[0],d=c[1];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(is.a,{className:"".concat(e.className," ").concat(e.meta.error&&l&&n?"is-error":""),disabled:e.disabled,value:e.input.value,maxDate:e.maxDate,minDate:e.minDate,popperPlacement:e.propperPlacement,dropdownMode:"select",dateFormatCalendar:e.dateFormatCalendar?e.dateFormatCalendar:"MM/dd/yyyy",dateFormat:e.dateFormat?e.dateFormat:"MM/dd/yyyy",showMonthDropdown:e.showMonthDropdown,showYearDropdown:e.showYearDropdown,selected:e.input.value,onChange:e.input.onChange,onFocus:function(t){d(!0),!t.target.value&&e.minDate&&e.input.onFocus()},onClickOutside:function(e){o(!0)},onKeyDown:function(e){ns(e)}}),!e.hideErrorMessages&&e.meta.error&&l&&n&&Object(re.jsx)("p",{className:"validation__message is-error",children:e.meta.error})]})},rs=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getAssociation",value:function(e){return Zt.getGolfAssociations().then((function(t){return t.associations.find((function(t){return t.id===parseInt(e,10)}))||Promise.reject("Not found")}))}},{key:"getPrimary",value:function(e){return ne({url:"/golf_associations/".concat(e,".json"),method:"GET"})}},{key:"editPrimary",value:function(e,t){var s=new FormData;return Object.keys(t).forEach((function(e){s.append("association["+e+"]",t[e])})),ne({url:"/golf_associations/".concat(e,".json"),method:"PATCH",data:s})}},{key:"editAddress",value:function(e,t){return ne({url:"/golf_associations/".concat(e,".json"),method:"PATCH",data:t})}},{key:"editCampaignSettings",value:function(e,t){return ne({url:"/golf_associations/".concat(e,"/edit_campaign_settings.json"),method:"PATCH",data:t})}},{key:"createAssociation",value:function(e){return ne({url:"golf_associations.json",method:"POST",data:e})}},{key:"createEmailContent",value:function(e,t){return ne({url:"/associations/".concat(e,"/email_contents.json"),method:"POST",data:t})}},{key:"deleteEmailContent",value:function(e,t){return ne({url:"/associations/".concat(e,"/email_contents/").concat(t.id,".json"),method:"DELETE",headers:{"Content-Type":"multipart/form-data"}})}},{key:"updateEmailContent",value:function(e,t){var s=new FormData;return Object.keys(t).forEach((function(e){s.append(e,t[e])})),ne({url:"/associations/".concat(e,"/email_contents/").concat(t.id,".json"),method:"PATCH",headers:{"Content-Type":"multipart/form-data"},data:s})}},{key:"updateBlocksOrder",value:function(e,t){return ne({url:"/associations/".concat(e,"/email_contents/update_blocks_order.json"),method:"PATCH",data:{content_blocks_ids:t}})}},{key:"uploadEmailFile",value:function(e,t,s){var a=new FormData;return a.append("image",s),ne({url:"/associations/".concat(e,"/email_contents/").concat(t,".json"),method:"PATCH",headers:{"Content-Type":"multipart/form-data"},data:a})}},{key:"getEmailContents",value:function(e){return ne({url:"/associations/".concat(e,"/email_contents.json"),method:"GET"})}},{key:"getAllClubs",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs/get_all.json"),method:"GET",params:t})}},{key:"getClubs",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs.json"),params:t,method:"GET"})}},{key:"createClubGroup",value:function(e,t){return ne({url:"/associations/".concat(e,"/club_groups.json?name=").concat(t),method:"POST"})}},{key:"updateClubGroup",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/club_groups/").concat(t,".json"),method:"PATCH",data:s})}},{key:"getClubsCsv",value:function(e,t){return ne({url:"/associations/".concat(e,"/clubs/export_to_csv.json"),params:t,method:"GET"})}},{key:"getSpecialUpdateCsv",value:function(e,t){return ne({url:"/associations/".concat(e,"/get_csv.json"),params:{url:t},method:"GET"})}},{key:"getSeasons",value:function(e){return ne({url:"/CrsAssociations/".concat(e,".json"),method:"GET"})}},{key:"getGolferProducts",value:function(e){return ne({url:"/associations/".concat(e,"/association_settings.json"),method:"GET"})}},{key:"editGolferProducts",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/association_settings/").concat(t,".json"),method:"PATCH",data:{association_settings:s}})}},{key:"editImageGolferProducts",value:function(e,t,s){var a=new FormData;return Object.keys(s).forEach((function(e){a.append(e,s[e])})),ne({url:"/associations/".concat(e,"/association_settings/").concat(t,".json"),method:"PATCH",data:a})}},{key:"getKioskImages",value:function(e){return ne({url:"/associations/".concat(e,"/kiosk_images.json"),method:"GET"})}},{key:"addKioskImage",value:function(e){return ne({url:"/associations/".concat(e,"/kiosk_images.json"),method:"POST"})}},{key:"uploadKioskImage",value:function(e,t,s){var a=new FormData;return a.append("kiosk_image[image]",s),ne({url:"/associations/".concat(e,"/kiosk_images/").concat(t,".json"),method:"PATCH",data:a})}},{key:"editKioskImage",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/kiosk_images/").concat(t,".json"),method:"PATCH",data:s})}},{key:"removeKioskImage",value:function(e,t){return ne({url:"/associations/".concat(e,"/kiosk_images/").concat(t,".json?delete_image=true"),method:"PATCH"})}},{key:"deleteKioskImage",value:function(e,t){return ne({url:"/associations/".concat(e,"/kiosk_images/").concat(t,".json"),method:"DELETE"})}},{key:"getClubGroups",value:function(e){return ne({url:"/associations/".concat(e,"/club_groups.json"),method:"GET"})}},{key:"getEmailSettings",value:function(e){return ne({url:"/associations/".concat(e,"/email_settings.json"),method:"GET"})}},{key:"uploadEmailLogo",value:function(e,t,s){var a=new FormData;return a.append("logo",s.logo),ne({url:"/associations/".concat(e,"/email_settings/").concat(t,".json"),method:"PATCH",data:a})}},{key:"deleteEmailLogo",value:function(e,t){return ne({url:"/associations/".concat(e,"/email_settings/").concat(t,".json?delete_logo=true"),method:"PATCH"})}},{key:"editEmailSettings",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/email_settings/").concat(t,".json"),method:"PATCH",data:s})}},{key:"sendTestEmail",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/send_erevision_email.json?ghin_number=").concat(t,"&email=").concat(s)})}},{key:"previewEmail",value:function(e,t){return $e({url:"/associations/".concat(e,"/preview_email?golfer_id=").concat(t),method:"GET"})}},{key:"previewSentEmail",value:function(e,t){return $e({url:"/associations/".concat(e,"/campaigns/").concat(t,"/preview_sent_newsletter.json"),method:"GET"})}},{key:"getMembershipTypes",value:function(e){return ne({url:"/associations/".concat(e,"/membership_types.json"),method:"GET"})}},{key:"createMembershipType",value:function(e,t){return ne({url:"/associations/".concat(e,"/membership_types.json"),method:"POST",data:t})}},{key:"editMembershipType",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/membership_types/").concat(t,".json"),method:"PATCH",data:s})}},{key:"deleteMembershipType",value:function(e,t){return ne({url:"/associations/".concat(e,"/membership_types/").concat(t,".json"),method:"DELETE"})}},{key:"getClubBillingReportLogs",value:function(e){return ne({url:"/associations/".concat(e,"/billing_report/logs.json"),method:"GET"})}},{key:"getClubBillingReportRun",value:function(e,t,s,a){return ne({url:"/associations/".concat(e,"/billing_report/run.json"),method:"GET",params:"initial"===t?{report_type:t,initial_billing_revision_date:s.initial,billing_timezone_format:a.billing_timezone_format,include_invoice_number:a.include_invoice_number}:{report_type:t,initial_billing_revision_date:s.initial,last_billing_revision_dates:s.last.join(","),current_billing_revision_date:s.current,billing_timezone_format:a.billing_timezone_format,include_invoice_number:a.include_invoice_number}})}},{key:"downloadBillingReport",value:function(e,t){return ne({url:"/associations/".concat(e,"/billing_report/").concat(t,"/get_xlsx.json?only_link=true"),method:"GET"})}},{key:"subscribeUser",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/subscribe_golfer.json?golfer_id=").concat(t,"&note=").concat(s),method:"GET"})}},{key:"unsubscribeUser",value:function(e,t,s){return ne({url:"/associations/".concat(e,"/unsubscribe_golfer.json?golfer_id=").concat(t,"&note=").concat(s),method:"GET"})}},{key:"digitalProfilesInvitation",value:function(e){return ne({url:"/associations/".concat(e,"/send_invitation_to_create_digital_profile.json"),method:"POST"})}},{key:"getCampaigns",value:function(e,t){return ne({url:"/golf_associations/".concat(e,"/campaigns.json"),params:t,method:"GET"})}},{key:"getCampaignDetails",value:function(e,t,s){return ne({url:"/golf_associations/".concat(e,"/campaigns/").concat(t,"/campaign_emails.json"),params:s,method:"GET"})}},{key:"exportCampaigns",value:function(e){return ne({url:"/golf_associations/".concat(e,"/export_campaigns.json?only_link=true"),method:"GET"})}},{key:"exportCampaign",value:function(e,t){return ne({url:"/golf_associations/".concat(e,"/campaigns/").concat(t,"/export.json?only_link=true"),method:"GET"})}},{key:"getLogs",value:function(e,t){return ne({url:"/associations/".concat(e,"/logs.json"),method:"GET",params:t})}},{key:"getDigitalProfileEmails",value:function(e,t,s,a){return ne({url:"/digital_profile_emails.json?page=".concat(e,"&per_page=").concat(t,"&association_id=").concat(s),method:"GET",params:a})}}]),e}(),cs=Ve(function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onConfirm=a.onConfirm.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onConfirm",value:function(){this.props.onConfirmAction()}},{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:this.props.openModal,contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,shouldReturnFocusAfterClose:!1,children:Object(re.jsx)("div",{className:"modal__container ".concat(this.props.wideClass?this.props.wideClass:"very-narrow"," confirmation type-b"),children:Object(re.jsxs)("div",{className:"modal__body",children:[this.props.modalIcon&&Object(re.jsx)("div",{className:"modal-head__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:this.props.modalIcon})}),Object(re.jsx)("h2",{className:"modal__title",children:this.props.question}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})}),this.props.bodyQuestion&&Object(re.jsx)("div",{children:Object(re.jsx)("p",{className:"medium align-center",children:this.props.bodyQuestion})}),this.props.infoText&&this.props.infoText.length>0&&Object(re.jsx)("div",{style:{marginTop:"24px"},children:this.props.infoText.map((function(e,t){return Object(re.jsx)("p",{className:"medium align-center",children:e},t)}))}),this.props.note&&Object(re.jsxs)("div",{children:[Object(re.jsx)("span",{className:"bold",children:"Note: "}),Object(re.jsx)("span",{className:"gray",children:this.props.note})]}),this.props.error&&Object(re.jsx)("div",{children:Object(re.jsx)("span",{children:this.props.error})}),Object(re.jsxs)("div",{className:"row",children:[this.props.cancelLabel&&Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"button",disabled:this.props.loading,onClick:function(){e.props.onCancelAction()},className:"btn fill gray",children:this.props.cancelLabel})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:this.props.loading||this.props.error,onClick:this.onConfirm,className:"btn fill blue",children:this.props.confirmLabel})})]})]})})})}}]),s}(a.Component)),ls=function(e){if("string"===typeof e)return e;var t="";return"object"===typeof e&&Object.keys(e).forEach((function(s){t=Array.isArray(e[s])?e[s][0]:e[s]})),t||null},ds=s(33),us=s.n(ds),hs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props.guardian,t=e.first_name,s=e.middle_name,a=e.last_name,i=e.phone_number,n=e.email,o=[];return o.push(["Name","".concat([t,s,a].join(" "))]),i&&o.push(["Phone Number",i]),n&&o.push(["Email",n]),Object(re.jsx)(re.Fragment,{children:o.map((function(e){return Object(re.jsxs)("div",{className:"row with-padding ",children:[e[0],": \xa0 ",Object(re.jsx)("strong",{children:e[1]})]})}))})}}]),s}(a.Component),ps=hs,ms=[{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Legal Guardian",value:"Legal Guardian"},{label:"Coach",value:"Coach"},{label:"Other",value:"Other"}],bs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props.formGuardian&&this.props.formGuardian.relationship&&"Other"===this.props.formGuardian.relationship.value;return Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.relationship",children:["Relationship to Minor ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"guardian.relationship",id:"guardian.relationship",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:ms})]}),e?Object(re.jsxs)("div",{className:"col is-2-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.other_relationship",children:["What is the relationship ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.other_relationship",id:"guardian.other_relationship"})]}):null]})}}]),s}(a.Component),js=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={showGuardianFields:!1},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(ps,{guardian:this.props.guardian}),this.props.guardian.email?null:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.email",children:["Guardian Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.email",id:"guardian.email"})]})}),Object(re.jsx)(bs,{guardian:this.props.guardian,formGuardian:this.props.formGuardian})]})}}]),s}(a.Component),fs=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getGuardianById",value:function(e){return ne({url:"/guardians/".concat(e,".json")})}},{key:"getGolfers",value:function(e){return ne({url:"/guardians/".concat(e,"/golfers.json")})}},{key:"getGuardians",value:function(e){return ne({url:"/guardians.json",params:e})}},{key:"addMinor",value:function(e,t){return ne({url:"/guardians/".concat(e,"/add_minor.json"),method:"POST",data:{golfer:t}})}},{key:"updateGuardian",value:function(e,t){return ne({url:"/guardians/".concat(e,".json"),method:"PATCH",data:{guardian:t}})}},{key:"getLogs",value:function(e,t){return ne({url:"/guardians/".concat(e,"/logs.json"),method:"GET",params:t})}},{key:"getDigitalProfile",value:function(e){return ne({url:"/guardians/".concat(e,"/get_digital_profile_information.json"),method:"GET"})}},{key:"sendInvitation",value:function(e){return ne({url:"/guardians/".concat(e,"/send_invitation_to_create_digital_profile.json"),method:"POST",data:{source:"admin"}})}},{key:"removeDigitalProfile",value:function(e){return ne({url:"/guardians/".concat(e,"/remove_digital_profile.json"),method:"DELETE"})}},{key:"generateInvitationLink",value:function(e){return ne({url:"/guardians/".concat(e,"/generate_set_password_url.json"),method:"GET",params:{url_type:"profile_creation"}})}},{key:"generateResetPasswordLink",value:function(e){return ne({url:"/guardians/".concat(e,"/generate_set_password_url.json"),method:"GET",params:{url_type:"reset_password"}})}}]),e}();var Os=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).searchForExistingEmail=us()(a.searchForExistingEmail.bind(Object(b.a)(a)),1e3),a.state={showGuardianFields:!1,foundGuardian:null,error:!1},a}return Object(c.a)(s,[{key:"searchForExistingEmail",value:function(e){var t=this;if(this.props.clearInput(),e)if(/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)){var s=[];s.per_page=1,s.page=1,s.unique_guardians=!0,s.global_search=!1,s.search=e,s.only_non_golfing_guardians=!0,fs.getGuardians(s).then((function(s){if(s.guardians&&s.guardians.length>0){var a=s.guardians.filter((function(e){return!e.golfer_id}));t.props.loadGuardianData({email:e}),t.setState({foundGuardian:a[0],hasError:!1,showGuardianFields:!1,error:null})}else t.props.clearInput(),t.props.loadGuardianData({email:e}),t.setState({foundGuardian:void 0,showGuardianFields:!0,error:null})})).catch((function(e){if(e&&e.data&&e.data.errors){var s=ls(e.data.errors);t.setState({error:s})}}))}else this.setState({foundGuardian:void 0,showGuardianFields:!1,error:"No results found, please change your search criteria."});else this.setState({foundGuardian:void 0,showGuardianFields:!1,error:"This field is required"})}},{key:"render",value:function(){var e=this,t=null;return this.state.showGuardianFields&&(t=Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)("label",{htmlFor:"guardian.prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.prefix",id:"guardian.prefix"})]}),Object(re.jsxs)("div",{className:"col is-2-of-5",children:[Object(re.jsxs)("label",{htmlFor:"guardian.first_name",children:["Guardian First Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.first_name",id:"guardian.first_name"})]}),Object(re.jsxs)("div",{className:"col is-2-of-5",children:[Object(re.jsx)("label",{htmlFor:"guardian.middle_name",children:"Guardian Middle Name"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.middle_name",id:"guardian.middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-2-of-3",children:[Object(re.jsxs)("label",{htmlFor:"guardian.first_name",children:["Guardian Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.last_name",id:"guardian.last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"guardian.suffix",children:"Suffix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.suffix",id:"guardian.suffix"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"guardian.phone_number",children:"Guardian Phone Number "}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.phone_number",id:"guardian.phone_number"})]})})]})),this.state.foundGuardian&&(t=Object(re.jsx)(re.Fragment,{children:Object(re.jsx)(ps,{guardian:this.state.foundGuardian})})),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{style:{display:"none"},children:Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.email",id:"guardian.email"})}),Object(re.jsxs)("label",{htmlFor:"guardian.email_search",children:["Guardian Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)("input",{type:"text",name:"email_search",className:this.state.error?" is-error":"",onChange:function(t){return e.searchForExistingEmail(t.target.value)},id:"guardian.email_search"}),this.state.error?Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}):null]})}),t,t?Object(re.jsx)(bs,{formGuardian:this.props.formGuardian}):null]})}}]),s}(a.Component),gs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={hasGhinNumber:!e.hide_search,isGHINValid:void 0,isMinor:!1,isJunior:!1,assignGuardian:!0,isEditGuardianForm:!1,foundGolferGuardian:null},a.searchForGhinNumber=us()(a.searchForGhinNumber.bind(Object(b.a)(a)),1e3),a}return Object(c.a)(s,[{key:"clearInput",value:function(){var e=this;["email","first_name","last_name","middle_name","prefix","suffix","phone_number","golfer_id","relationship","other_relationship"].forEach((function(t){e.props.change("guardian.".concat(t),void 0),e.props.untouch&&e.props.untouch("guardian.".concat(t))})),this.setState({foundGolferGuardian:null})}},{key:"loadGuardianData",value:function(e){var t=this;["email","first_name","last_name","middle_name","prefix","suffix","phone_number","golfer_id"].forEach((function(s){e.hasOwnProperty(s)&&t.props.change("guardian.".concat(s),e[s])}))}},{key:"searchForGhinNumber",value:function(e){var t=this;if(this.clearInput(),e){if(!/^\d+$/.test(e))return this.setState({foundGolferGuardian:null,isGHINValid:!1,isGHINEmpty:!1});this.clearInput(),Bt.findGolferByGhinOrEmail(e,null).then((function(e){var s=e.golfer;t.loadGuardianData({golfer_id:s.id}),t.setState({isGHINValid:!0,foundGolferGuardian:s,isGHINEmpty:!1})})).catch((function(e){t.setState({foundGolferGuardian:null,isGHINValid:!1,isGHINEmpty:!1})}))}else this.setState({foundGolferGuardian:null,isGHINValid:!1,isGHINEmpty:!0})}},{key:"componentDidMount",value:function(){var e=!!this.props.minor,t=!!this.props.junior&&!e;this.setState({isJunior:t,isMinor:e,assignGuardian:!t}),this.props.change("assignGuardian",!t)}},{key:"componentDidUpdate",value:function(e){var t=!!this.props.minor,s=!!this.props.junior&&!t;this.state.isMinor===t&&this.state.isJunior===s||(this.setState({isJunior:s,isMinor:t,assignGuardian:!s}),this.props.change("assignGuardian",!s)),this.props.change("assignGuardian",this.state.assignGuardian)}},{key:"render",value:function(){var e=this,t=this.state,s=t.isMinor,a=t.isJunior,i=Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.isGHINEmpty?"This field is required":"No results found, please change your search criteria."});return Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"form__separator padding-16-y"}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[s?Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," The birthdate provided indicates this golfer is a minor. A guardian is required for golfers less than 13 years of age. The guardian must be at least 18 years of age."]}):null,a?Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," The birthdate provided indicates this golfer is a junior (> 13 but ","<"," 19 years of age). A guardian is not required, but can be added for Junior golfers. The guardian must be at least 18 years of age."]}):null]})}),a?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",children:["Would you like to assign a guardian? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{assignGuardian:!e.assignGuardian}}))},checked:this.state.assignGuardian,id:"assignGuardian_yes",value:!0,name:"golfer.assignGuardian",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"assignGuardian_yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{assignGuardian:!e.assignGuardian}}))},checked:!this.state.assignGuardian,id:"assignGuardian_no",value:!1,name:"golfer.assignGuardian",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"assignGuardian_no",children:"No"})]})]})}):null,this.state.assignGuardian?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",children:["Does the guardian have a GHIN Number? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{hasGhinNumber:!e.hasGhinNumber,isGHINValid:void 0,isGHINEmpty:!0}})),e.clearInput()},checked:this.state.hasGhinNumber,id:"hasGhinNumber_yes",value:!0,name:"golfer.hasGhinNumber",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"hasGhinNumber_yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{hasGhinNumber:!e.hasGhinNumber,isGHINValid:void 0,isGHINEmpty:!0}})),e.clearInput()},checked:!this.state.hasGhinNumber,id:"hasGhinNumber_no",value:!1,name:"golfer.hasGhinNumber",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"hasGhinNumber_no",children:"No"})]})]})}),this.state.hasGhinNumber?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{style:{display:"none"},children:Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.golfer_id",id:"guardian.golfer_id"})}),Object(re.jsxs)("label",{htmlFor:"guardian.golfer_id_search",children:["Guardian GHIN Number ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)("input",{type:"text",className:!1===this.state.isGHINValid?" is-error":"",onChange:function(t){return e.searchForGhinNumber(t.target.value)},name:"guardian.golfer_id_search",id:"guardian.golfer_id_search"}),!1===this.state.isGHINValid?i:null]})}):null,this.state.foundGolferGuardian?Object(re.jsx)(js,{guardian:this.state.foundGolferGuardian,formGuardian:this.props.formGuardian}):null,this.state.hasGhinNumber?null:Object(re.jsx)(Os,{formGuardian:this.props.formGuardian,clearInput:this.clearInput.bind(this),loadGuardianData:this.loadGuardianData.bind(this),change:this.props.change})]}):null]})}}]),s}(a.Component),_s=[{value:"M",label:"Male"},{value:"F",label:"Female"}],vs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],clubs:[],membershipTypes:[],startDate:new Date,isEmailDisabled:!1,confirmation:!1,confirmationError:null,error:null,membershipTypesLoaded:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"componentDidMount",value:function(){"club-admin"===this.props.access.user_type?this.getClubAssociation():this.getAssociations(),this.props.club&&this.getMembershipTypes(this.props.club.id?this.props.club.id:this.props.club),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"getMembershipTypes",value:function(e){var t=this;this.props.change("membership_code",null),this.setState({membershipTypesLoaded:!1}),Zt.getMembershipTypes(e).then((function(e){t.setState({membershipTypesLoaded:!0,membershipTypes:e.membership_types?e.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id,type:e.type}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})):[]})})).catch((function(e){t.setState({membershipTypesLoaded:!0}),console.error(e)}))}},{key:"getClubAssociation",value:function(){var e=this,t=[{label:this.props.access.default_association_name,value:this.props.access.default_association_id,id:this.props.access.default_association_id}];this.setState({associations:t},(function(){e.props.change("association",t[0]),e.onAssociationChange(t[0])}))}},{key:"getAssociations",value:function(){var e=this;Zt.getGolfAssociations().then((function(t){var s=t.associations.map((function(e){return e.value=e.id,e.label=e.name,e}));s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),e.setState({associations:s},(function(){if(e.props.association){var t=s.filter((function(t){return parseInt(t.id)===parseInt(e.props.association)}))[0];e.props.change("association",t),e.onAssociationChange(t)}}))}))}},{key:"onAssociationChange",value:function(e){var t=this;if("club-admin"===this.props.access.user_type){var s={label:this.props.access.default_club_name,value:parseInt(this.props.access.default_club_id),id:parseInt(this.props.access.default_club_id)};this.setState({clubs:[s]},(function(){t.props.change("club",s)}))}else rs.getAllClubs(e.id,{status:"Active"}).then((function(e){var s=e.clubs.map((function(e){return e.value=e.id,e.label=e.club_name,e}));t.props.change("club",null),s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),t.setState({clubs:s},(function(){t.props.club&&t.props.change("club",s.filter((function(e){return parseInt(e.id)===parseInt(t.props.club.id)}))[0])}))}))}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));s.golfer.gender=s.golfer.gender.value,delete s.asd,e.golfer.date_of_birth?(ue()().diff(ue()(e.golfer.date_of_birth),"years")<13&&(s.golfer.email=""),s.golfer.date_of_birth=ue()(e.golfer.date_of_birth).format("YYYY-MM-DD")):delete s.golfer.date_of_birth,s.membership_code={id:s.membership_code.value};var a=s.club.id;return delete s.club,delete s.association,s.guardian&&s.guardian.relationship&&(s.guardian.relationship=s.guardian.relationship.value),Bt.addGolfer(s,a).then((function(e){e.golfers&&t.props.showSuccess(e.golfers)})).catch((function(e){var i=ls(e.data.errors);e.data.show_confirmation?(s.force="true",t.showConfirm({error:i,golfer:s,clubId:a})):t.setState({error:i}),console.error(e)}))}},{key:"showConfirm",value:function(e){this.setState({confirmation:!0,confirmationError:e.error,toPost:e.golfer,clubId:e.clubId})}},{key:"onConfirm",value:function(){var e=this;Bt.addGolfer(this.state.toPost,this.state.clubId).then((function(t){t.golfers&&e.props.showSuccess(t.golfers)})).catch((function(t){t.data&&e.setState({error:t.data.errors}),console.error(t)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting,r=this.props.date_of_birth?ue()().diff(ue()(this.props.date_of_birth),"years"):30,c=r<13,l=r<19&&r>=13,d=!this.props.date_of_birth||(r>18||l&&!this.props.guardian&&!this.props.assignGuardian),u=this.props.membership_code&&"Junior"===this.props.membership_code.type;return Object(re.jsxs)(a.Fragment,{children:[!this.state.confirmation&&Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"association",children:["Association ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"association",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",disabled:"club-admin"===this.props.access.user_type||"association-admin"===this.props.access.user_type,onChange:function(t){return e.onAssociationChange(t)},options:this.state.associations})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"club",children:["Club Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",disabled:"club-admin"===this.props.access.user_type||0===this.state.clubs.length,options:this.state.clubs,onChange:function(t){e.getMembershipTypes(t.id)}})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"membership_code",children:["Membership Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"membership_code",validate:[pe],component:yt,disabled:!this.props.clubSelector||0===this.state.membershipTypes.length,className:"react-select-container",classNamePrefix:"react-select",options:this.state.membershipTypes}),this.props.clubSelector&&0===this.state.membershipTypes.length&&this.state.membershipTypesLoaded&&Object(re.jsx)("p",{className:"validation__message is-error",children:"Membership Types need to be added to the club prior to adding golfers."})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"golfer.prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[ke([4,"Value too long (max 4 characters)"])],name:"golfer.prefix",id:"golfer.prefix"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.first_name",children:["First Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"golfer.first_name",id:"golfer.first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"golfer.middle_name",children:"Middle Name"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"golfer.middle_name",id:"golfer.middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.last_name",children:["Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he],name:"golfer.last_name",id:"golfer.last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"golfer.suffix",children:"Suffix"}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[ke([4,"Value too long (max 4 characters)"])],name:"golfer.suffix",id:"golfer.suffix"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.gender",children:["Gender ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"golfer.gender",id:"golfer.gender",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:_s})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.date_of_birth",children:["Birthday ",u&&Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,className:"date",showMonthDropdown:!0,showYearDropdown:!0,name:"golfer.date_of_birth",id:"golfer.date_of_birth",validate:u?[he]:[],component:os,placeholder:"Select ... "})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.email",children:["Email ",d?Object(re.jsx)("span",{children:"*"}):null]}),Object(re.jsx)(g.a,{component:ce,disabled:c,validate:d?[he,fe]:[fe],type:"text",name:c?"asd":"golfer.email",id:c?"asd":"golfer.email"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"golfer.phone_number",children:"Phone Number"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"golfer.phone_number",id:"golfer.phone_number"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"golfer_club.local_number",children:"Local Number"}),Object(re.jsx)(g.a,{component:ce,validate:[be],type:"text",name:"golfer_club.local_number",id:"golfer_club.local_number"})]})}),l||c?Object(re.jsx)(gs,{formGuardian:this.props.guardian,change:this.props.change,untouch:this.props.untouch,junior:l,minor:c}):null,this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||!n||o,className:"btn fill blue",children:"Add Golfer"})})]})]}),this.state.confirmation&&Object(re.jsx)(cs,{openModal:this.state.confirmation,wideClass:"narrow",onConfirmAction:function(){return e.onConfirm()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmation:!1})},closeModal:function(){e.setState({confirmation:!1})},infoText:[this.state.confirmationError],cancelLabel:"Back",confirmLabel:"Save"})]})}}]),s}(a.Component);vs=Object(_.a)({form:"addGolferForm",destroyOnUnmount:!0})(vs);var xs=Object(p.c)((function(e){var t=Object(es.a)("addGolferForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,access:e.user.access,assignGuardian:t(e,"assignGuardian"),clubSelector:t(e,"club"),membership_code:t(e,"membership_code"),date_of_birth:t(e,"golfer.date_of_birth"),guardian:t(e,"guardian")}}),(function(e){var t=Object(v.b)({stopAsyncValidation:ts.d},e);return Object(j.a)({dispatch:e},t)}))(Ve(vs)),ys=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],clubs:[],membershipTypes:[],error:null,membershipTypesLoaded:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"componentDidMount",value:function(){"club-admin"===this.props.access.user_type?this.getClubAssociation():this.getAssociations(),this.props.club&&this.getMembershipTypes(this.props.club.id?this.props.club.id:this.props.club)}},{key:"getAssociations",value:function(){var e=this;Zt.getGolfAssociations().then((function(t){var s=t.associations.map((function(e){return e.value=e.id,e.label=e.name,e}));s.sort((function(e,t){return e.label>t.label?1:-1})),e.setState({associations:s},(function(){if(e.props.association){var t=s.filter((function(t){return parseInt(t.id)===parseInt(e.props.association)}))[0];e.props.change("association",t),e.onAssociationChange(t)}}))})),this.props.onRef(this)}},{key:"getClubAssociation",value:function(){var e=this,t=[{label:this.props.access.default_association_name,value:this.props.access.default_association_id,id:this.props.access.default_association_id}];this.setState({associations:t},(function(){e.props.change("association",t[0]),e.onAssociationChange(t[0])}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"getMembershipTypes",value:function(e){var t=this;this.props.change("membership_code",null),this.setState({membershipTypesLoaded:!1}),Zt.getMembershipTypes(e).then((function(e){t.setState({membershipTypesLoaded:!0,membershipTypes:e.membership_types?e.membership_types.map((function(e){return{label:e.code+" - "+e.description,type:e.type,value:e.id}})).filter((function(e){return"false"!==e.active})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})):[]})})).catch((function(e){t.setState({membershipTypesLoaded:!0}),console.error(e)}))}},{key:"onAssociationChange",value:function(e){var t=this;if("club-admin"===this.props.access.user_type){var s={label:this.props.access.default_club_name,value:parseInt(this.props.access.default_club_id),id:parseInt(this.props.access.default_club_id)};this.setState({clubs:[s]},(function(){t.props.change("club",s)}))}else rs.getAllClubs(e.id,{status:"Active"}).then((function(e){var s=e.clubs.map((function(e){return e.value=e.id,e.label=e.club_name,e}));t.props.change("club",null),s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),t.setState({clubs:s},(function(){t.props.club&&t.props.change("club",s.filter((function(e){return parseInt(e.id)===parseInt(t.props.club.id)}))[0])}))}))}},{key:"onSubmit",value:function(e){var t=this,s=Object(j.a)({},e),a={golfer_club:{golfer_id:this.props.golfer.id,club_id:s.club.value},membership_type:s.membership_code?{id:s.membership_code.value}:{},golfer:{date_of_birth:s.date_of_birth?ue()(s.date_of_birth).format("YYYY-MM-DD"):this.props.golfer.date_of_birth}};return s.guardian&&(a.guardian=Object(j.a)({},s.guardian),s.guardian.relationship&&(a.guardian.relationship=s.guardian.relationship.value)),Bt.addExistingGolfer(a).then((function(e){e.golfer_club&&t.props.showSuccess(Object(j.a)(Object(j.a)({},t.props.golfer),{club_id:s.club.value,association_id:s.association.value}))})).catch((function(e){if(e.data){var s=ls(e.data.errors);t.setState({error:s})}console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting,r=this.props.membership_code&&"Junior"===this.props.membership_code.type,c=this.props.golfer.date_of_birth?ue()().diff(ue()(this.props.golfer.date_of_birth),"years"):this.props.date_of_birth?ue()().diff(ue()(this.props.date_of_birth),"years"):30,l=c<13,d=c<19&&c>13;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsxs)("div",{className:"row with-padding ",children:["Name: \xa0 ",Object(re.jsxs)("strong",{children:[this.props.golfer.first_name," ",this.props.golfer.middle_name," ",this.props.golfer.last_name]})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["Club Name",this.props.golfer.clubs.length>1?"s":"",":\xa0",Object(re.jsx)("strong",{children:this.props.golfer.clubs.sort((function(e,t){return e.club_name>t.club_name?1:-1})).map((function(e){return Object(re.jsxs)(a.Fragment,{children:[" ",e.club_name,Object(re.jsx)("br",{})]})}))})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["Handicap Index: \xa0 ",Object(re.jsx)("strong",{children:this.props.golfer.handicap_index})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["GHIN #: \xa0 ",Object(re.jsx)("strong",{children:this.props.golfer.id})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["Email Address: \xa0 ",Object(re.jsx)("strong",{children:this.props.golfer.email})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"association",children:["Association ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"association",validate:[he],component:yt,disabled:"club-admin"===this.props.access.user_type||"association-admin"===this.props.access.user_type,className:"react-select-container",classNamePrefix:"react-select",onChange:function(t){return e.onAssociationChange(t)},options:this.state.associations})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"club",children:["Club Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club",validate:[he],component:yt,disabled:"club-admin"===this.props.access.user_type||0===this.state.clubs.length,className:"react-select-container",classNamePrefix:"react-select",options:this.state.clubs,onChange:function(t){return e.getMembershipTypes(t.id)}})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"membership_code",children:["Membership Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"membership_code",validate:[pe],component:yt,disabled:!this.props.club&&!this.props.clubSelector||0===this.state.membershipTypes.length,className:"react-select-container",classNamePrefix:"react-select",options:this.state.membershipTypes}),this.props.clubSelector&&0===this.state.membershipTypes.length&&this.state.membershipTypesLoaded&&Object(re.jsx)("p",{className:"validation__message is-error",children:"Membership Types need to be added to the club prior to adding golfers."})]})}),!this.props.golfer.date_of_birth&&Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"date_of_birth",children:["Birthday ",r&&Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,className:"date",showMonthDropdown:!0,showYearDropdown:!0,name:"date_of_birth",id:"date_of_birth",validate:r?[he]:[],component:os,placeholder:"Select ... "})]}),this.props.golfer.has_active_guardians||!l&&!d?null:Object(re.jsx)(gs,{formGuardian:this.props.guardian,change:this.props.change,minor:l,junior:d,untouch:this.props.untouch}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||!n||o,className:"btn fill blue",children:"Add Golfer"})})]})]})})}}]),s}(a.Component);ys=Object(_.a)({form:"addExistingGolferForm",destroyOnUnmount:!0})(ys);var Ns=Object(p.c)((function(e){var t=Object(es.a)("addExistingGolferForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,clubSelector:t(e,"club"),membership_code:t(e,"membership_code"),access:e.user.access,date_of_birth:t(e,"date_of_birth"),guardian:t(e,"guardian")}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(ys)),Ss=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onConfirm=a.onConfirm.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onConfirm",value:function(){this.props.onConfirmAction()}},{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:this.props.openModal,contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsxs)("div",{className:"modal__container success narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"success-icon",children:Object(re.jsx)("i",{className:"material-icons-outlined ".concat(this.props.warning?"warning":""),children:this.props.warning?"find_in_page":"check"})}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("h2",{className:"modal__title",children:this.props.warning?this.props.warningTitle:"Success!"}),this.props.golfer&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsxs)("p",{children:[this.props.golfer.first_name," ",this.props.golfer.middle_name," ",this.props.golfer.last_name," has been added succesfuly."]}),Object(re.jsxs)("p",{style:{"margin-top":"10px"},children:["GHIN Number: ",Object(re.jsx)("span",{style:{fontWeight:"700"},children:this.props.golfer.id})]})]}),this.props.club&&Object(re.jsxs)("p",{children:[this.props.club.club.club_name," has been added successfully."]}),this.props.association&&Object(re.jsxs)("p",{children:[this.props.association.association.name," has been added successfully."]}),this.props.message&&"string"===typeof this.props.message&&Object(re.jsx)("p",{children:this.props.message}),Object(re.jsxs)("div",{className:"actions",style:this.props.golfer?{"margin-top":"20px"}:{},children:[Object(re.jsx)("div",{className:"action",children:this.props.children}),Object(re.jsx)("div",{className:"action",children:this.props.mainLabel&&Object(re.jsx)("button",{type:"submit",onClick:function(){e.props.onMainAction()},className:"btn fill blue",children:this.props.mainLabel})}),Object(re.jsx)("div",{className:"action",children:this.props.secundaryLabel&&Object(re.jsx)("button",{type:"button",onClick:function(){e.props.onSecundaryAction()},className:"btn ",children:this.props.secundaryLabel})})]}),this.props.specialButton&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("p",{children:this.props.specialButton})})]})]})})}}]),s}(a.Component),Cs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={selectMethod:!0,searchGolfer:!1,addGolfer:!1,existingGolfer:null,golfer:null,digitalInvitationSent:!1},a}return Object(c.a)(s,[{key:"showSearch",value:function(){this.setState({selectMethod:!1,searchGolfer:!0})}},{key:"showAdd",value:function(){this.setState({selectMethod:!1,addGolfer:!0})}},{key:"showExistingForm",value:function(e){this.setState({selectMethod:!1,searchGolfer:!1,addGolfer:!1,existingGolfer:e})}},{key:"resetToSelect",value:function(){this.setState({selectMethod:!0,searchGolfer:!1,addGolfer:!1,golfer:null,existingGolfer:null})}},{key:"showSuccess",value:function(e){this.setState({selectMethod:!1,searchGolfer:!1,addGolfer:!1,existingGolfer:null,digitalInvitationSent:!1,golfer:e})}},{key:"sendDigitalProfileInvitation",value:function(){var e=this;Bt.sendInvitation(this.state.golfer.id,this.props.association).then((function(t){e.setState({digitalInvitationSent:!0})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[this.state.selectMethod&&Object(re.jsx)(Ut,{showSearch:function(){e.showSearch()},closeModal:function(){e.props.closeModal()},showAdd:function(){e.showAdd()}}),this.state.searchGolfer&&Object(re.jsx)(Qt,{onGolferSelect:function(t){e.showExistingForm(t)},resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()}}),this.state.addGolfer&&Object(re.jsx)(xs,{association:this.props.association,club:this.props.club,resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},showSuccess:function(t){e.showSuccess(t)}}),this.state.existingGolfer&&Object(re.jsx)(Ns,{golfer:this.state.existingGolfer,association:this.props.association,club:this.props.club,resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},showSuccess:function(t){e.showSuccess(t)}}),this.state.golfer&&Object(re.jsx)(Ss,{openModal:this.state.golfer,onMainAction:function(){e.props.closeModal({type:"golfer",golfer:e.state.golfer})},onSecundaryAction:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal({type:"golfer",golfer:null})},golfer:this.state.golfer,mainLabel:"Continue to Setup",secundaryLabel:"Add Another Golfer",children:!this.state.golfer.has_digital_profile&&Object(re.jsx)(re.Fragment,{children:this.state.digitalInvitationSent?Object(re.jsx)("span",{className:"red",children:"Digital Profile Invitation has been sent."}):Object(re.jsx)("button",{type:"button",onClick:function(){e.sendDigitalProfileInvitation()},className:"btn fill green ",children:"Send Invitation To Create a Digital Profile"})})})]})}}]),s}(a.Component),ks=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Golfer"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Cs,{association:this.props.association,club:this.props.club,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),As=s(1101),Ms=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"get",value:function(){return this._addClubSubject$.asObservable()}},{key:"update",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0;this._addClubSubject$.next(e)}}]),e}();Ms._addClubSubject$=new As.a;var ws=s(267),Is=s(114),Ts=[{value:"Type 1",label:"Type 1"},{value:"Type 2",label:"Type 2"},{value:"Type 3",label:"Type 3"}],Es=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state=Object(j.a)({associations:[],membershipCodes:[{label:"J",value:"J"},{label:"R",value:"R"}],startDate:new Date,countries:[],states:[]},a.props.initialValues),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Zt.getGolfAssociations().then((function(t){var s=null,a=t.associations.map((function(t){return t.value=t.id,t.label=t.name,parseInt(e.props.association)===t.id&&(s=t),t}));a.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),e.setState({associations:a},(function(){s&&e.props.change("club.association",s)}))})),Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.name,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{label:e.name})}))})}))})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCountryChange",value:function(e){this.setState({states:e.states})}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e)),a=s.club.association.id;return s.club.club_category=s.club.club_category.value,s.club.club_type=s.club.club_type.value,s.club_address.country=s.club_address.country.code,s.club_address.state=s.club_address.state.code,s.club.is_test=s.club.is_test?"true":"false",s.club.technology_provider=s.club.technology_provider.value,s.club.is_dac=s.club.is_dac?"true":"false",delete s.club.association,Zt.createClub(a,s).then((function(e){Ms.update(a),t.props.addAlert({type:"success",message:"Club has been successfully created!"}),t.props.onSuccess(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.submitting;return Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"club.association",children:["Association ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club.association",disabled:"association-admin"===this.props.access.user_type,validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.associations})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"club.club_name",children:["Club Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ke([60,"The Club Name cannot exceed 60 characters."])],type:"text",name:"club.club_name",id:"club.club_name"})]})}),"super-admin"===this.props.userType&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("span",{className:"label",children:["Is DAC ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_dac:!e.is_dac}}))},checked:this.state.is_dac,id:"dac-yes",value:!0,name:"club.is_dac",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dac-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_dac:!e.is_dac}}))},checked:!this.state.is_dac,id:"dac-no",value:!1,name:"club.is_dac",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dac-no",children:"No"})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{children:["Club Type ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club.club_type",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:Ts})]}),Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{children:["Club Category ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club.club_category",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:ws})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{children:["Front End Provider ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club.technology_provider",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:Is})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{children:["Country ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{onChange:this.onCountryChange.bind(this),name:"club_address.country",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.countries})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"club_address.street_1",children:["Address 1 ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"club_address.street_1",id:"club_address.street_1",validate:[he,ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"club_address.street_2",children:"Address 2"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"club_address.street_2",id:"club_address.street_2",validate:[ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-3-of-7",children:[Object(re.jsxs)("label",{htmlFor:"club_address.city",children:["City ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"club_address.city",id:"club_address.city"})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"club_address.state",children:["State ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club_address.state",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.states})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"club_address.zip",children:["Postal Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"club_address.zip",id:"club_address.zip"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-3-of-7",children:[Object(re.jsxs)("label",{htmlFor:"club.phone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"club.phone",id:"club.phone"})]}),Object(re.jsxs)("div",{className:"col is-4-of-7",children:[Object(re.jsxs)("label",{htmlFor:"club.email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,fe],type:"text",name:"club.email",id:"club.email"})]})]}),"super-admin"===this.props.userType&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{children:["Test ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_test:!e.is_test}}))},checked:this.state.is_test,id:"test-yes",value:!0,name:"club.is_test",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"test-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_test:!e.is_test}}))},checked:!this.state.is_test,id:"test-no",value:!1,name:"club.is_test",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"test-no",children:"No"})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:this.props.closeModal,children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:a,type:"submit",ref:"submit",children:"Save"})})]})]})}}]),s}(a.Component);Es=Object(_.a)({form:"addNewClubForm",destroyOnUnmount:!0,enableReinitialize:!0})(Es);var Fs=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,initialValues:{club:{is_dac:!1,is_test:!1}},access:e.user.access,userType:e.user.access.user_type}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Es)),Ds=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={club:null},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add New Club"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.club?Object(re.jsx)(Ss,{openModal:this.state.club,onMainAction:function(){e.props.closeModal({type:"club",club:e.state.club})},onSecundaryAction:function(){e.setState({club:null})},closeModal:function(){e.props.closeModal()},club:this.state.club,mainLabel:"Continue to Setup",secundaryLabel:"Add Another Club"}):Object(re.jsx)(Fs,{association:this.props.association,onSuccess:function(t){e.setState({club:t})},closeModal:this.props.closeModal})})]})})}}]),s}(a.Component),Ps=s(183),Gs=s(268),Rs=s(269),Hs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={membershipCodes:[{label:"J",value:"J"},{label:"R",value:"R"}],startDate:new Date,timezones:[],countries:[],states:[],errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.association.parent_federation=s.association.parent_federation.value,s.association.timezone=s.association.timezone.value,s.association.status="Active",s.association.frontend_provider=s.association.frontend_provider.value,s.association.command_user=s.association.command_user?"true":"false",s.association.handicap_program_lic=s.association.handicap_program_lic?"true":"false",s.association.course_rating_lic=s.association.course_rating_lic?"true":"false",s.association.regional_affairs_director&&(s.association.regional_affairs_director=s.association.regional_affairs_director.value),s.association.usga_tm_account_manager&&(s.association.usga_tm_account_manager=s.association.usga_tm_account_manager.value),s.primary_address.state=s.primary_address.state.code,s.primary_address.country=s.primary_address.country.code,rs.createAssociation(s).then((function(e){t.props.addAlert({type:"success",message:"Association has been successfully created !"}),t.props.onSuccess(e)})).catch((function(e){var s=[];Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})}))}},{key:"componentDidMount",value:function(){var e=this;Xe.getTimezones().then((function(t){e.setState({timezones:t.time_zones.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{label:e.display,value:e.code})}))})})),Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.name,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{label:e.name})}))})}))})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCountryChange",value:function(e){this.setState({states:e.states})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.submitting;return Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",htmlFor:"club-name",children:["Allied Golf Association ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{id:"assoc-yes",value:"true",onClick:function(){e.setState((function(e){return{isChecked:!e.isChecked}}))},name:"association.allied_assn",component:"input",checked:this.state.isChecked,className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"assoc-yes",children:"Yes"}),Object(re.jsx)(g.a,{id:"assoc-no",value:"false",name:"association.allied_assn",onClick:function(){e.setState((function(e){return{isChecked:!e.isChecked}}))},checked:!this.state.isChecked,className:"simple__radio",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"assoc-no",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"association.name",children:["Association Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ke([60,"The Association Name cannot exceed 60 characters."])],type:"text",name:"association.name",id:"association.name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"association.short_name",children:"Short Name"}),Object(re.jsx)(g.a,{component:ce,format:function(e){return e?e.slice(0,8):""},validate:[je],type:"text",name:"association.short_name",id:"association.short_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("label",{htmlFor:"association.parent_federation",children:["Parent Golf Federation ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",name:"association.parent_federation",options:[{value:"United States Golf Association",label:"United States Golf Association"}],value:"1"})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("label",{htmlFor:"association.course_rating_id",children:["Course Rating ID ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,xe],type:"text",name:"association.course_rating_id"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{children:["Front End Provider ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"association.frontend_provider",id:"association.frontend_provider",validate:[he,pe],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:Ps})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{children:["Timezone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"association.timezone",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.timezones})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{children:["Country ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{onChange:this.onCountryChange.bind(this),name:"primary_address.country",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.countries})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"primary_address.street_1",children:["Address 1 ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"primary_address.street_1",id:"primary_address.street_1",validate:[he,ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"primary_address.street_2",children:"Address 2"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"primary_address.street_2",id:"primary_address.street_2",validate:[ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-3-of-7",children:[Object(re.jsxs)("label",{htmlFor:"primary_address.city",children:["City ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"primary_address.city",id:"primary_address.city"})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"primary_address.state",children:["State ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"primary_address.state",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.states})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"primary_address.zip",children:["Postal Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"primary_address.zip",id:"primary_address.zip"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"association.telephone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"association.telephone",id:"association.telephone"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"website",children:"Website"}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[Oe],name:"association.web_address",id:"association.website"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[fe,he],name:"association.email",id:"association.email"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("span",{className:"label",htmlFor:"club-name",children:["Test ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_test:!e.is_test}}))},checked:this.state.is_test,id:"test-yes",value:"true",name:"association.is_test",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"test-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_test:!e.is_test}}))},checked:!this.state.is_test,id:"test-no",value:"false",name:"association.is_test",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"test-no",children:"No"})]})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"association.usga_tm_account_manager",children:["USGA TM Account Manager ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"association.usga_tm_account_manager",id:"association.usga_tm_account_manager",component:yt,validate:[pe],className:"react-select-container",classNamePrefix:"react-select",options:Gs})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"association.regional_affairs_director",children:["Regional Affairs Director ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"association.regional_affairs_director",id:"association.regional_affairs_director",component:yt,validate:[pe],className:"react-select-container",classNamePrefix:"react-select",options:Rs})]})}),this.state.errors.length>0&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("p",{children:this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)})}))})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:this.props.closeModal,children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:a,type:"submit",ref:"submit",children:"Save"})})]})]})}}]),s}(a.Component);Hs=Object(_.a)({form:"addAssociationForm",destroyOnUnmount:!0})(Hs);var Us=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,initialValues:{association:{allied_assn:"false",is_test:"false",timezone:{code:"Eastern Time (US & Canada)",display:"GMT-05:00 Eastern Time (US & Canada) (America/New_York)",label:"GMT-05:00 Eastern Time (US & Canada) (America/New_York)",value:"Eastern Time (US & Canada)"}}}}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Hs)),Ls=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={association:null},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add New Association"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.association?Object(re.jsx)(Ss,{openModal:this.state.association,onMainAction:function(){e.props.closeModal({type:"association",association:e.state.association})},onSecundaryAction:function(){e.setState({association:null})},closeModal:function(){e.props.setRefreshList(!0),e.props.closeModal()},association:this.state.association,mainLabel:"Continue to Setup",secundaryLabel:"Add Another Association"}):Object(re.jsx)(Us,{onSuccess:function(t){e.setState({association:t})},closeModal:this.props.closeModal})})]})})}}]),s}(a.Component),Ys=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1},a.openGolferAddModal=a.openGolferAddModal.bind(Object(b.a)(a)),a.openClubAddModal=a.openClubAddModal.bind(Object(b.a)(a)),a.openAssocAddModal=a.openAssocAddModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openGolferAddModal",value:function(){this.setState({AddGolferModalIsOpen:!0})}},{key:"openClubAddModal",value:function(){this.setState({AddClubModalIsOpen:!0})}},{key:"openAssocAddModal",value:function(){this.setState({AddAssocModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&"golfer"===e.type&&this.props.history.push("/manage/association/".concat(e.golfer.association_id,"/club/").concat(e.golfer.club_id,"/golfer/").concat(e.golfer.id)),e&&"club"===e.type&&this.props.history.push("/manage/association/".concat(e.club.club.golf_association_id,"/club/").concat(e.club.club.id,"/account")),this.setState({AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1})}},{key:"componentWillMount",value:function(){et.a.setAppElement("body")}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container narrow",children:[Object(re.jsx)("h2",{className:"page__title",children:"Welcome USGA Admin"}),Object(re.jsxs)("ul",{className:"home__modal-triggers",children:[Object(re.jsx)("li",{children:Object(re.jsxs)("button",{onClick:this.openGolferAddModal,className:"home__modal-trigger",children:[Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"}),"Add Golfer"]})}),Object(re.jsx)("li",{children:Object(re.jsxs)("button",{onClick:this.openClubAddModal,className:"home__modal-trigger",children:[Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"}),"Add Club"]})}),Object(re.jsx)("li",{children:Object(re.jsxs)("button",{onClick:this.openAssocAddModal,className:"home__modal-trigger",children:[Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"}),"Add Association"]})})]})]})}),Object(re.jsx)(et.a,{isOpen:this.state.AddGolferModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(ks,{closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.AddClubModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ds,{closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.AddAssocModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ls,{closeModal:function(){e.closeModal()}})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component),zs=(s(81),s(270)),Bs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props,t=e.options,s=e.value,i=e.onChange,n=e.label,o=e.singleChoice,r=e.disabled,c=e.isSearchable,l=e.hideSelectAllOption,d=t.map((function(e){return"string"===typeof e?{label:e,value:e}:e}));return o?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("label",{children:n}),Object(re.jsx)(gt.a,{value:s,onChange:i,className:"react-select-container",classNamePrefix:"react-select",options:l?d:[{label:"Select All",value:void 0}].concat(Object(We.a)(d)),isDisabled:r,isSearchable:!0===c,isMulti:!1})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("label",{children:n}),Object(re.jsx)(zs.Picky,{options:d,value:s||[],multiple:!0,includeSelectAll:!0,includeFilter:!1,onChange:i,dropdownHeight:600,disabled:r,valueKey:"value",labelKey:"label",placeholder:"Select..."})]})}}]),s}(a.Component),qs=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"filtersToArray",value:function(e){var t=[];return Object.keys(e||{}).filter((function(t){return null!==e[t]&&(!Array.isArray(e[t])||0!==e[t].length)})).forEach((function(s){var a=e[s];Array.isArray(a)?a=e[s].map((function(e){return"object"===typeof e?e.value:e})):"object"===typeof a&&"undefined"!==typeof a.value?a=a.value:"object"===typeof a&&void 0===a.value&&(a=void 0),t.push({id:s,value:a})})),t.filter((function(e){return void 0!==e.value}))}},{key:"filtersArrayToParams",value:function(e){var t={};return e.forEach((function(e){Array.isArray(e.value)?t[e.id]=e.value.join(","):t[e.id]="object"===typeof e.value?e.value.value:e.value})),t}}]),e}(),Vs=[{value:!0,label:"Yes"},{value:!1,label:"No"}],Ws=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).updateFilter=function(t,s){e.setState({filters:Object(j.a)(Object(j.a)({},e.state.filters),{},Object(Et.a)({},t,s))},(function(){e.updateTable()}))},e.updateGroupFilter=function(t,s){s.value?e.setState({filters:{status:[],is_aga:null,frontend_provider:null,is_test:null,association_group_id:s},isGroupFiltered:!0},(function(){e.updateTable()})):e.reset()},e.state={filters:{}},e}return Object(c.a)(s,[{key:"updateTable",value:function(){var e=qs.filtersToArray(this.state.filters);this.props.updateFiltered(e)}},{key:"componentDidMount",value:function(){var e=this;this.setState({filters:{status:[{label:"Active",value:"Active"}],is_aga:{label:"Select All",value:void 0},frontend_provider:{label:"GHIN",value:"GHIN"},is_test:{value:!1,label:"No"}},isGroupFiltered:!1},(function(){e.updateTable()}))}},{key:"componentDidUpdate",value:function(e,t,s){this.props.gotData!==e.gotData&&!0===this.props.gotData&&this.updateTable()}},{key:"reset",value:function(){var e=this;this.setState({filters:{status:[{label:"Active",value:"Active"}],is_aga:{label:"Select All",value:void 0},frontend_provider:{label:"GHIN",value:"GHIN"},is_test:{value:!1,label:"No"},association_group_id:{label:"Select...",value:void 0}},isGroupFiltered:!1},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return this.props.hideFilters?null:Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Association Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.name,name:"association-name",id:"association-name",disabled:this.state.isGroupFiltered,onChange:function(t){e.updateFilter("name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],disabled:this.state.isGroupFiltered,value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Status"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Bs,{options:Vs,singleChoice:!0,disabled:this.state.isGroupFiltered,value:this.state.filters.is_aga,onChange:function(t){return e.updateFilter("is_aga",t)},label:"Is AGA ?"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Bs,{options:Vs,singleChoice:!0,disabled:this.state.isGroupFiltered,value:this.state.filters.is_test,onChange:function(t){return e.updateFilter("is_test",t)},label:"Is Test Association ?"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Bs,{options:Ps,singleChoice:!0,disabled:this.state.isGroupFiltered,value:this.state.filters.frontend_provider,onChange:function(t){return e.updateFilter("frontend_provider",t)},label:"Front End Provider"})}),Object(re.jsx)("div",{className:"col is-1-of-14",children:Object(re.jsx)("div",{className:"form__separator or "})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Bs,{options:this.props.availableAssociationGroups,singleChoice:!0,value:this.state.filters.association_group_id,onChange:function(t){return e.updateGroupFilter("association_group_id",t)},label:"Association Group"})})]})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),Ks=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(et.a,Object(j.a)(Object(j.a)({contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!0,autoFocus:!0},this.props),{},{children:this.props.children}))}}]),s}(a.Component),Js=s(501),$s=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).renderCsvLink=function(e){return Object(re.jsx)(Js.CSVLink,{className:"btn fill blue",filename:e,ref:"submit",onClick:function(){"link"===a.props.type&&a.props.onDownloadClick()},data:a.props.data.filter((function(e){return"selected"!==a.state.type||e.selected})),headers:a.props.columns.filter((function(e){return"string"===typeof e.Header&&!1!==e.show})).map((function(e){return{label:e.Header,key:e.accessor}})),children:"Submit"})},a.state={type:"filtered"},a}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e,t,s){!e.isOpen&&this.props.isOpen&&this.setState({type:this.props.isAllSelected||this.props.disableSelected?"filtered":"selected"}),this.props.isOpen&&this.props.onRef(this),this.props.isOpen||this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,s=t.isOpen,a=t.onRequestClose,i=t.filename;return Object(re.jsx)(Ks,{isOpen:s,onRequestClose:a,children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Export to CSV"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){a()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-1",children:[Object(re.jsxs)("span",{className:"label",htmlFor:"club-name",children:["What would you like to export ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{type:"radio",className:"simple__radio",name:"filtered",checked:"filtered"===this.state.type,id:"filtered",onChange:function(){return e.setState({type:"filtered"})}}),Object(re.jsx)("label",{htmlFor:"filtered",children:"Filtered list"}),Object(re.jsx)("input",{type:"radio",className:"simple__radio",name:"selected",id:"selected",disabled:this.props.disableSelected,checked:"selected"===this.state.type,onChange:function(){return e.setState({type:"selected"})}}),Object(re.jsx)("label",{className:this.props.disableSelected?"disabled":"",htmlFor:"selected",children:"Selected"})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return a()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:"link"===this.props.type?this.renderCsvLink(i):this.renderCustomButton()})]})]})]})})}},{key:"renderCustomButton",value:function(){var e=this;return Object(re.jsx)("button",{type:"submit",ref:"submit",onClick:function(){return e.props.onDownloadClick(e.state.type)},className:"btn fill blue",children:"Submit"})}}]),s}(a.Component);$s.defaultProps={columns:[],data:[],isOpen:!1};var Xs=Ve($s),Qs=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"create",value:function(e){return ne({url:"/federations/1/golf_association_groups.json",method:"POST",data:e})}},{key:"delete",value:function(e){return ne({url:"/federations/1/golf_association_groups/".concat(e,".json"),method:"DELETE"})}},{key:"update",value:function(e,t){return ne({url:"/federations/1/golf_association_groups/".concat(e,".json"),method:"PATCH",data:t})}},{key:"list",value:function(){return ne({url:"/federations/1/golf_association_groups.json",method:"GET"})}},{key:"listAssociation",value:function(){}}]),e}(),Zs=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={tableFilterIsHidden:!1,associations:[],loading:!0,per_page:25,filtered:{status:[{label:"Active",value:"Active"}],is_aga:{label:"Select All",value:void 0},FrontEndProvider:[{label:"GHIN",value:"GHIN"}],is_test:{value:!1,label:"No"}},page:0,isAllSelected:!1,isExportDataOpened:!1,availableAssociationGroups:[],tableInternalData:[]},e.handleDownload=e.handleDownload.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"toggleTableFilter",value:function(){this.setState({tableFilterIsHidden:!this.state.tableFilterIsHidden})}},{key:"generateCountSummary",value:function(e){return e.length>0?{total:e.length,inactive:e.filter((function(e){return"Inactive"===e.status})).length,active:e.filter((function(e){return"Active"===e.status})).length}:{total:0,inactive:0,active:0}}},{key:"loadAssociations",value:function(){return Zt.getGolfAssociations().then((function(e){return e.associations}))}},{key:"loadAssociationsGroups",value:function(){return Qs.list().then((function(e){return e.golf_association_groups}))}},{key:"getAssociationsAndClubs",value:function(){var e=this;this.setState({loading:!0,associations:[]}),Promise.all([this.loadAssociations(),this.loadAssociationsGroups()]).then((function(t){e.setState({loading:!1,associations:t[0].map((function(e){var s=t[1].find((function(t){return t.golf_associations.find((function(t){return t.association_id===e.id}))}));return s?Object(j.a)(Object(j.a)({},e),{},{selected:!1,association_group_id:s.id}):Object(j.a)(Object(j.a)({},e),{},{selected:!1,association_group_id:null})})),availableAssociationGroups:t[1].map((function(e){return{value:e.id,label:e.name}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))},(function(){e.setState(e.generateCountSummary(e.table.getFilteredData()))}))})).catch((function(){e.setState({loading:!1})}))}},{key:"componentDidMount",value:function(){this.getAssociationsAndClubs()}},{key:"componentDidUpdate",value:function(e,t,s){e.refreshList!==this.props.refreshList&&this.props.refreshList&&this.getAssociationsAndClubs()}},{key:"showExportModal",value:function(){var e=this.table.getFilteredData();this.setState({tableInternalData:e,isExportDataOpened:!0})}},{key:"render",value:function(){var e=this,t=[{Header:"#",accessor:"id",colClassName:"col_id"},{Header:"aga",accessor:"is_aga",show:!1},{Header:"is_test",accessor:"is_test",show:!1},{Header:"frontend_provider",accessor:"frontend_provider",show:!1},{Header:"association_group_id",accessor:"association_group_id",show:!1},{Header:"Association Name",accessor:"name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())},Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.row.id,"/list"),children:e.value})})},colClassName:"col_assoc-name"},{Header:"Status",accessor:"status",colClassName:"col_status"},{Header:"City",accessor:"city",colClassName:"col_city"},{Header:"State/Prov",accessor:"state",colClassName:"col_state"},{Header:"Country",accessor:"country",colClassName:"col_country"},{Header:"Phone Number",accessor:"telephone",colClassName:"col_phone-number",sortable:!1},{Header:"Email Address",accessor:"email",colClassName:"col_email",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto: ".concat(e.value),children:e.value})})}},{Header:"Primary Contact Name",accessor:"primary_contact_name",colClassName:"col_liaison",sortable:!1}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(Ws,{availableAssociationGroups:this.state.availableAssociationGroups,gotData:this.state.associations.length>0,hideFilters:this.state.tableFilterIsHidden,updateFiltered:function(t){e.setState({filtered:t,page:0,loading:!0},(function(){var t=e;setTimeout((function(){var e=t.table.getFilteredData();t.setState(Object(j.a)(Object(j.a)({},t.generateCountSummary(e)),{},{loading:!1}))}),100)}))}}),Object(re.jsx)("div",{className:"pre__table",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col auto push-left",children:Object(re.jsx)("ul",{className:"action__list push-left",children:Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(t){t.stopPropagation(),e.showExportModal()},children:"Export to Excel"})})})}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("ul",{className:"association__status",children:[Object(re.jsxs)("li",{children:["Active = ",Object(re.jsx)("strong",{children:this.state.active})]}),Object(re.jsxs)("li",{children:["Inactive = ",Object(re.jsx)("strong",{children:this.state.inactive})]}),Object(re.jsxs)("li",{children:["Total = ",Object(re.jsx)("strong",{children:this.state.total})]})]})}),Object(re.jsxs)("div",{className:"col auto",children:[!this.state.tableFilterIsHidden&&Object(re.jsxs)("button",{onClick:this.toggleTableFilter.bind(this),className:"btn fill gray",children:["Hide Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:"remove"})]}),this.state.tableFilterIsHidden&&Object(re.jsxs)("button",{onClick:this.toggleTableFilter.bind(this),className:"btn fill gray",children:["Show Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:"add"})]})]})]})})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("span",{className:"bold",children:[" ",Object(re.jsx)("span",{className:"red",children:"Important:"}),'  When using the "Select All" checkbox, any action being performed will be taken on all records on all pages, not just the current page.']})})}),Object(re.jsx)($t,{columns:t,isAllSelected:this.state.isAllSelected,data:this.state.associations,filtered:this.state.filtered,ref:function(t){return e.table=t},pageSize:this.state.per_page,page:this.state.page,onPageChange:function(t){e.setState({page:t})},onPageSizeChange:function(t){e.setState({per_page:t,page:0})},onSelectPage:function(){var t=Object(We.a)(e.state.associations),s=e.table.getFilteredData().slice(25*e.state.page,25*e.state.page+25),a=s.map((function(e){return e.id})),i=!1;s.filter((function(e){return e.selected})).length!==s.length&&(i=!0),t=t.map((function(e){return a.includes(e.id)?Object(j.a)(Object(j.a)({},e),{},{selected:i}):Object(j.a)({},e)})),e.setState({associations:t})},onSelectAll:function(){var t=Object(We.a)(e.state.associations),s=!e.state.isAllSelected;t=t.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{selected:s})})),e.setState({associations:t,isAllSelected:s})},onRowSelect:function(t){var s=Object(We.a)(e.state.associations).map((function(e){return e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{selected:!t.selected}):e}));e.setState({associations:s})},defaultSorted:[{id:"name",desc:!1}],sortable:!0,loading:this.state.loading}),Object(re.jsx)(Xs,{filename:"AssociationList_"+ue()().format("MM/DD/YYYY")+".csv",columns:t,isOpen:this.state.isExportDataOpened,onRequestClose:function(){return e.setState({isExportDataOpened:!1})},isAllSelected:this.state.isAllSelected,disableSelected:!(this.state.associations.filter((function(e){return e.selected})).length>0||this.state.isAllSelected),data:this.state.tableInternalData,type:"link",onDownloadClick:this.handleDownload})]})}},{key:"handleDownload",value:function(){this.setState({isExportDataOpened:!1})}}]),s}(a.Component),ea=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={},e}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(Zs,{refreshList:this.props.refreshList})})}}]),s}(a.Component),ta=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onChange",value:function(){this.setState({error:!1,errors:[]})}},{key:"onSubmit",value:function(e){var t=this;return Qs.create({name:e.name,federation_id:1}).then((function(e){t.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=e.golf_association_group;s.label=s.name,s.value=s.id,t.props.selectGroup(s),t.props.closeModal()})).catch((function(e){e.data&&t.setState({error:!0,errors:e.data.errors})}))}},{key:"componentDidMount",value:function(){setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.pristine,i=t.submitting;return Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Association Group Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"tests",validate:[he],component:ce,type:"text",name:"name",id:"name",onChange:function(t){e.onChange()}})]})}),this.state.error&&Object.keys(this.state.errors).map((function(t){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:e.state.errors[t]})})},t)})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:a||i,type:"submit",ref:"submit",className:"btn fill blue",children:"Submit"})})]})]})}}]),s}(a.Component);ta=Object(_.a)({form:"addAssocGroupForm",destroyOnUnmount:!0})(ta);var sa=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(Ve(ta)),aa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Association Group"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(sa,{selectGroup:this.props.selectGroup,closeModal:this.props.closeModal})})]})})}}]),s}(a.Component),ia=s(184),na=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={allSelected:!1,data:[],sortKeyHistory:"name",sortDirection:"asc",lastSelectedIndex:"name"},a.handleInputChange=a.handleInputChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.associations;e.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),this.setState({data:e})}},{key:"componentDidUpdate",value:function(e,t,s){if(e.associations!==this.props.associations){var a=this.props.associations;a.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),this.setState({data:a})}}},{key:"handleCheckAll",value:function(e){this.props.isMain?this.props.toggleAllAvailable(e.target.checked):this.props.toggleAllSelected(e.target.checked)}},{key:"onSort",value:function(e,t){var s=this.state.data,a=this.state.sortKeyHistory,i=this.state.sortDirection;a===t?"asc"===i?(i="desc","id"===t?s.sort((function(e,s){return parseInt(e[t])-parseInt(s[t])})).reverse():s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})).reverse()):(i="asc",s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})),"id"===t?s.sort((function(e,s){return parseInt(e[t])-parseInt(s[t])})):s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())}))):"id"===t?s.sort((function(e,s){return parseInt(e[t])-parseInt(s[t])})):s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})),this.setState({data:s,sortKeyHistory:t,sortDirection:i})}},{key:"handleInputChange",value:function(e,t){var s=this;if(this.props.isMain)if(t.shiftKey){var a=this.state.lastSelectedIndex,i=this.state.data.indexOf(e);i<a&&(a=i,i=this.state.lastSelectedIndex);var n=JSON.parse(JSON.stringify(this.state.data)).slice(a,i+1);this.setState({lastSelectedIndex:null}),n.map((function(e){return s.props.toggleAvailableAssociation(e.id,!0)}))}else this.setState({lastSelectedIndex:this.state.data.indexOf(e)}),this.props.toggleAvailableAssociation(e.id,t.target.checked);else if(t.shiftKey){var o=this.state.lastSelectedIndex,r=this.state.data.indexOf(e);r<o&&(o=r,r=this.state.lastSelectedIndex);var c=JSON.parse(JSON.stringify(this.state.data)).slice(o,r+1);this.setState({lastSelectedIndex:null}),c.map((function(e){return s.props.toggleSelectedAssociation(e.id,!0)}))}else this.setState({lastSelectedIndex:this.state.data.indexOf(e)}),this.props.toggleSelectedAssociation(e.id,t.target.checked)}},{key:"render",value:function(){var e=this;return Object(re.jsx)(ia.a,{width:"100%",height:"493px",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_checkbox"}),Object(re.jsx)("col",{className:"col_id"}),Object(re.jsx)("col",{}),Object(re.jsx)("col",{className:"col_status"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsxs)("th",{children:[Object(re.jsx)("input",{onChange:function(t){e.handleCheckAll(t)},checked:this.props.checkAll,type:"checkbox",name:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all"),id:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all")}),Object(re.jsx)("label",{htmlFor:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all")})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"id")},children:["Assoc. # ","id"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"name")},children:["Association Name ","name"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"status")},children:["Status ","status"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]})]})}),Object(re.jsxs)("tbody",{children:[!this.state.data.length&&Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:"100%",children:"No records to display"})}),this.state.data.map((function(t){return Object(re.jsxs)("tr",{"data-checked":t.checked,children:[Object(re.jsxs)("td",{children:[Object(re.jsx)("input",{type:"checkbox",checked:t.checked,onChange:function(s){return e.handleInputChange(t,s)},name:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id),id:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id)}),Object(re.jsx)("label",{htmlFor:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id)})]}),Object(re.jsx)("td",{children:t.id}),Object(re.jsx)("td",{children:t.name}),Object(re.jsx)("td",{children:t.status})]},t.id)}))]})]})})}}]),s}(a.Component),oa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(this.props.selectedGroup),setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100)}},{key:"onChange",value:function(){this.setState({error:!1,errors:[]})}},{key:"onSubmit",value:function(e){var t=this,s=this.props.selectedGroup.golf_associations.map((function(e){return e.association_id})),a={name:e.name,association_ids:s};Qs.update(this.props.selectedGroup.id,a).then((function(e){t.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=e.golf_association_group;s.label=s.name,s.value=s.id,t.props.selectGroup(s),t.props.closeModal()})).catch((function(e){e.data&&t.setState({error:!0,errors:e.data.errors})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Edit ",this.props.selectedGroup.name]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Association Group Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"name",id:"name",onChange:function(t){e.onChange()}})]})}),this.state.error&&Object.keys(this.state.errors).map((function(t){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:e.state.errors[t]})})},t)})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",disabled:i||n,className:"btn fill blue",children:"Submit"})})]})]})})]})})}}]),s}(a.Component);oa=Object(_.a)({form:"editAssocGroupForm",destroyOnUnmount:!0})(oa);var ra=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(oa),ca=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={loading:!1},a.onConfirm=a.onConfirm.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e){e.openModal!==this.props.openModal&&this.setState({loading:!1})}},{key:"onConfirm",value:function(){this.setState({loading:!0}),this.props.onConfirmAction()}},{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:this.props.openModal,contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsxs)("div",{className:"modal__container confirmation narrow",children:[Object(re.jsxs)("div",{className:"modal__head ".concat(this.props.longQuestion?"auto__height":""),children:[Object(re.jsx)("h2",{className:"modal__title ".concat(this.props.longQuestion?"long":""),children:this.props.question}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.loading?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsxs)(a.Fragment,{children:[this.props.bodyQuestion&&Object(re.jsx)("div",{children:Object(re.jsx)("h2",{children:this.props.bodyQuestion})}),this.props.body&&Object(re.jsx)("div",{children:this.props.body}),this.props.note&&Object(re.jsxs)("div",{children:[Object(re.jsx)("span",{children:"NOTE: "}),Object(re.jsx)("span",{className:"gray",children:this.props.note})]}),Object(re.jsxs)("div",{className:"row",children:[this.props.cancelLabel&&Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"button",disabled:this.props.loading,onClick:function(){e.props.onCancelAction()},className:"btn fill gray",children:this.props.cancelLabel})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{type:"submit",disabled:this.props.loading,onClick:this.onConfirm,className:"btn fill blue",children:this.props.confirmLabel})})]})]})})]})})}}]),s}(a.Component),la=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={addAssocGroupModalIsOpen:!1,editAssocGroupModalIsOpen:!1,openDeleteConfirmation:!1,checkAllAvailable:!1,checkAllSelected:!1,loaded:!1,availableAssociations:[],initialAssociationsState:[],selectedAssociations:[],assocGroupOptions:[],selectedGroup:null},a.openAddAssocGroupModal=a.openAddAssocGroupModal.bind(Object(b.a)(a)),a.toggleAvailableAssociation=a.toggleAvailableAssociation.bind(Object(b.a)(a)),a.toggleSelectedAssociation=a.toggleSelectedAssociation.bind(Object(b.a)(a)),a.toggleAllAvailable=a.toggleAllAvailable.bind(Object(b.a)(a)),a.toggleAllSelected=a.toggleAllSelected.bind(Object(b.a)(a)),a.onGroupChange=a.onGroupChange.bind(Object(b.a)(a)),a.deleteGroup=a.deleteGroup.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openAddAssocGroupModal",value:function(){this.setState({addAssocGroupModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({addAssocGroupModalIsOpen:!1})}},{key:"getGroups",value:function(e){var t=this;Qs.list().then((function(s){var a=s.golf_association_groups.map((function(e){return e.value=e.id,e.label=e.name,e})).sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1}));t.setState({assocGroupOptions:a},e)})).catch((function(e){}))}},{key:"deleteGroup",value:function(){var e=this;Qs.delete(this.state.selectedGroup.id).then((function(){e.props.addAlert({type:"success",message:"Group has been successfully deleted"}),e.setState({selectedGroup:null,openDeleteConfirmation:!1}),e.getGroups(),e.onGroupChange(null)})).catch((function(e){}))}},{key:"updateGroup",value:function(){var e=this,t=this.state.selectedAssociations.map((function(e){return e.id})),s={name:this.state.selectedGroup.name,association_ids:t};Qs.update(this.state.selectedGroup.id,s).then((function(t){e.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=t.golf_association_group;s.label=s.name,s.value=s.id,e.setState({selectedGroup:s}),e.getGroups()})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;et.a.setAppElement("body"),this.getGroups(),Zt.getGolfAssociations().then((function(t){t.associations.map((function(e){return e.checked=!1})),e.setState({loaded:!0,availableAssociations:t.associations,initialAssociationsState:t.associations})})).catch((function(e){}))}},{key:"toggleAvailableAssociation",value:function(e,t){var s=this.state.availableAssociations;s.filter((function(s){return s.id===e&&(s.checked=t),s})),this.setState({availableAssociations:s})}},{key:"toggleSelectedAssociation",value:function(e,t){var s=this.state.selectedAssociations;s.filter((function(s){return s.id===e&&(s.checked=t),s})),this.setState({selectedAssociations:s})}},{key:"toggleAllAvailable",value:function(e){var t=this.state.availableAssociations;t.map((function(t){return t.checked=e})),this.setState({availableAssociations:t,checkAllAvailable:e})}},{key:"toggleAllSelected",value:function(e,t){var s=this.state.selectedAssociations;s.map((function(t){return t.checked=e})),this.setState({selectedAssociations:s,checkAllSelected:e},t)}},{key:"moveSelectedAssociations",value:function(e){if("right"===e){var t=this.state.availableAssociations.filter((function(e){return!0===e.checked})).map((function(e){return e.checked=!1,e})),s=[].concat(Object(We.a)(this.state.selectedAssociations),Object(We.a)(t)),a=this.state.availableAssociations.filter((function(e){return s.indexOf(e)<0}));this.setState({selectedAssociations:s,availableAssociations:a,checkAllAvailable:!1})}else{var i=this.state.selectedAssociations.filter((function(e){return!0!==e.checked})),n=this.state.selectedAssociations.filter((function(e){return!0===e.checked})).map((function(e){return e.checked=!1,e})),o=[].concat(Object(We.a)(this.state.availableAssociations),Object(We.a)(n)),r=this.state.initialAssociationsState.filter((function(e){return o.indexOf(e)>=0}));this.setState({availableAssociations:r,selectedAssociations:i,checkAllSelected:!1})}}},{key:"onGroupChange",value:function(e){var t=this;this.setState({availableAssociations:this.state.initialAssociationsState.map((function(e){return e.checked=!1,e})),selectedAssociations:[]},(function(){e&&(e.golf_associations.map((function(e){return t.toggleAvailableAssociation(e.association_id,!0),null})),t.moveSelectedAssociations("right")),t.setState({selectedGroup:e})}))}},{key:"render",value:function(){var e=this,t=this.state.availableAssociations.filter((function(e){return e.checked})).length,s=this.state.selectedAssociations.filter((function(e){return e.checked})).length;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"assoc-g__head row",children:[Object(re.jsx)("div",{className:"col is-1-of-4",children:Object(re.jsx)(gt.a,{className:"react-select-container",classNamePrefix:"react-select",onChange:this.onGroupChange,isDisabled:!this.state.loaded,options:this.state.assocGroupOptions,isSearchable:!1,value:this.state.selectedGroup})}),this.props.canEditAssociations&&this.state.selectedGroup&&Object(re.jsx)("div",{className:"col is-1-of-4 push-left",children:Object(re.jsxs)("ul",{className:"assoc-g__controls",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn",onClick:function(t){t.preventDefault(),e.setState({editAssocGroupModalIsOpen:!0})},children:"Edit Name"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn",onClick:function(t){t.preventDefault(),e.setState({openDeleteConfirmation:!0})},children:"Delete"})})]})}),this.props.canEditAssociations&&Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:this.openAddAssocGroupModal,children:"Add Group"})})]}),Object(re.jsxs)("div",{className:"assoc-g__body row",children:[Object(re.jsx)("div",{className:"col is-5-of-11",children:Object(re.jsxs)("div",{className:"assoc-g__column",children:[Object(re.jsxs)("div",{className:"assoc-g__column__head",children:["Available Associations (",this.state.availableAssociations.length,")"]}),Object(re.jsx)("div",{className:"assoc-g__column__body",children:Object(re.jsx)(na,{checkAll:this.state.checkAllAvailable,isMain:!0,toggleAllAvailable:this.toggleAllAvailable,toggleAvailableAssociation:this.toggleAvailableAssociation,associations:this.state.availableAssociations})})]})}),Object(re.jsx)("div",{className:"col is-1-of-11",children:this.props.canEditAssociations&&Object(re.jsxs)("div",{className:"assoc-g__transition-controls",children:[Object(re.jsx)("button",{disabled:!this.state.selectedGroup||!t,className:"btn fill ".concat(this.state.selectedGroup&&t?"blue":"gray"),onClick:function(){return e.moveSelectedAssociations("right")},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_right"})}),Object(re.jsx)("button",{disabled:!this.state.selectedGroup||!s,className:"btn fill ".concat(this.state.selectedGroup&&s?"blue":"gray"),onClick:function(){return e.moveSelectedAssociations("left")},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_left"})})]})}),Object(re.jsx)("div",{className:"col is-5-of-11",children:Object(re.jsxs)("div",{className:"assoc-g__column",children:[Object(re.jsx)("div",{className:"assoc-g__column__head",children:this.state.selectedGroup&&"".concat(this.state.selectedGroup.name," (").concat(this.state.selectedAssociations.length,")")}),Object(re.jsx)("div",{className:"assoc-g__column__body",children:Object(re.jsx)(na,{checkAll:this.state.checkAllSelected,isMain:!1,toggleAllSelected:this.toggleAllSelected,toggleSelectedAssociation:this.toggleSelectedAssociation,associations:this.state.selectedAssociations})})]})})]}),this.props.canEditAssociations&&Object(re.jsxs)("div",{className:"assoc-g__foot row",children:[Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{disabled:!this.state.selectedGroup,className:"btn outline gray",onClick:function(t){t.preventDefault(),e.onGroupChange(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-8",children:Object(re.jsx)("button",{disabled:!this.state.selectedGroup,className:"btn fill blue",onClick:function(t){t.preventDefault(),e.updateGroup()},children:"Save Group"})})]}),Object(re.jsx)(et.a,{isOpen:this.state.addAssocGroupModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Add Association Group",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(aa,{selectGroup:function(t){e.getGroups(e.onGroupChange(t))},closeModal:function(){e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.editAssocGroupModalIsOpen,onRequestClose:function(){e.setState({editAssocGroupModalIsOpen:!1})},contentLabel:"Add Association Group",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(ra,{selectGroup:function(t){e.getGroups(e.onGroupChange(t))},closeModal:function(){return e.setState({editAssocGroupModalIsOpen:!1})},selectedGroup:this.state.selectedGroup})}),Object(re.jsx)(ca,{question:"Are you sure you want to delete ".concat(this.state.selectedGroup?this.state.selectedGroup.name:"","?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({openDeleteConfirmation:!1})},onConfirmAction:this.deleteGroup,openModal:this.state.openDeleteConfirmation,closeModal:function(){return e.setState({openDeleteConfirmation:!1})}})]})}}]),s}(a.Component);var da=Object(p.c)(null,(function(e){return Object(v.b)({addAlert:Pe},e)}))(la),ua=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"update",value:function(e){return ne({url:"/federations/1.json",method:"PATCH",data:e})}},{key:"deleteLogo",value:function(){return ne({url:"/federations/1.json?delete_logo=true",method:"PATCH"})}},{key:"uploadLogo",value:function(e){var t=new FormData;return Object.keys(e).forEach((function(s){t.append(s,e[s])})),ne({url:"/federations/1.json",method:"PATCH",data:t})}},{key:"get",value:function(){return ne({url:"/federations/1.json",method:"GET"})}},{key:"getSurvey",value:function(){return ne({url:"/surveys/1.json",method:"GET"})}},{key:"updateSurvey",value:function(e){return ne({url:"/surveys/1.json",method:"PATCH",data:e})}},{key:"getAssociations",value:function(){return ne({url:"/golf_associations.json",method:"GET"})}},{key:"createSurveyAssociation",value:function(e){return ne({url:"surveys/1/survey_associations.json",method:"POST",data:e})}},{key:"deleteSurveyAssociation",value:function(e){return ne({url:"surveys/1/survey_associations/".concat(e,".json"),method:"DELETE"})}},{key:"getFacilities",value:function(e){return ne({url:"CrsAssociations/".concat(e,".json"),method:"GET"})}},{key:"updateSurveyAssociation",value:function(e,t){return ne({url:"surveys/1/survey_associations/".concat(t,".json"),method:"PATCH",data:e})}},{key:"getGolferProductsForFederation",value:function(e){return ne({url:"/federations/1/federation_settings.json",method:"GET"})}},{key:"editDefaultGolferProducts",value:function(e,t,s){return ne({url:"/federations/1/federation_settings/".concat(t,".json"),method:"PATCH",data:{federation_settings:s}})}},{key:"removeDefaultImage",value:function(e,t,s){var a=new FormData;return Object.keys(s).forEach((function(e){a.append(e,s[e])})),ne({url:"/federations/1/federation_settings/".concat(t,".json"),method:"PATCH",data:a})}},{key:"getFederationKioskImages",value:function(e){return ne({url:"/federations/1/kiosk_images.json",method:"GET"})}},{key:"editDefaultImageMobileApp",value:function(e,t,s){var a=new FormData;return Object.keys(s).forEach((function(e){a.append(e,s[e])})),ne({url:"/federations/1/federation_settings/".concat(t,".json"),method:"PATCH",data:a})}},{key:"addDefaultKioskImage",value:function(e){return ne({url:"/federations/1/kiosk_images.json",method:"POST"})}},{key:"uploadDefaultKioskImage",value:function(e,t,s){var a=new FormData;return a.append("kiosk_image[image]",s),ne({url:"/federations/1/kiosk_images/".concat(t,".json"),method:"PATCH",data:a})}},{key:"deleteDefaultKioskImage",value:function(e,t){return ne({url:"/federations/1/kiosk_images/".concat(t,".json"),method:"DELETE"})}},{key:"removeDefaultKioskImage",value:function(e,t){return ne({url:"/federations/1/kiosk_images/".concat(t,".json?delete_image=true"),method:"PATCH"})}},{key:"editDefaultKioskImage",value:function(e,t,s){return ne({url:"/federations/1/kiosk_images/".concat(t,".json"),method:"PATCH",data:s})}}]),e}(),ha=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(this.props.profile)}},{key:"onSubmit",value:function(e,t,s){var a=JSON.parse(JSON.stringify(e));delete a.id,delete a.logo_url,ua.update({federation:a}).then((function(e){s.addAlert({type:"success",message:"Federation account has been updated successfully"}),s.close(e.federation)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"name",id:"name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"short-name",children:"Short Name"}),Object(re.jsx)(g.a,{component:ce,validate:[je,ke([8])],type:"text",name:"short_name",id:"short_name"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,fe],type:"text",name:"email",id:"email"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"phone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"phone",id:"phone"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"website",children:["Website ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,Oe],type:"text",name:"website",id:"website"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(e.props.profile)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);ha=Object(_.a)({form:"editFederationAccountForm",destroyOnUnmount:!0})(ha);var pa=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(ha)),ma=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Account"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(pa,{profile:this.props.profile,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),ba=s(24),ja=s.n(ba),fa=s(36),Oa=s(73),ga=["Golfer First Name","Golfer Last Name","Golfer Full Name","Association Name","Handicap Index","GHIN Number","Association Address 1","Association Address 2","Association City","Association Postal Code","Association Email Address","Association Phone","Association State","Association Country","Low Handicap Index","Revision Date","Home Club"],_a=Ve(function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={image:a.props.image,alt_text:a.props.alt_text,mobile_image1_ad_tag:a.props.mobile_image1_ad_tag,mobile_image2_ad_tag:a.props.mobile_image2_ad_tag,email_settings:a.props.email_settings,alignment:[{value:"left",label:"Align Image Left + Header Text Right"},{value:"right",label:"Align Image Right + Header Text Left"},{value:"center",label:"Align Image Center (No Header Text)"}],headerInput:{selectionStart:0,selectionEnd:0},tokens:!1},a}return Object(c.a)(s,[{key:"getImageAlignment",value:function(){var e=this;return this.state.alignment.filter((function(t){return t.value===e.state.email_settings.image_alignment}))[0]}},{key:"selectToken",value:function(e,t){var s=this,a="[".concat(e,"]"),i=this.headerRef.selectionStart,n=this.headerRef.selectionEnd,o="".concat(this.state.email_settings.header_text.substring(0,i)).concat(a).concat(this.state.email_settings.header_text.substring(n));this.setState({email_settings:Object(j.a)(Object(j.a)({},this.state.email_settings),{},{header_text:o})},(function(){s.headerRef.focus(),s.headerRef.setSelectionRange(i+a.length,i+a.length)}))}},{key:"render",value:function(){var e=this;return this.props.image?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"form__image-preview",children:Object(re.jsx)("img",{src:this.state.image,alt:"",name:""})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Image Url"}),Object(re.jsx)("span",{className:"image-preview__url",children:this.state.image})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image_alt_text",children:"Alt Text"}),Object(re.jsx)("input",{type:"text",value:this.state.alt_text,onChange:function(t){return e.setState({alt_text:t.target.value})},autoComplete:"off",name:"image_alt_text",id:"image_alt_text"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image_alignment",children:"Image Alignment"}),Object(re.jsx)(gt.a,{value:this.getImageAlignment(),className:"react-select-container",classNamePrefix:"react-select",options:this.state.alignment,onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{image_alignment:t.value})})},name:"image_alignment",id:"image_alignment"})]})}),"center"!==this.state.email_settings.image_alignment&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("label",{htmlFors:"header_text",children:"Header Text"})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto jc-c",children:Object(re.jsxs)("button",{type:"button",onClick:function(){return e.setState({tokens:!e.state.tokens})},className:"btn lnk",children:["Tokens",Object(re.jsx)("span",{className:"tokens-toggle ".concat(this.state.tokens?"opened":"closed")})," "]})})}),this.state.tokens&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"data-tokens",children:ga.map((function(t){return Object(re.jsx)("button",{type:"button",onClick:function(s){return e.selectToken(t,s)},className:"button token",children:t},t)}))})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("input",{type:"text",ref:function(t){return e.headerRef=t},value:this.state.email_settings.header_text,onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{header_text:t.target.value})})},onKeyUp:function(t){return e.setState({headerInput:{selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd}})},onFocus:function(t){return e.setState({headerInput:{selectionStart:t.target.selectionStart,selectionEnd:t.target.selectionEnd}})},name:"header_text",id:"header_text"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Please choose header text color option below:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{use_app_primary_color_for_header_text:!0})})},checked:this.state.email_settings.use_app_primary_color_for_header_text,id:"use_primary_color",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"use_primary_color",children:"Use Mobile App Primary Color"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{use_app_primary_color_for_header_text:!1})})},checked:!this.state.email_settings.use_app_primary_color_for_header_text,id:"use_custom_color",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"use_custom_color",children:"Use Custom Color"}),!this.state.email_settings.use_app_primary_color_for_header_text&&Object(re.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(re.jsx)("input",{type:"color",value:"#".concat(this.state.email_settings.header_text_color),onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{header_text_color:t.target.value.substring(1).toUpperCase()})})},name:"color_picker",id:"color_picker"})})]})]})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",type:"button",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:this.state.urlError,type:"submit",ref:"submit",onClick:function(){return e.props.closeModal({alt_text:e.state.alt_text,email_settings:e.state.email_settings})},children:"Save"})})]})]}):null}}]),s}(a.Component)),va=Ve(function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={image:a.props.image,alt_text:a.props.alt_text,ad_image_url:a.props.has_ad_image_url?a.props.ad_image_url:null,mobile_image1_ad_tag:a.props.mobile_image1_ad_tag,mobile_image2_ad_tag:a.props.mobile_image2_ad_tag,urlError:null},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.props.image?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"form__image-preview",children:Object(re.jsx)("img",{src:this.state.image,alt:"",name:""})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Image Url"}),Object(re.jsx)("span",{className:"image-preview__url",children:this.state.image})]})}),!this.props.remove_alt_text&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image-alt-text",children:"Alt Text"}),Object(re.jsx)("input",{type:"text",value:this.state.alt_text,onChange:function(t){return e.setState({alt_text:t.target.value})},autoComplete:"off",name:"image-alt-text",id:"image-alt-text"})]})}),this.props.has_ad_image_url&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image-redirect-url",children:"Redirect URL"}),Object(re.jsx)("input",{type:"url",value:this.state.ad_image_url,onChange:function(t){return e.setState({ad_image_url:t.target.value,urlError:ge(t.target.value)})},autoComplete:"off",className:this.state.urlError?"is-error":"",name:"image-redirect-url",id:"image-redirect-url"}),this.state.urlError&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.urlError})]})}),this.props.display_image_name&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image-tag",children:"Image Name"}),Object(re.jsx)("input",{type:"text",value:"mobile_image1_ad_tag"===this.props.display_image_name?this.state.mobile_image1_ad_tag:this.state.mobile_image2_ad_tag,onChange:function(t){return"mobile_image1_ad_tag"===e.props.display_image_name?e.setState({mobile_image1_ad_tag:t.target.value}):e.setState({mobile_image2_ad_tag:t.target.value})},autoComplete:"off",name:"image-tag",id:"image-tag"})]})}),this.props.errors&&Object(re.jsxs)("div",{className:"row",children:[" ",Object(re.jsxs)("div",{className:"col is-1-of-2",children:[" ",Object(re.jsx)("span",{className:"validation__message is-error",children:this.props.errors})," "]})," "]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",type:"button",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:this.state.urlError,type:"submit",ref:"submit",onClick:function(){e.props.closeModal({alt_text:e.state.alt_text,ad_image_url:""!==e.state.ad_image_url?e.state.ad_image_url:null,mobile_image1_ad_tag:e.state.mobile_image1_ad_tag,mobile_image2_ad_tag:e.state.mobile_image2_ad_tag})},children:"Save"})})]})]}):null}}]),s}(a.Component)),xa=Ve(function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={email:a.props.email,urlError:null},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return this.state.email?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"form__image-preview",children:Object(re.jsx)("img",{src:this.state.email.preview,alt:"",name:""})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Image Url"}),Object(re.jsx)("span",{className:"image-preview__url",children:this.state.email.image_url})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image-alt-text",children:"Alt Text"}),Object(re.jsx)("input",{type:"text",value:this.state.email.alt_text,onChange:function(t){return e.setState({email:Object(j.a)(Object(j.a)({},e.state.email),{},{alt_text:t.target.value})})},autoComplete:"off",name:"image-alt-text",id:"image-alt-text"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image-redirect-url",children:"Redirect URL"}),Object(re.jsx)("input",{type:"url",value:this.state.email.ad_image_url,onChange:function(t){e.setState({email:Object(j.a)(Object(j.a)({},e.state.email),{},{ad_image_url:t.target.value}),urlError:ge(t.target.value)})},className:this.state.urlError?"is-error":"",autoComplete:"off",name:"image-redirect-url",id:"image-redirect-url"}),this.state.urlError&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.urlError})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",type:"button",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:this.state.urlError,type:"submit",ref:"submit",onClick:function(){e.props.closeModal(e.state.email)},children:"Save"})})]})]}):null}}]),s}(a.Component)),ya=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:this.props.logo?"Edit Header Content Information":"Edit Image Information"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.props.logo?Object(re.jsx)(_a,{errors:this.props.errors,image:this.props.image,has_ad_image_url:this.props.has_ad_image_url,alt_text:this.props.alt_text,email_settings:this.props.email_settings,mobile_image1_ad_tag:this.props.mobile_image1_ad_tag,mobile_image2_ad_tag:this.props.mobile_image2_ad_tag,closeModal:function(t){e.props.closeModal(t)}}):this.props.email?Object(re.jsx)(xa,{email:this.props.email,closeModal:this.props.closeModal}):Object(re.jsx)(va,{display_image_name:this.props.display_image_name,errors:this.props.errors,image:this.props.image,has_ad_image_url:this.props.has_ad_image_url,ad_image_url:this.props.ad_image_url,remove_alt_text:this.props.remove_alt_text,alt_text:this.props.alt_text,mobile_image1_ad_tag:this.props.mobile_image1_ad_tag,mobile_image2_ad_tag:this.props.mobile_image2_ad_tag,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Na=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"convertToBase64",value:function(e){return new Promise((function(t,s){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsDataURL(e)}))}},{key:"getImageDimensions",value:function(e){return new Promise((function(t,s){var a=new Image;a.src=e,a.onload=function(){t({width:this.width,height:this.height})}}))}}]),e}(),Sa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,image:a.props.image,alt_text:a.props.alt_text,ad_image_url:a.props.ad_image_url,confirmModalIsOpen:!1,confirmElementDelete:!1},a.openEditImageInformationModal=a.openEditImageInformationModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditImageInformationModal",value:function(){this.setState({editImageInformationModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({confirmModalIsOpen:!1,editImageInformationModalIsOpen:!1})}},{key:"closeImageModal",value:function(e){var t=this;e?this.setState({editImageInformationModalIsOpen:!1,alt_text:e?e.alt_text:this.state.alt_text,ad_image_url:e?e.ad_image_url:this.state.ad_image_url},(function(){t.props.has_ad_image_url?t.props.onSetAltText(e):t.props.onSetAltText(e.alt_text)})):this.setState({editImageInformationModalIsOpen:!1})}},{key:"setImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.convertToBase64(t);case 2:return s=e.sent,e.next=5,Na.getImageDimensions(s);case 5:if(a=e.sent,!this.props.requiredWidth||!this.props.requiredHeight||a.width===this.props.requiredWidth||a.height===this.props.requiredHeight){e.next=8;break}return e.abrupt("return",alert("Image size not right"));case 8:if(!this.props.square||a.width===a.height){e.next=10;break}return e.abrupt("return",alert("Image ratio not right"));case 10:if(!(this.props.minimumWidth&&this.props.minimumHeight&&a.width<this.props.minimumWidth&&a.height!==this.props.minimumHeight)){e.next=12;break}return e.abrupt("return",alert("Image size not right"));case 12:this.saveImage(t);case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeImage",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"saveImage",value:function(e,t){this.props.onSave(e)}},{key:"componentDidMount",value:function(){this.setState({image:this.props.image,alt_text:this.props.alt_text})}},{key:"componentDidUpdate",value:function(e){this.props.image===e.image&&this.props.alt_text===e.alt_text&&this.props.ad_image_url===e.ad_image_url||this.setState({image:this.props.image,alt_text:this.props.alt_text,ad_image_url:this.props.ad_image_url})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"panel__head",children:[this.props.title,this.props.removable&&!this.props.readOnly&&Object(re.jsx)("div",{className:"panel__end",children:Object(re.jsx)("button",{className:"btn lnk red",onClick:function(){return e.setState({confirmElementDelete:!0})},children:"Delete"})})]}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"upload__item",children:[!this.props.readOnly&&Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,disabled:!!this.state.image,children:function(t){var s=t.getRootProps,a=t.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},s()),{},{children:[Object(re.jsx)("input",Object(j.a)({},a())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{disabled:e.state.image,className:"btn fill green",children:"Choose from computer"})]}))}})}),this.state.image?Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-3-of-7",children:Object(re.jsx)("figure",{className:"large",style:{width:200},children:Object(re.jsx)("img",{src:this.state.image,alt:this.props.alt_text?this.props.alt_text:"ghin-admin",name:this.props.alt_text?this.props.alt_text:"ghin-admin",style:{width:200}})})}),Object(re.jsx)("div",{className:"col is-4-of-7 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:this.state.image,children:this.state.image}),Object(re.jsx)("h6",{className:"upload__label",children:"Alt Text:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.alt_text}),this.props.has_ad_image_url&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("h6",{className:"upload__label",children:"Redirect URL:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.ad_image_url})]})]})})]})}):this.props.logo?Object(re.jsxs)("div",{className:"upload__details",children:[this.props.logoDescription&&Object(re.jsx)("h5",{className:"upload__title",children:this.props.logoDescription}),Object(re.jsxs)("ul",{className:"upload__requirements",children:[Object(re.jsx)("li",{children:"Ratio = 1:1"}),Object(re.jsx)("li",{children:"Minimum Width & Height = 155 px"}),Object(re.jsx)("li",{children:"Required Format = PNG, JPG"})]})]}):Object(re.jsx)("div",{className:"upload__details"}),!this.props.readOnly&&Object(re.jsxs)("div",{className:"upload__controls list",children:[this.state.image&&Object(re.jsx)("button",{onClick:function(){return e.openEditImageInformationModal()},className:"btn lnk",children:"Edit"}),Object(re.jsx)("button",{disabled:!this.state.image,className:"btn fill gray",onClick:function(){e.removeImage()},children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})]})]})}),Object(re.jsx)(et.a,{isOpen:this.state.editImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:this.state.editImageInformationModalIsOpen&&Object(re.jsx)(ya,{image:this.state.image,has_ad_image_url:this.props.has_ad_image_url,ad_image_url:this.state.ad_image_url,alt_text:this.state.alt_text,closeModal:function(t){return e.closeImageModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){e.setState({confirmModalIsOpen:!1}),e.props.onRemove()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this entry?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmElementDelete:!1})},onConfirmAction:function(){return e.props.onDelete()},openModal:this.state.confirmElementDelete,closeModal:function(){return e.setState({confirmElementDelete:!1})}})]})}}]),s}(a.Component);function Ca(e){return function(t){t({type:"@@ghin/UPDATE_FEDERATION",payload:e})}}var ka=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={editAccountModalIsOpen:!1,confirmModalIsOpen:!1},e.openEditAccountModal=e.openEditAccountModal.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getAccountInfo()}},{key:"getAccountInfo",value:function(){var e=this;ua.get().then((function(t){e.props.updateFederation(t.federation)}))}},{key:"openEditAccountModal",value:function(){this.setState({editAccountModalIsOpen:!0})}},{key:"openConfirmImageRemoveModal",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"closeEditAccountModal",value:function(e){this.setState({editAccountModalIsOpen:!1}),this.props.updateFederation(e||this.props.federation)}},{key:"saveLogo",value:function(e){var t=this;ua.uploadLogo({logo:e}).then((function(e){t.props.updateFederation(e.federation)})).catch((function(e){console.error(e)}))}},{key:"setAltText",value:function(e){var t=this;ua.update({alt_text:e}).then((function(e){t.props.updateFederation(e.federation)})).catch((function(e){console.error(e)}))}},{key:"removeLogo",value:function(){var e=this;ua.deleteLogo().then((function(t){e.setState({confirmModalIsOpen:!1}),e.props.updateFederation(t.federation)}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Basic Information"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openEditAccountModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Name:"}),Object(re.jsx)("span",{children:this.props.federation.name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Short Name:"}),Object(re.jsx)("span",{children:this.props.federation.short_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Phone:"}),Object(re.jsx)("span",{children:this.props.federation.phone})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Email:"}),Object(re.jsx)("a",{href:"mailto: ".concat(this.props.federation.email),children:this.props.federation.email})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Website:"}),Object(re.jsx)("a",{href:"//".concat(this.props.federation.website),target:"_blank",rel:"noopener noreferrer",children:this.props.federation.website})]})]})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(Sa,{title:"USGA Logo",image:this.props.federation.logo_url,alt_text:this.props.federation.alt_text,minimumHeight:155,minimumWidth:155,square:!0,logo:!0,onSave:function(t){e.saveLogo(t)},onRemove:function(){e.removeLogo()},onSetAltText:function(t){return e.setAltText(t)}})})})})]}),Object(re.jsx)(et.a,{isOpen:this.state.editAccountModalIsOpen,onRequestClose:function(){e.closeEditAccountModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,children:Object(re.jsx)(ma,{profile:this.props.federation,closeModal:function(t){e.closeEditAccountModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){return e.removeLogo()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"})]})}}]),s}(a.Component);var Aa=Object(p.c)((function(e){return{federation:e.federation}}),(function(e){var t=Object(v.b)({updateFederation:Ca},e);return Object(j.a)({dispatch:e},t)}))(ka),Ma=s(950),wa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={survey:a.props.survey},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.survey;e.start_date=Object(Ma.default)(e.start_date),e.end_date=Object(Ma.default)(e.end_date),this.props.initialize(this.props.survey),this.props.onRef(this)}},{key:"onSubmit",value:function(e,t,s){var a=JSON.parse(JSON.stringify(e));a.start_date=ue()(new Date(a.start_date)).format("YYYY-MM-DD"),a.golf_associations=null,a.end_date=ue()(new Date(a.end_date)).format("YYYY-MM-DD"),ua.updateSurvey(a).then((function(e){s.addAlert({type:"success",message:"Survey has been updated successfully"}),s.close(e.survey)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Is Enabled?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({survey:Object(j.a)(Object(j.a)({},e.state.survey),{},{enabled:!0})})},checked:this.state.survey.enabled,id:"enabled",value:!0,name:"enabled",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"enabled",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({survey:Object(j.a)(Object(j.a)({},e.state.survey),{},{enabled:!1})})},checked:!this.state.survey.enabled,id:"not_enabled",value:!1,name:"enabled",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"not_enabled",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"question",children:["Question ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"question",id:"question"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"start_date",children:"Start Date"}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,showYearDropdown:!0,minDate:new Date,name:"start_date",value:null,id:"start_date",component:os,placeholder:"Select ..."})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"end_date",children:"End Date"}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,showYearDropdown:!0,minDate:new Date,name:"end_date",value:null,id:"end_date",component:os,placeholder:"Select ..."})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.exit()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);wa=Object(_.a)({form:"editSurveySetupForm",destroyOnUnmount:!0})(wa);var Ia=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(wa)),Ta=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Survey Setup"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){return e.props.exitModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ia,{survey:this.props.survey,exit:function(){return e.props.exitModal()},close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Ea=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],facilities:[],excluded_facilities:[],errors:[],all_facilities:!0},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.golf_association_id=s.golf_association_id.value,s.all_facilities=s.all_facilities?s.all_facilities:"true",s.facilities=s.facilities?s.facilities.map((function(e){return e.value})):null,s.excluded_facilities=s.excluded_facilities?s.excluded_facilities.map((function(e){return e.value})):null,ua.createSurveyAssociation(s).then((function(){t.props.setRefreshList&&t.props.setRefreshList(!0),t.props.addAlert({type:"success",message:"Association has been successfully added !"}),t.props.closeModal()})).catch((function(e){var s=[];Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})}))}},{key:"componentDidMount",value:function(){var e=this;ua.getAssociations().then((function(t){var s=t.associations.map((function(e){return e.value=e.id,e.label=e.name,e}));s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),e.setState({associations:s})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"getAllFacilities",value:function(e){var t=this;ua.getFacilities(e).then((function(e){var s=e.Facilities;s.map((function(e){return e.value=e.FacilityId,e.label=e.FacilityName,e})),t.setState({facilities:s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),excluded_facilities:s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){t.setState({facilities:[],excluded_facilities:[]})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.submitting;return Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"association",children:["Association ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"golf_association_id",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",onChange:function(t){e.getAllFacilities(t.crs_id)},options:this.state.associations})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",htmlFor:"all_facilities",children:["All Facilities ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{id:"all_facilities-yes",value:!0,onClick:function(){e.setState({all_facilities:!0})},name:"all_facilities",component:"input",checked:this.state.all_facilities,className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"all_facilities-yes",children:"Yes"}),Object(re.jsx)(g.a,{id:"all_facilities-no",value:!1,name:"all_facilities",onClick:function(){e.setState({all_facilities:!1})},checked:!this.state.all_facilities,className:"simple__radio",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"all_facilities-no",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:this.state.all_facilities?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"excluded_facilities",children:"Exclude "}),Object(re.jsx)(g.a,{name:"excluded_facilities",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.excluded_facilities,isSearchable:!1,isMulti:!0})]})}):Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"facilities",children:["Facilities ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[me],name:"facilities",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.facilities,isSearchable:!1,isMulti:!0})]})})})}),this.state.errors.length>0&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("p",{children:this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)})}))})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:a,type:"submit",ref:"submit",children:"Save"})})]})]})}}]),s}(a.Component);Ea=Object(_.a)({form:"addAssociationForm",destroyOnUnmount:!0})(Ea);var Fa=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Ea)),Da=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Association"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Fa,{survey:this.props.survey,closeModal:function(){e.props.closeModal()}})})]})})}}]),s}(a.Component),Pa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={assoc:a.props.assoc,all_facilities:a.props.assoc.all_facilities,facilities:[],excluded_facilities:[]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(Object(j.a)(Object(j.a)({},this.props.assoc),{facilities:this.props.assoc.facilities.map((function(e){return{value:e[0],label:e[1]}})),excluded_facilities:this.props.assoc.excluded_facilities.map((function(e){return{value:e[0],label:e[1]}}))})),this.getAllFacilities(this.props.assoc.crs_id),this.props.onRef(this)}},{key:"getAllFacilities",value:function(e){var t=this;ua.getFacilities(e).then((function(e){var s=e.Facilities.map((function(e){return{value:e.FacilityId,label:e.FacilityName}}));t.setState({facilities:s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),excluded_facilities:s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){}))}},{key:"onSubmit",value:function(e,t,s){var a=JSON.parse(JSON.stringify(e));a.facilities=a.facilities.map((function(e){return e.value})),a.excluded_facilities=a.excluded_facilities.map((function(e){return e.value})),ua.updateSurveyAssociation(a,s.assoc.survey_association_id).then((function(e){s.addAlert({type:"success",message:"Association has been updated successfully"}),s.close(e.survey)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.submitting;return Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",htmlFor:"all_facilities",children:["All Facilities ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{id:"all_facilities-yes",value:"true",onClick:function(){e.setState((function(e){return{all_facilities:!e.all_facilities}}))},name:"all_facilities",component:"input",checked:this.state.all_facilities,className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"all_facilities-yes",children:"Yes"}),Object(re.jsx)(g.a,{id:"all_facilities-no",value:"false",name:"all_facilities",onClick:function(){e.setState((function(e){return{all_facilities:!e.all_facilities}}))},checked:!this.state.all_facilities,className:"simple__radio",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"all_facilities-no",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:!1===this.state.all_facilities?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"facilities",children:["Facilities ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[me],name:"facilities",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.facilities,isSearchable:!1,isMulti:!0})]})}):Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"excluded_facilities",children:"Exclude "}),Object(re.jsx)(g.a,{name:"excluded_facilities",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.excluded_facilities,isSearchable:!1,isMulti:!0})]})})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:a,type:"submit",ref:"submit",children:"Save"})})]})]})}}]),s}(a.Component);Pa=Object(_.a)({form:"EditAssociationForm",destroyOnUnmount:!0})(Pa);var Ga=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Pa)),Ra=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:this.props.assoc.name}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ga,{assoc:this.props.assoc,close:function(){return e.props.closeModal()}})})]})})}}]),s}(a.Component),Ha=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={editSurveyModalIsOpen:!1,editAssociationModalIsOpen:!1,addAssociationModalIsOpen:!1,confirmModalIsOpen:!1,survey:null,deleteSurveyAssociation:null,editSurveyAssociation:null},e.openAddAssociationModal=e.openAddAssociationModal.bind(Object(b.a)(e)),e.closeModal=e.closeModal.bind(Object(b.a)(e)),e.deleteSurveyAssociation=e.deleteSurveyAssociation.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getSurvey()}},{key:"openAddAssociationModal",value:function(){this.setState({addAssociationModalIsOpen:!0})}},{key:"deleteSurveyAssociation",value:function(){var e=this;ua.deleteSurveyAssociation(this.state.deleteSurveyAssociation).then((function(t){e.props.addAlert({type:"success",message:"Association successfully deleted"}),e.setState({confirmModalIsOpen:!1,deleteSurveyAssociation:null},(function(){return e.getSurvey()}))})).catch((function(e){console.error(e)}))}},{key:"closeEditSurveyModal",value:function(e){(e=null!=e?e:this.state.survey).start_date=ue()(e.start_date).format("YYYY-MM-DD"),e.end_date=ue()(e.end_date).format("YYYY-MM-DD"),this.setState({editSurveyModalIsOpen:!1,survey:e})}},{key:"closeModal",value:function(){this.getSurvey(),this.exitModal()}},{key:"exitModal",value:function(){this.setState({addAssociationModalIsOpen:!1,editAssociationModalIsOpen:!1,editSurveyModalIsOpen:!1}),this.getSurvey()}},{key:"getSurvey",value:function(){var e=this;ua.getSurvey().then((function(t){e.setState({survey:t.survey})}))}},{key:"getFacilityName",value:function(e){if(e)return e.map((function(e){return e[1]})).join(", ")}},{key:"showAssociations",value:function(e){if(e)return e.map((function(e){return e.name})).join(", ")}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Survey Setup"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(){return e.setState({editSurveyModalIsOpen:!0})},className:"btn lnk",children:"Edit"})})}),null!=this.state.survey?Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is Enabled?:"}),Object(re.jsx)("span",{children:this.state.survey.enabled?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Status:"}),Object(re.jsx)("span",{children:this.state.survey.active?"Active":"Inactive"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Question:"}),Object(re.jsx)("span",{children:this.state.survey.question})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Start Date:"}),Object(re.jsx)("span",{children:ue()(new Date(Object(Ma.default)(this.state.survey.start_date))).format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"End Date:"}),Object(re.jsx)("span",{children:ue()(new Date(Object(Ma.default)(this.state.survey.end_date))).format("MM/DD/YYYY")})]}),this.state.survey.golf_associations&&this.state.survey.golf_associations.map((function(t,s){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"data-set"}),Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:[t.name,Object(re.jsxs)("div",{className:"panel__end",children:[Object(re.jsx)("button",{className:"btn lnk",style:{marginRight:"30px"},onClick:function(){return e.setState({editSurveyAssociation:t,editAssociationModalIsOpen:!0})},children:"Edit"}),Object(re.jsx)("button",{className:"btn lnk red",onClick:function(){return e.setState({confirmModalIsOpen:!0,deleteSurveyAssociation:t.survey_association_id})},children:"Delete"})]})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("h6",{className:"upload__label",children:" Facilities "}),!0===t.all_facilities?Object(re.jsxs)("div",{children:[Object(re.jsx)("h5",{className:"upload__info",children:" All facilities"}),0!==t.excluded_facilities.length&&Object(re.jsx)("h6",{className:"upload__label",children:" Excluded Facilities "}),Object(re.jsxs)("h5",{className:"upload__info",children:[" ",e.getFacilityName(t.excluded_facilities)," "]})]}):Object(re.jsx)("div",{children:Object(re.jsxs)("h5",{className:"upload__info",children:[" ",e.getFacilityName(t.facilities)]})})]})]})})})})]},s)}))]})})}):Object(re.jsx)("div",{}),Object(re.jsx)("div",{className:"col is-1-of-7 push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openAddAssociationModal()},className:"btn fill green ",children:"Add Association"})})]})]})})})}),Object(re.jsx)(et.a,{isOpen:this.state.addAssociationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,children:Object(re.jsx)(Da,{survey:this.state.survey,closeModal:function(){e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.editSurveyModalIsOpen,onRequestClose:function(){e.closeEditSurveyModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ta,{survey:this.state.survey,exitModal:function(){e.exitModal()},closeModal:function(t){e.closeEditSurveyModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.editAssociationModalIsOpen,onRequestClose:function(){e.closeEditAssociationModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ra,{assoc:this.state.editSurveyAssociation,closeModal:function(){e.closeModal()}})}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this entry?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmModalIsOpen:!1})},onConfirmAction:function(){return e.deleteSurveyAssociation()},openModal:this.state.confirmModalIsOpen,closeModal:function(){return e.setState({confirmModalIsOpen:!1})}})]})}}]),s}(a.Component);var Ua=Object(p.c)((function(e){return{federation:e.federation}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ha),La=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={active:!0,confirmAction:!1,active_changed:!1},a.addGhinSure="Are you sure you want to display this alert on GHIN.com?",a.removeGhinSure="Are you sure you want to remove this alert from displaying on GHIN.com?",a.addAdminSure="Are you sure you want to display this alert within the Admin Portal?",a.removeAdminSure="Are you sure you want to remove this alert from displaying within the Admin Portal?",a.addMobileSure="Are you sure you want to display this alert within the GHIN Mobile App?",a.removeMobiSure="Are you sure you want to remove this alert from displaying within the GHIN Mobile App?",a}return Object(c.a)(s,[{key:"onSubmit",value:function(e,t,s){e.active=e.active?"true":"false",dt.updateAlert(e).then((function(e){s.close(e.product_alert)})).catch((function(e){console.log(e)}))}},{key:"showConfirm",value:function(){!0===this.state.active_changed&&(this.setState({confirmAction:!0}),this.props.confirmModal())}},{key:"componentDidMount",value:function(){this.props.data?(this.setState({active:this.props.data.active}),this.props.initialize(this.props.data)):(this.setState({active:!1}),this.props.initialize({banner_alert_message:"",message_title:"",message_body:"",active:!1,source:this.props.type,federation_id:1}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=this.state.active,r="",c="";switch(this.props.type){case"ghin":r='The "Banner Alert Message" will be displayed at the top of GHIN.com.  When the banner is clicked, a modal will open and display the Message Title and Body.',c=o?this.addGhinSure:this.removeGhinSure;break;case"admin":r='The "Banner Alert Message" will be displayed at the top of each page within the Admin Portal. When the banner is clicked, a modal will open and display the Message Title and Body.',c=o?this.addAdminSure:this.removeAdminSure;break;default:r="The GHIN Mobile App Alert will display as a pop-up when the golfer accesses the app.",c=o?this.addMobileSure:this.removeMobiSure}return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:this.state.confirmAction?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("h2",{children:c}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.close(null)},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",children:"Confirm"})})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col auto push-right",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({active:!e.state.active,active_changed:!0})},checked:this.state.active,id:"active",value:!0,name:"active",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"active",children:"Display Alert"})]})}),Object(re.jsx)("div",{className:"row margin-bottom-32",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("strong",{className:"medium",children:r})})}),"mobile"!==this.props.type&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"banner_alert_message",children:"Banner Alert Message"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"banner_alert_message",id:"banner_alert_message"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"message_title",children:"Message Title"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"message_title",id:"message_title"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"message_body",children:"Message Body"}),Object(re.jsx)(g.a,{component:"textarea",className:"large-alert",name:"message_body",id:"message_body"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",onClick:function(){e.showConfirm()},children:"Save"})})]})]})})})}}]),s}(a.Component);La=Object(_.a)({form:"editAlertForm",destroyOnUnmount:!0})(La);var Ya=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(La)),za=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={isConfirmationModal:!1},a}return Object(c.a)(s,[{key:"confirmModal",value:function(){this.setState({isConfirmationModal:!0})}},{key:"render",value:function(){var e=this,t="";switch(this.props.type){case"ghin":t="GHIN.com Alert";break;case"admin":t="Admin Portal Alert";break;default:t="GHIN Mobile App Alert"}return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsx)("div",{className:"modal__head",children:this.state.isConfirmationModal?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"warning"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Are You Sure?"})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Edit ",t]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]})}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ya,{data:this.props.data,type:this.props.type,close:function(t){return e.props.closeModal(t)},confirmModal:function(){return e.confirmModal()}})})]})})}}]),s}(a.Component),Ba=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={isActive:!0},a}return Object(c.a)(s,[{key:"onSubmit",value:function(e,t,s){dt.updateVersionNumbers(e).then((function(e){var t={};e.version_numbers.forEach((function(e){t[e.source]=e})),s.close(t)})).catch((function(e){console.log(e)}))}},{key:"componentDidMount",value:function(){this.props.initialize({ios_bundle_version:this.props.data.ios&&this.props.data.ios.value,android_version_name:this.props.data.android&&this.props.data.android.value})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row margin-bottom-32",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("strong",{className:"medium",children:"The GHIN Mobile Apps will display a pop-up when the golfer accesses the app and the version number of the installed app is lower than the server version number."})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"address.city",children:["iOS Bundle Short Version ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he],name:"ios_bundle_version",id:"ios_bundle_version"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"address.city",children:["Android Version Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he],name:"android_version_name",id:"android_version_name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Ba=Object(_.a)({form:"editMobileVersionForm",destroyOnUnmount:!0})(Ba);var qa=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Ba)),Va=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit GHIN Mobile App Version Numbers"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(qa,{data:this.props.data,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Wa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={editAlertModalIsOpen:!1,editMobileVersionModalIsOpen:!1,alerts:{},versions:{}},e.openEditAlertModal=e.openEditAlertModal.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;dt.getAlerts("all","all").then((function(t){var s={};t.product_alerts.forEach((function(e){s[e.source]=e})),e.setState({alerts:s})})).catch((function(e){console.log(e)})),dt.getVersionNumbers().then((function(t){var s={};t.version_numbers.forEach((function(e){s[e.source]=e})),e.setState({versions:s})})).catch((function(e){console.log(e)}))}},{key:"openEditAlertModal",value:function(e){this.setState({editAlertModalIsOpen:e})}},{key:"closeEditAlertModal",value:function(e){var t=this.state.alerts;e&&(t[this.state.editAlertModalIsOpen]=e),this.setState({editAlertModalIsOpen:!1,alerts:t})}},{key:"openEditMobileVersionModal",value:function(){this.setState({editMobileVersionModalIsOpen:!0})}},{key:"closeEditMobileVersionModal",value:function(e){this.setState({editMobileVersionModalIsOpen:!1,versions:e||this.state.versions})}},{key:"render",value:function(){var e=this;return this.props.access.notification_user||this.props.history.push(this.props.access.homepage),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:["Admin Portal Alert",Object(re.jsx)("div",{className:"panel__end",children:this.state.alerts.admin&&this.state.alerts.admin.active?Object(re.jsx)("span",{className:"pill green",children:"Alert is Active"}):Object(re.jsx)("span",{className:"pill white",children:"Alert is not Active"})})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAlertModal("admin")},className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row margin-bottom-32",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("strong",{className:"medium",children:'The "Banner Alert Message" will be displayed at the top of each page within the Admin Portal. When the banner is clicked, a modal will open and display the Message Title and Body.'})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Banner Alert Message"}),Object(re.jsx)("input",{disabled:!0,value:this.state.alerts.admin&&this.state.alerts.admin.banner_alert_message,autoComplete:"off",type:"text"})]})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Message Title"}),Object(re.jsx)("input",{disabled:!0,autoComplete:"off",value:this.state.alerts.admin&&this.state.alerts.admin.message_title,type:"text"})]})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Message Body"}),Object(re.jsx)("textarea",{disabled:!0,className:"large-alert",value:this.state.alerts.admin&&this.state.alerts.admin.message_body})]})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:["GHIN.com Alert",Object(re.jsx)("div",{className:"panel__end",children:this.state.alerts.ghin&&this.state.alerts.ghin.active?Object(re.jsx)("span",{className:"pill green",children:"Alert is Active"}):Object(re.jsx)("span",{className:"pill white",children:"Alert is not Active"})})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAlertModal("ghin")},className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row margin-bottom-32",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("strong",{className:"medium",children:'The "Banner Alert Message" will be displayed at the top of GHIN.com.  When the banner is clicked, a modal will open and display the Message Title and Body.'})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Banner Alert Message"}),Object(re.jsx)("input",{disabled:!0,value:this.state.alerts.ghin&&this.state.alerts.ghin.banner_alert_message,autoComplete:"off",type:"text"})]})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Message Title"}),Object(re.jsx)("input",{disabled:!0,autoComplete:"off",value:this.state.alerts.ghin&&this.state.alerts.ghin.message_title,type:"text"})]})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Message Body"}),Object(re.jsx)("textarea",{disabled:!0,className:"large-alert",value:this.state.alerts.ghin&&this.state.alerts.ghin.message_body})]})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:["GHIN Mobile App Alert",Object(re.jsx)("div",{className:"panel__end",children:this.state.alerts.mobile&&this.state.alerts.mobile.active?Object(re.jsx)("span",{className:"pill green",children:"Alert is Active"}):Object(re.jsx)("span",{className:"pill white",children:"Alert is not Active"})})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAlertModal("mobile")},className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row margin-bottom-32",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("strong",{className:"medium",children:"The GHIN Mobile App Alert will display as a pop-up when the golfer accesses the app."})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Message Title"}),Object(re.jsx)("input",{disabled:!0,value:this.state.alerts.mobile&&this.state.alerts.mobile.message_title,autoComplete:"off",type:"text"})]})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Message Body"}),Object(re.jsx)("textarea",{disabled:!0,className:"large-alert",value:this.state.alerts.mobile&&this.state.alerts.mobile.message_body})]})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"GHIN Mobile App Version Numbers"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openEditMobileVersionModal()},className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row margin-bottom-32",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("strong",{className:"medium",children:"The GHIN Mobile Apps will display a pop-up when the golfer accesses the app and the version number of the installed app is lower than the server version number."})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"iOS Bundle Short Version"}),Object(re.jsx)("input",{disabled:!0,value:this.state.versions.ios&&this.state.versions.ios.value,autoComplete:"off",type:"text"})]})})}),Object(re.jsx)("div",{className:"row ",children:Object(re.jsx)("div",{className:"col is-4-of-6 centered",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"facility-name",children:"Android Version Name"}),Object(re.jsx)("input",{disabled:!0,value:this.state.versions.android&&this.state.versions.android.value,autoComplete:"off",type:"text"})]})})})]})]})})})]}),Object(re.jsx)(et.a,{isOpen:!!this.state.editAlertModalIsOpen,onRequestClose:function(){e.closeEditAlertModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,children:Object(re.jsx)(za,{data:this.state.alerts[this.state.editAlertModalIsOpen],type:this.state.editAlertModalIsOpen,closeModal:function(t){e.closeEditAlertModal(t)}})}),Object(re.jsx)(et.a,{isOpen:!!this.state.editMobileVersionModalIsOpen,onRequestClose:function(){e.closeEditMobileVersionModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!1,shouldFocusAfterRender:!1,children:Object(re.jsx)(Va,{data:this.state.versions,profile:this.props.federation,closeModal:function(t){e.closeEditMobileVersionModal(t)}})})]})}}]),s}(a.Component);var Ka=Object(p.c)((function(e){return{access:e.user.access}}),null)(Wa),Ja=Ve(function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={image:a.props.image,tag:a.props.tag},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Image Url"}),Object(re.jsx)("span",{className:"image-preview__url",children:this.state.image})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"image-tag",children:"Image Name"}),Object(re.jsx)("input",{type:"text",value:this.state.tag,onChange:function(t){return e.setState({tag:t.target.value})},autoComplete:"off",name:"image-tag",id:"image-tag"})]})}),this.props.errors&&Object(re.jsxs)("div",{className:"row",children:[" ",Object(re.jsxs)("div",{className:"col is-1-of-2",children:[" ",Object(re.jsx)("span",{className:"validation__message is-error",children:this.props.errors})," "]})," "]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",type:"button",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",type:"submit",ref:"submit",onClick:function(){return e.props.closeModal({tag:e.state.tag})},children:"Save"})})]})]})}}]),s}(a.Component)),$a=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Image Information"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ja,{errors:this.props.errors,image:this.props.image,tag:this.props.tag,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Xa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={image:a.props.image,editKioskImageInformationModalIsOpen:!1,confirmModalIsOpen:!1,confirmElementDelete:!1,ad_image_url:a.props.ad_image_url,tag:a.props.tag,displayError:!1},a.openEditKioskImageInformationModal=a.openEditKioskImageInformationModal.bind(Object(b.a)(a)),a.onSucefullyResponse=a.onSucefullyResponse.bind(Object(b.a)(a)),a.onErrorResponse=a.onErrorResponse.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditKioskImageInformationModal",value:function(){this.setState({editKioskImageInformationModalIsOpen:!0,displayError:!1})}},{key:"closeModal",value:function(){this.setState({confirmModalIsOpen:!1,editKioskImageInformationModalIsOpen:!1,displayError:!1})}},{key:"closeImageModal",value:function(e){e?this.props.onsetKioskImageURL(e,this.onSucefullyResponse,this.onErrorResponse):this.setState({editKioskImageInformationModalIsOpen:!1})}},{key:"onSucefullyResponse",value:function(e){this.setState({editKioskImageInformationModalIsOpen:!1,ad_image_url:e?e.ad_image_url:this.state.ad_image_url,tag:e?e.tag:this.state.tag,displayError:!1})}},{key:"onErrorResponse",value:function(e){this.setState({editKioskImageInformationModalIsOpen:!0,displayError:!0})}},{key:"setImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.convertToBase64(t);case 2:return s=e.sent,e.next=5,Na.getImageDimensions(s);case 5:if(a=e.sent,!this.props.requiredWidth||!this.props.requiredHeight||a.width===this.props.requiredWidth||a.height===this.props.requiredHeight){e.next=8;break}return e.abrupt("return",alert("Image size not right"));case 8:this.saveImage(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeImage",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"saveImage",value:function(e,t){this.props.onSave(e)}},{key:"componentDidMount",value:function(){this.setState({image:this.props.image,tag:this.props.tag})}},{key:"componentDidUpdate",value:function(e){this.props.image!==e.image&&this.setState({image:this.props.image,tag:this.props.tag})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"panel__head",children:[this.props.title,this.props.removable&&Object(re.jsxs)("div",{className:"panel__end",children:[this.props.image&&Object(re.jsx)("button",{onClick:function(){return e.openEditKioskImageInformationModal()},className:"btn lnk",style:{marginRight:"30px"},children:"Edit"}),Object(re.jsx)("button",{className:"btn lnk red",onClick:function(){return e.setState({confirmElementDelete:!0})},children:"Delete"})]})]}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsx)("div",{className:"upload__item",children:this.state.image?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("figure",{className:"large",style:{width:"100%"},children:Object(re.jsx)("img",{src:this.state.image,style:{width:"100%"},alt:""})})}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:this.state.image,children:this.state.image}),Object(re.jsx)("h6",{className:"upload__label",children:"Image Name:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.tag})]})})]})}),Object(re.jsx)("div",{className:"upload__controls list",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:function(){e.removeImage()},children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})})]}):Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},t()),{},{children:[Object(re.jsx)("input",Object(j.a)({},s())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{className:"btn fill green",children:"Choose from computer"})]}))}})})})}),Object(re.jsx)(et.a,{isOpen:this.state.editKioskImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:this.state.editKioskImageInformationModalIsOpen&&Object(re.jsx)($a,{errors:this.state.displayError?this.props.errors:null,image:this.state.image,tag:this.props.tag,closeModal:function(t){return e.closeImageModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){e.setState({confirmModalIsOpen:!1}),e.props.onRemove()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this entry?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmElementDelete:!1})},onConfirmAction:function(){return e.props.onDelete()},openModal:this.state.confirmElementDelete,closeModal:function(){return e.setState({confirmElementDelete:!1})}})]})}}]),s}(a.Component),Qa=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,image:a.props.image,ad_image_url:a.props.ad_image_url,mobile_image1_ad_tag:a.props.mobile_image1_ad_tag,mobile_image2_ad_tag:a.props.mobile_image2_ad_tag,confirmModalIsOpen:!1,displayError:!1,display_image_name:a.props.display_image_name},a.openEditImageInformationModal=a.openEditImageInformationModal.bind(Object(b.a)(a)),a.onSucefullyResponse=a.onSucefullyResponse.bind(Object(b.a)(a)),a.onErrorResponse=a.onErrorResponse.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditImageInformationModal",value:function(){this.setState({editImageInformationModalIsOpen:!0,displayError:!1})}},{key:"closeModal",value:function(){this.setState({confirmModalIsOpen:!1,editImageInformationModalIsOpen:!1,displayError:!1})}},{key:"closeImageModal",value:function(e){e?this.props.onsetImageURL(e,this.onSucefullyResponse,this.onErrorResponse):this.setState({editImageInformationModalIsOpen:!1})}},{key:"onSucefullyResponse",value:function(e){this.setState({editImageInformationModalIsOpen:!1,ad_image_url:e?e.ad_image_url:this.state.ad_image_url,mobile_image1_ad_tag:e?e.mobile_image1_ad_tag:this.state.mobile_image1_ad_tag,mobile_image2_ad_tag:e?e.mobile_image2_ad_tag:this.state.mobile_image2_ad_tag,displayError:!1})}},{key:"onErrorResponse",value:function(e){this.setState({editImageInformationModalIsOpen:!0,displayError:!0})}},{key:"setImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.convertToBase64(t);case 2:return s=e.sent,e.next=5,Na.getImageDimensions(s);case 5:if(a=e.sent,!this.props.requiredWidth||!this.props.requiredHeight||a.width===this.props.requiredWidth||a.height===this.props.requiredHeight){e.next=8;break}return e.abrupt("return",alert("Image size not right"));case 8:this.saveImage(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeImage",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"saveImage",value:function(e,t){this.props.onSave(e)}},{key:"componentDidMount",value:function(){this.setState({image:this.props.image})}},{key:"componentDidUpdate",value:function(e){this.props.image===e.image&&this.props.ad_image_url===e.ad_image_url||this.setState({image:this.props.image,mobile_image1_ad_tag:this.props.mobile_image1_ad_tag,mobile_image2_ad_tag:this.props.mobile_image2_ad_tag,ad_image_url:this.props.ad_image_url})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"panel__head",children:this.props.title}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsx)("div",{className:"upload__item",children:this.state.image?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("figure",{className:"large",style:{width:"100%"},children:Object(re.jsx)("img",{src:this.state.image,style:{width:"100%"},alt:""})})}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:this.state.image,children:this.state.image}),Object(re.jsx)("h6",{className:"upload__label",children:"Redirect URL:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.ad_image_url}),Object(re.jsx)("h6",{className:"upload__label",children:"Image Name:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.mobile_image1_ad_tag||this.state.mobile_image2_ad_tag})]})})]})}),Object(re.jsxs)("div",{className:"upload__controls list",children:[Object(re.jsx)("button",{onClick:function(){return e.openEditImageInformationModal()},className:"btn lnk",children:"Edit"}),Object(re.jsx)("button",{disabled:!this.state.image,className:"btn fill gray",onClick:function(){e.removeImage()},children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})]})]}):Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,children:function(t){var s=t.getRootProps,a=t.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},s()),{},{children:[Object(re.jsx)("input",Object(j.a)({},a())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{disabled:e.state.image,className:"btn fill green",children:"Choose from computer"})]}))}})})})}),Object(re.jsx)(et.a,{isOpen:this.state.editImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:this.state.editImageInformationModalIsOpen&&Object(re.jsx)(ya,{display_image_name:this.state.display_image_name,errors:this.state.displayError?this.props.errors:null,image:this.state.image,has_ad_image_url:!0,ad_image_url:this.state.ad_image_url,remove_alt_text:!0,mobile_image1_ad_tag:this.props.mobile_image1_ad_tag,mobile_image2_ad_tag:this.props.mobile_image2_ad_tag,closeModal:function(t){return e.closeImageModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){e.setState({confirmModalIsOpen:!1}),e.props.onRemove()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"})]})}}]),s}(a.Component),Za=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,editKioskImageInformationModalIsOpen:!1,settings:null,image:null,error:null},a}return Object(c.a)(s,[{key:"closeModal",value:function(e){this.setState({settings:e||this.state.settings})}},{key:"removeImage",value:function(e){var t=this;ua.removeDefaultImage(this.props.associationId,this.state.settings.id,Object(Et.a)({},"delete_"+e,!0)).then((function(e){t.setState({settings:e.federation_settings})})).catch((function(e){console.error(e)}))}},{key:"saveImage",value:function(e,t){var s=this;ua.editDefaultImageMobileApp(this.props.federationId,this.state.settings.id,Object(Et.a)({},t,e)).then((function(e){s.setState({settings:e.federation_settings})})).catch((function(e){console.error(e)}))}},{key:"setImageURL",value:function(e,t,s,a){var i,n=this;e&&(ua.editDefaultGolferProducts(this.props.federationId,this.state.settings.id,(i={},Object(Et.a)(i,t+"_ad_url",e.ad_image_url),Object(Et.a)(i,"mobile_image1_ad_tag",e.mobile_image1_ad_tag),Object(Et.a)(i,"mobile_image2_ad_tag",e.mobile_image2_ad_tag),i)).then((function(t){n.setState({settings:t.federation_settings,error:null}),s(e)})).catch((function(e){n.setState({error:e.data.error}),console.error(e.data.error)})),a(e))}},{key:"setKioskImageURL",value:function(e,t,s,a,i){var n=this,o=this.state.kiosk_images;e&&(ua.editDefaultKioskImage(this.props.federationId,t,{kiosk_image:{tag:e.tag}}).then((function(t){o[s]=t.federation_kiosk_image,n.setState({kiosk_images:o,error:null}),a(e)})).catch((function(e){n.setState({error:e.data.error}),console.error(e.data.error)})),i(e))}},{key:"addNewDefaultKioskImage",value:function(){var e=this,t=this.state.kiosk_images;ua.addDefaultKioskImage(this.props.federationId).then((function(s){t.push(s.federation_kiosk_image),e.setState({kiosk_images:t})})).catch((function(e){console.error(e)}))}},{key:"saveKioskImage",value:function(e,t,s){var a=this,i=this.state.kiosk_images;ua.uploadDefaultKioskImage(this.props.federationId,t,e).then((function(e){i[s]=e.federation_kiosk_image,a.setState({kiosk_images:i})})).catch((function(e){console.error(e)}))}},{key:"removeKioskImage",value:function(e,t){var s=this,a=this.state.kiosk_images;ua.removeDefaultKioskImage(this.props.federationId,e).then((function(e){a[t]=e.federation_kiosk_image,s.setState({kiosk_images:a})})).catch((function(e){console.error(e)}))}},{key:"deleteKioskImage",value:function(e,t){var s=this,a=this.state.kiosk_images;ua.deleteDefaultKioskImage(this.props.federationId,e).then((function(e){a.splice(t,1),s.setState({kiosk_images:a})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;ua.getGolferProductsForFederation(this.props.federationId).then((function(t){ua.getFederationKioskImages(e.props.federationId).then((function(s){e.setState({settings:t.federation_settings,kiosk_images:s.federation_kiosk_images})})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:this.state.settings&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Default Promotional Images on Kiosk"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("h5",{className:"upload__title",children:"These images will appear at the bottom of all screens within the Kiosk when no images have been uploaded for an Allied Golf Association."}),Object(re.jsxs)("ul",{className:"upload__requirements",children:[Object(re.jsx)("li",{children:"Required Width = 728 px"}),Object(re.jsx)("li",{children:"Required Height = 90 px"}),Object(re.jsx)("li",{children:"Required Format = PNG, JPG"})]}),Object(re.jsxs)("div",{className:"columns",children:[this.state.kiosk_images&&this.state.kiosk_images.map((function(t,s){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(Xa,{title:"Promotional Image on Kiosk (".concat(s+1,")"),image:t.image_url,tag:t.tag,removable:!0,requiredHeight:90,requiredWidth:728,errors:e.state.error,onSave:function(a){e.saveKioskImage(a,t.id,s)},onRemove:function(){e.removeKioskImage(t.id,s)},onDelete:function(){e.deleteKioskImage(t.id,s)},onsetKioskImageURL:function(a,i,n){return e.setKioskImageURL(a,t.id,s,i,n)}},t.id)})})})})),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.addNewDefaultKioskImage()},children:"Add Promotional Images on Kiosk"})})})]})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Default Promotional Images on Mobile App"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("h5",{className:"upload__title",children:"These images will appear on the Golfer Home screen of the GHIN Mobile App when no images have been uploaded for an Allied Golf Association."}),Object(re.jsxs)("ul",{className:"upload__requirements",children:[Object(re.jsx)("li",{children:"Required Width = 1920 px"}),Object(re.jsx)("li",{children:"Required Height = 800 px"}),Object(re.jsx)("li",{children:"Required Format = PNG, JPG"})]}),Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(Qa,{title:"Promotional Image on Mobile App - Placement 1",image:this.state.settings.mobile_app_promotional_image1,ad_image_url:this.state.settings.mobile_image1_ad_url,mobile_image1_ad_tag:this.state.settings.mobile_image1_ad_tag,requiredWidth:1920,requiredHeight:800,display_image_name:"mobile_image1_ad_tag",errors:this.state.error,onSave:function(t){e.saveImage(t,"mobile_app_promotional_image1")},onRemove:function(){e.removeImage("image1")},onsetImageURL:function(t,s,a){return e.setImageURL(t,"mobile_image1",s,a)}})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(Qa,{title:"Promotional Image on Mobile App - Placement 2",image:this.state.settings.mobile_app_promotional_image2,ad_image_url:this.state.settings.mobile_image2_ad_url,mobile_image2_ad_tag:this.state.settings.mobile_image2_ad_tag,requiredWidth:1920,requiredHeight:800,display_image_name:"mobile_image2_ad_tag",errors:this.state.error,onSave:function(t){e.saveImage(t,"mobile_app_promotional_image2")},onRemove:function(){e.removeImage("image2")},onsetImageURL:function(t,s,a){return e.setImageURL(t,"mobile_image2",s,a)}})})})})]})]})]})})})]})})}}]),s}(a.Component);var ei=Object(p.c)((function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Za),ti=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"vertical-tabs__container row",children:[Object(re.jsxs)("ul",{className:"vertical-tabs col",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"/manage/associations/account/primary",children:"Primary"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"/manage/associations/account/survey-setup",children:"Survey Setup"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"/manage/associations/account/golfer-products",children:"Golfer Products"})}),this.props.notification_user&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"/manage/associations/account/alert-management",children:"Alert Management"})})]}),Object(re.jsx)("div",{className:"vertical-tabs__panel col",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"/manage/associations/account",to:"/manage/associations/account/primary"}),Object(re.jsx)(u.d,{path:"/manage/associations/account/primary",component:Aa}),Object(re.jsx)(u.d,{path:"/manage/associations/account/survey-setup",component:Ua}),Object(re.jsx)(u.d,{path:"/manage/associations/account/golfer-products",component:ei}),Object(re.jsx)(u.d,{path:"/manage/associations/account/alert-management",component:Ka})]})})]})})}}]),s}(a.Component);var si=Object(p.c)((function(e){return{notification_user:e.user.access.notification_user}}),null)(ti),ai=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1},a.openGolferAddModal=a.openGolferAddModal.bind(Object(b.a)(a)),a.openClubAddModal=a.openClubAddModal.bind(Object(b.a)(a)),a.openAssocAddModal=a.openAssocAddModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openGolferAddModal",value:function(){this.setState({AddGolferModalIsOpen:!0})}},{key:"openClubAddModal",value:function(){this.setState({AddClubModalIsOpen:!0})}},{key:"openAssocAddModal",value:function(){this.setState({AddAssocModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&"golfer"===e.type&&(e.golfer?this.props.history.push("/manage/association/".concat(e.golfer.association_id,"/club/").concat(e.golfer.club_id,"/golfer/").concat(e.golfer.id,"/account")):this.props.updateRosterList&&this.props.updateRosterList()),e&&"club"===e.type&&(this.props.reloadClub&&this.props.reloadClub(e),this.props.history.push("/manage/association/".concat(e.club.club.golf_association_id,"/club/").concat(e.club.club.id,"/account"))),e&&"association"===e.type&&(this.props.setRefreshList&&this.props.setRefreshList(!0),this.props.history.push("/manage/association/".concat(e.association.association.id,"/account"))),this.setState({AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"page__head",children:[Object(re.jsx)("h2",{className:"page__title",children:this.props.title}),!this.props.publicView&&Object(re.jsxs)("ul",{className:"page__actions",children:[Ye(this.props.user_type,"edit-club")&&Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:this.openGolferAddModal,className:"btn fill green",children:"Add Golfer"})}),Ye(this.props.user_type,"edit-association")&&Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:this.openClubAddModal,className:"btn fill green",children:"Add Club"})}),Ye(this.props.user_type,"edit-associations")&&Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:this.openAssocAddModal,className:"btn fill green",children:"Add Association"})})]})]}),Object(re.jsx)(et.a,{isOpen:this.state.AddGolferModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(ks,{association:this.props.association?this.props.association.id:this.props.user.access.default_association_id,club:this.props.club?this.props.club:this.props.user.access.default_club_id,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.AddClubModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ds,{association:this.props.association?this.props.association.id:this.props.user.access.default_association_id,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.AddAssocModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ls,{setRefreshList:function(t){e.props.setRefreshList(t)},closeModal:function(t){e.closeModal(t)}})})]})}}]),s}(a.Component);var ii=Object(p.c)((function(e){return{user_type:e.user.access.user_type,user:e.user}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(Object(u.o)(ai)),ni=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1,refreshList:!1},a.openGolferAddModal=a.openGolferAddModal.bind(Object(b.a)(a)),a.openClubAddModal=a.openClubAddModal.bind(Object(b.a)(a)),a.openAssocAddModal=a.openAssocAddModal.bind(Object(b.a)(a)),a.setRefreshList=a.setRefreshList.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"setRefreshList",value:function(e){this.setState({refreshList:e})}},{key:"openGolferAddModal",value:function(){this.setState({AddGolferModalIsOpen:!0})}},{key:"openClubAddModal",value:function(){this.setState({AddClubModalIsOpen:!0})}},{key:"openAssocAddModal",value:function(){this.setState({AddAssocModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&"golfer"===e.type&&this.props.history.push("/manage/association/".concat(e.golfer.association_id,"/club/").concat(e.golfer.club_id,"/golfer/").concat(e.golfer.id)),e&&"club"===e.type&&this.props.history.push("/manage/association/".concat(e.club.club.golf_association_id,"/club/").concat(e.club.club.id,"/account")),this.setState({AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1})}},{key:"componentDidMount",value:function(){var e=this;ua.get().then((function(t){e.props.updateFederation(t.federation)})),et.a.setAppElement("body")}},{key:"componentDidUpdate",value:function(e,t,s){this.props.location.pathname!==e.location.pathname&&"super-admin"!==this.props.user_type&&this.props.match.url!==this.props.homepage&&this.props.history.push(this.props.homepage)}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)(ii,{title:this.props.federation.name,setRefreshList:function(t){return e.setRefreshList(t)}}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/list"),children:"Association List"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/group"),children:"Association Groups"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/account"),children:"Account"})})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/list")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/list"),render:function(t){return Object(re.jsx)(ea,{refreshList:e.state.refreshList})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/group"),render:function(t){return Object(re.jsx)(da,{canEditAssociations:Ye(e.props.user_type,"edit-associations")})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/account"),component:si})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var oi=Object(p.c)((function(e){return{federation:e.federation,user_type:e.user.access.user_type,homepage:e.user.access.homepage}}),(function(e){var t=Object(v.b)({updateFederation:Ca},e);return Object(j.a)({dispatch:e},t)}))(ni),ri=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){a.setState({filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))},(function(){a.updateTable()}))},a.updateGroupFilter=function(e,t){t.value?a.setState({filters:Object(Et.a)({club_name:"",membership_code:[],authorized:null,is_test:null,is_dac:null,status:[],technology_provider:null},e,t),isGroupFiltered:!0},(function(){a.updateTable()})):a.reset()},a.updateTable=us()((function(){var e=qs.filtersToArray(a.state.filters);a.props.updateFiltered(e)}),200),a.state={filters:{club_name:"",membership_code:[],authorized:{label:"Yes",value:!0},is_test:e.test_assoc?{label:"Yes",value:!0}:{label:"No",value:!1},is_dac:null,status:[{label:"Active",value:"Active"}],technology_provider:{label:"GHIN",value:"GHIN"},in_group:[]},isGroupFiltered:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.updateTable()}},{key:"reset",value:function(){var e=this;this.setState({filters:{club_name:"",membership_code:[],authorized:{label:"Yes",value:!0},is_test:this.props.test_assoc?{label:"Yes",value:!0}:{label:"No",value:!1},is_dac:null,status:[{label:"Active",value:"Active"}],technology_provider:{label:"GHIN",value:"GHIN"},in_group:[]},isGroupFiltered:!1},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return this.props.hideFilters?null:Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Club Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.club_name,name:"association-name",id:"association-name",disabled:this.state.isGroupFiltered,onChange:function(t){e.updateFilter("club_name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{options:["Type 1","Type 2","Type 3"],value:this.state.filters.club_type,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("club_type",t)},label:"Club Type"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.filters.status,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("status",t)},label:"Club Status"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{options:["Affiliate","Military","Private","Public","Resort","Semi-Private","Not Specified"],value:this.state.filters.club_category,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("club_category",t)},label:"Club Category"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{options:[{label:"Yes",value:!0},{label:"No",value:!1}],value:this.state.filters.authorized,singleChoice:!0,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("authorized",t)},label:"Authorized?"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{options:this.props.membershipTypes.sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1})),value:this.state.filters.membership_code,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("membership_code",t)},label:"Membership Code (MC)"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{value:!0,label:"DAC only"},{value:!1,label:"Non-DAC"}],value:this.state.filters.is_dac,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("is_dac",t)},label:"Handicap Oversight"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{singleChoice:!0,options:Is,value:this.state.filters.technology_provider,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("technology_provider",t)},label:"Front End Provider"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{label:"Yes",value:!0},{label:"No",value:!1}],value:this.state.filters.is_test,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("is_test",t)},label:"Is Test Club?"})})]})]})})}),Object(re.jsx)("div",{className:"col is-1-of-14 ",children:Object(re.jsx)("div",{className:"form__separator or top"})}),Object(re.jsx)("div",{className:"col is-1-of-7",children:Object(re.jsx)(Bs,{singleChoice:!0,options:this.props.club_groups,value:this.state.filters.in_group,onChange:function(t){return e.updateGroupFilter("in_group",t)},label:"Club Group"})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-14",children:Object(re.jsx)("button",{className:"btn fill gray top",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),ci=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={now:!0,future:!1,type:e.isAllSelected?"filtered":"selected"},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.change("now",!0),this.props.onRef(this),this.setState({type:this.props.isAllSelected?"filtered":"selected"})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a={};if("filtered"===this.state.type&&(delete(a=Object(j.a)(Object(j.a)({},a),s.filters)).page,delete a.per_page),e.future&&!e.date)throw new O.a({date:"This field is required"});var i={};return this.props.isAllSelected?(delete(a=Object(j.a)(Object(j.a)({},a),s.filters)).page,delete a.per_page,i.select_all=!0,i.unchecked_items=s.clubs):i.clubs=s.clubs,e.future&&(i.from_date=ue()(e.date).format("YYYY-MM-DD")),"activate"===s.type?Zt.activateClubs(s.associationId,i,a).then((function(t){s.onSuccess(e.now,t)})):Zt.inactivateClubs(s.associationId,i,a).then((function(t){s.onSuccess(e.now,t)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsxs)("span",{className:"label",children:["When would you like to ",this.props.type," the selected ",this.props.clubs.length>1?"clubs":"club","?"]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({now:!0,future:!1}),e.props.change("future",!1)},checked:this.state.now,id:"now",value:!0,name:"now",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"now",children:"Now"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({now:!1,future:!0}),e.props.change("now",!1),e.props.change("date","")},checked:this.state.future,id:"future",value:!0,name:"future",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"future",children:"Future Date"})]})}),this.state.future&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("label",{htmlFor:"date",children:["Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{minDate:new Date(ue()().add(1,"days")),className:"date",showMonthDropdown:!0,showYearDropdown:!0,value:null,validate:[he],name:"date",id:"date",component:os,onFocus:function(t){return e.props.change("date",new Date(ue()().add(1,"days")))},placeholder:"Select ..."})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Submit"})})]})]})})}}]),s}(a.Component);ci=Object(_.a)({form:"editClubStatusForm",destroyOnUnmount:!0})(ci);var li=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(ci)),di=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=Object(We.a)(this.props.clubs);return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsxs)("h2",{className:"modal__title",children:[this.props.type&&this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)," Clubs"]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.success?Object(re.jsx)(Ss,{openModal:this.state.success,onMainAction:function(){e.props.closeModal("refresh")},warning:0===this.state.data.successfully_activated_clubs&&this.state.data.unsuccessfully_activated_clubs>0||0===this.state.data.successfully_inactivated_clubs&&this.state.data.unsuccessfully_inactivated_clubs>0,warningTitle:"Please Review",message:"activate"===this.props.type?Object(re.jsxs)(a.Fragment,{children:[0!==this.state.data.successfully_activated_clubs&&Object(re.jsxs)("p",{children:[this.state.data.successfully_activated_clubs," ",this.state.data.successfully_activated_clubs>1?"clubs have":"club has"," been ",Object(re.jsx)("span",{className:"underline",children:"activated"})," successfully."]}),0!==this.state.data.unsuccessfully_activated_clubs&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{className:"validation__message is-error",children:[this.state.data.unsuccessfully_activated_clubs," ",this.state.data.unsuccessfully_activated_clubs>1?"clubs":"club"," could not be ",Object(re.jsx)("span",{className:"underline",children:"activated"}),"."]})})]}):Object(re.jsxs)(a.Fragment,{children:[0!==this.state.data.successfully_inactivated_clubs&&Object(re.jsxs)("p",{children:[this.state.data.successfully_inactivated_clubs," ",this.state.data.successfully_inactivated_clubs>1?"clubs have":"club has"," been ",Object(re.jsx)("span",{className:"underline",children:"inactivated"})," successfully."]}),0!==this.state.data.unsuccessfully_inactivated_clubs&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{className:"validation__message is-error",children:[this.state.data.unsuccessfully_inactivated_clubs," ",this.state.data.unsuccessfully_inactivated_clubs>1?"clubs":"club"," could not be ",Object(re.jsx)("span",{className:"underline",children:"inactivated"}),"."]})})]}),closeModal:function(){e.props.closeModal("refresh")},golfer:this.state.golfer,mainLabel:"Ok",specialButton:this.state.data.download_url?Object(re.jsx)("a",{href:this.state.data.download_url,className:"btn lnk",target:"_blank",rel:"noreferrer",children:"Export Records for Review"}):null}):Object(re.jsx)(li,{type:this.props.type,isAllSelected:this.props.isAllSelected,filters:this.props.filters,clubs:t,onSuccess:function(t,s){return e.setState({success:!0,now:t,data:s})},associationId:this.props.assoc,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component);function ui(e){e=parseFloat(e).toFixed(2).toString();for(var t=/(-?\d+)(\d{3})/;t.test(e);)e=e.replace(t,"$1,$2");return"$"+e}var hi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={membershipTypes:[],membershipLoading:!0,isAllSelected:!1,type:"selected"},a.getMembershipTypes=a.getMembershipTypes.bind(Object(b.a)(a)),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getMembershipTypes(),this.setState({type:this.props.isAllSelected?"filtered":"selected"})}},{key:"getMembershipTypes",value:function(){var e=this;this.setState({membershipLoading:!0}),rs.getMembershipTypes(this.props.association.id).then((function(t){var s=t.membership_types.filter((function(e){return"false"!==e.active})).map((function(e){return Object(j.a)(Object(j.a)({},e),{name:e.code+" - "+e.description})}));e.setState({membershipLoading:!1,membershipTypes:s.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())}))})})).catch((function(t){console.error(t),e.setState({membershipLoading:!1,membershipTypes:[]})}))}},{key:"onSubmit",value:function(e,t,s){var a=this,i=[],n={};this.state.isAllSelected?i=this.state.membershipTypes.map((function(e){return e.id})):this.state.membershipTypes.forEach((function(e){e.isChecked&&i.push(e.id)}));var o={membership_ids:i};return this.props.isAllSelected?(delete(n=Object(j.a)(Object(j.a)({},n),s.filters)).page,delete n.per_page,o.select_all=!0,o.unchecked_items=Object(We.a)(this.props.clubs)):o.club_ids=Object(We.a)(this.props.clubs),"apply"===this.props.type?Zt.addMembershipType(o,n).then((function(e){a.props.onSuccess(e)})).catch((function(e){console.error(e)})):Zt.removeMembershipType(o,n).then((function(e){a.props.onSuccess(e)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("h2",{className:"form-section__title",children:this.props.association.name})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("span",{className:"label",children:"Please chose the Membership Type(s):"}),Object(re.jsxs)("table",{className:"data__table normal-overflow",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsxs)("th",{className:"primary",children:[Object(re.jsx)(g.a,{onClick:function(){var t=e.state.membershipTypes.map((function(t){return t.isChecked=!e.state.isAllSelected,t}));e.setState({membershipTypes:t,isAllSelected:!e.state.isAllSelected})},checked:this.state.isAllSelected,id:"isAllSelected",value:!0,name:"isAllSelected",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"isAllSelected"})]}),Object(re.jsx)("th",{children:"Membership Code - Membership Description"}),Object(re.jsx)("th",{children:"Bill Rate"})]})}),Object(re.jsx)("tbody",{children:this.state.membershipTypes.length?this.state.membershipTypes.map((function(t,s){return Object(re.jsxs)("tr",{children:[Object(re.jsxs)("td",{className:"primary",children:[Object(re.jsx)(g.a,{onClick:function(){var s=e.state.membershipTypes.map((function(e){return e.id===t.id?(t.isChecked=!t.isChecked,t):e}));e.setState({membershipTypes:s,isAllSelected:!1})},checked:t.isChecked||e.state.isAllSelected,id:t.id+".is_checked",value:!0,name:t.id+".is_checked",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:t.id+".is_checked"})]}),Object(re.jsx)("td",{children:t.name}),Object(re.jsx)("td",{children:ui(t.bill_rate)})]},s)})):Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:3,children:this.state.membershipLoading?Object(re.jsx)("span",{className:"data-table__loader"}):Object(re.jsx)("h1",{children:"No data available."})})})})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:function(){e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:i||0===this.state.membershipTypes.length,type:"submit",children:this.props.type})})]})]})})}}]),s}(a.Component);hi=Object(_.a)({form:"changeClubsMembershipTypeForm",destroyOnUnmount:!0})(hi);var pi=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(hi),mi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=Object(We.a)(this.props.clubs),s=this.props.isAllSelected;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Change Clubs Membership"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.success?Object(re.jsx)(Ss,{openModal:this.state.success,warning:0===this.state.data.successful&&this.state.data.unsuccessful>0,warningTitle:"Please Review",onMainAction:function(){e.props.closeModal("refresh")},message:Object(re.jsxs)(a.Fragment,{children:[this.state.data.successful>0&&Object(re.jsx)("p",{children:Object(re.jsx)("span",{children:"Membership Types for ".concat(this.state.data.successful," ").concat(this.state.data.successful>1?"clubs have":"club have"," been successfully ").concat("apply"===this.props.type?"applied":"removed",".")})}),this.state.data.unsuccessful>0&&Object(re.jsx)("p",{children:Object(re.jsx)("span",{className:"validation__message is-error",children:"Membership Types for ".concat(this.state.data.unsuccessful," ").concat(this.state.data.unsuccessful>1?"clubs":"club"," could not be ").concat("apply"===this.props.type?"applied":"removed",".")})})]}),closeModal:function(){e.props.closeModal("refresh")},golfer:this.state.golfer,mainLabel:"Ok",specialButton:this.state.data.download_url?Object(re.jsx)("a",{href:this.state.data.download_url,className:"btn lnk",target:"_blank",rel:"noreferrer",children:"Export Records for Review"}):null}):Object(re.jsx)(pi,{type:this.props.type,isAllSelected:s,filters:this.props.filters,association:this.props.association,clubs:t,closeModal:function(t){e.props.closeModal(t)},onSuccess:function(t){return e.setState({data:t,success:!0})}})})]})})}}]),s}(a.Component),bi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:this.props.loading?Object(re.jsx)("span",{className:"data-table__loader clubs-special-update__loader"}):Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",onClick:function(){return e.props.confirmAction()},children:"Confirm"})})]})})}}]),s}(a.Component),ji=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=this.state.specialUpdate;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"warning"})}),Object(re.jsx)("h2",{className:"modal__title",children:this.props.title}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-1",children:Object(re.jsx)("span",{className:"label",children:this.props.description})})}),this.state.success?Object(re.jsx)(Ss,{openModal:this.state.success,onMainAction:function(){return e.props.closeModal("success")},warning:0===t.active_clubs&&t.inactive_clubs>0||0===t.active_golfers&&t.inactive_golfers>0,warningTitle:"Please Review",message:Object(re.jsxs)(a.Fragment,{children:[(t.active_clubs>0||t.active_golfers>0)&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{children:["A Special Update has been successfully performed on",t.active_clubs>0&&" ".concat(t.active_clubs," ").concat(t.active_clubs>1||0===t.active_clubs?" clubs":" club","."),t.active_golfers>0&&" ".concat(t.active_golfers," ").concat(t.active_golfers>1||0===t.active_golfers?" golfers":" golfer",".")]})}),t.inactive_clubs>0&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{className:"special-update__warning",children:["A Special Update could not be performed on",t.inactive_clubs>0?" ".concat(t.inactive_clubs," ").concat(t.inactive_clubs>1||0===t.inactive_clubs?" clubs":" club","."):null]})}),t.inactive_golfers>0&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{className:"special-update__warning",children:["A Special Update could not be performed on",t.inactive_golfers?" ".concat(t.inactive_golfers," ").concat(t.inactive_golfers>1||0===t.inactive_golfers?" golfers":" golfer","."):null]})})]}),closeModal:function(){e.props.closeModal("success")},specialButton:t.download_url?Object(re.jsx)("a",{href:t.download_url,className:"btn lnk",target:"_blank",rel:"noreferrer",children:"Export Records for Review"}):null,mainLabel:"OK"}):Object(re.jsx)(bi,{loading:this.state.loading,closeModal:this.props.closeModal,confirmAction:function(){return e.startSpecialUpdate()}})]})]})})}},{key:"startSpecialUpdate",value:function(){var e=this;this.setState({loading:!0}),this.props.confirmAction().then((function(t){e.setState({success:!0,loading:!1,specialUpdate:t})}))}}]),s}(a.Component),fi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).processNewClub=function(e){e.toString()===this.props.match.params.id&&this.loadClubList()},e.showExportModal=function(){var t=e.table.getFilteredData();e.setState({tableInternalData:t,isExportDataOpened:!0})},e.showEditStatusModal=function(t){e.setState({activateModalOpened:t})},e.updateSpecialUpdateModalState=function(t){e.setState({isSpecialUpdateOpened:t})},e.state={tableFilterIsHidden:!1,associations:[],test_assoc:void 0,filtered:[],sorted:[{id:"club_name",desc:!1}],isAllSelected:!1,clubs:[],membershipTypes:[],club_groups:[],page:0,per_page:25,isExportDataOpened:!1,isSpecialUpdateOpened:!1,selectedClubs:[],unselectedClubs:[],tableInternalData:[],activateModalOpened:!1,membershipModalOpened:!1},e.handleDownload=e.handleDownload.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"toggleTableFilter",value:function(){this.setState({tableFilterIsHidden:!this.state.tableFilterIsHidden})}},{key:"getClubRequestParams",value:function(){var e={page:this.state.page+1,per_page:this.state.per_page};return this.state.sorted.length>0&&(e.sorting_criteria=this.state.sorted[0].id,e.order=this.state.sorted[0].desc?"desc":"asc"),e=Object(j.a)(Object(j.a)({},e),qs.filtersArrayToParams(this.state.filtered))}},{key:"isTestAssoc",value:function(){var e=this;rs.getAssociation(this.props.match.params.id).then((function(t){e.setState({test_assoc:t.is_test})}))}},{key:"loadClubList",value:function(){var e=this;this.setState({loading:!0,clubs:[]});var t=this.getClubRequestParams();rs.getClubs(this.props.match.params.id,t).then((function(t){var s=e.state.selectedClubs,a=t.clubs.map((function(t){var s=!1;return s=e.state.isAllSelected?!e.state.unselectedClubs.includes(t.id):e.state.selectedClubs.includes(t.id),Object(j.a)(Object(j.a)({},t),{},{selected:s,date:ue()(t.status_date).format("MM/DD/YYYY")})}));e.setState({loading:!1,clubs:a,selectedClubs:Object(We.a)(new Set(s)),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),inactive:parseInt(t["total-count"],10)-parseInt(t.meta.active_clubs_count,10),active:parseInt(t.meta.active_clubs_count,10)})})).catch((function(e){console.error(e)}))}},{key:"loadClubGroups",value:function(){var e=this;rs.getClubGroups(this.props.match.params.id).then((function(t){e.setState({club_groups:t.club_groups.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{label:e.name,value:e.id})}))})}))}},{key:"loadMembershipTypes",value:function(){var e=this;rs.getMembershipTypes(this.props.match.params.id).then((function(t){e.setState({membershipTypes:t.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.loadMembershipTypes(),this.loadClubGroups(),this.loadClubList(),this.isTestAssoc(),this.setState({AddClubSubscription:Ms.get().subscribe(this.processNewClub.bind(this))})}},{key:"componentWillUnmount",value:function(){this.state.AddClubSubscription.unsubscribe()}},{key:"performSpecialUpdate",value:function(){var e=Object(j.a)({},this.getClubRequestParams());delete e.page,delete e.per_page;var t=this.state.selectedClubs;return this.state.isAllSelected?t=this.state.unselectedClubs:e={},this.setState({selectedClubs:[],isAllSelected:!1,unselectedClubs:[]}),this.loadClubList(),this.state.isAllSelected?Zt.specialUpdate(this.props.match.params.id,t,!0,e):Zt.specialUpdate(this.props.match.params.id,t,!1,e)}},{key:"showChangeMembershipModal",value:function(e){this.setState({membershipModalOpened:e})}},{key:"closeModal",value:function(e){this.setState({activateModalOpened:!1,membershipModalOpened:!1,selectedClubs:e?[]:this.state.selectedClubs}),e&&this.loadClubList()}},{key:"updateFilter",value:function(e){var t=this;this.setState({filtered:e,page:0},(function(){t.loadClubList()}))}},{key:"onRowSelect",value:function(e){var t=Object(We.a)(this.state.selectedClubs),s=Object(We.a)(this.state.unselectedClubs),a=this.state.isAllSelected,i=!0;a?s.includes(e.id)?s.splice(s.indexOf(e.id),1):(i=!1,s.push(e.id)):t.includes(e.id)?(t.splice(t.indexOf(e.id),1),i=!1):t.push(e.id);var n=Object(We.a)(this.state.clubs).map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{selected:i}):t}));this.setState({clubs:n,selectedClubs:t,unselectedClubs:s})}},{key:"render",value:function(){var e=this,t=[{accessor:"club_category",show:!1},{accessor:"club_type",show:!1},{accessor:"technology_provider",show:!1},{accessor:"membership_code",show:!1},{accessor:"id",show:!1},{Header:"#",accessor:"id",colClassName:"col_id"},{Header:"Club Name",accessor:"club_name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())},Cell:function(t){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.props.match.params.id,"/club/").concat(t.row.id),children:t.value})})},colClassName:"col_club-name"},{Header:"Status",accessor:"status",colClassName:"col_status"},{Header:"Date",accessor:"date",colClassName:"col_date"},{Header:"Type",accessor:"club_type",colClassName:"col_type"},{Header:"City",accessor:"city",colClassName:"col_city"},{Header:"State",accessor:"state",colClassName:"col_city"},{Header:"Email",accessor:"email",colClassName:"col_email",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto: ".concat(e.value),children:e.value})})},sortable:!1},{Header:"Phone",accessor:"phone",sortable:!1,colClassName:"col_phone-number"}],s=!0;return s=this.state.isAllSelected?!(this.state.unselectedClubs.length>0):!(this.state.selectedClubs.length>0),Object(re.jsxs)(a.Fragment,{children:[void 0!==this.state.test_assoc&&Object(re.jsx)(ri,{updateFiltered:this.updateFilter.bind(this),hideFilters:this.state.tableFilterIsHidden,membershipTypes:this.state.membershipTypes,club_groups:this.state.club_groups,test_assoc:this.state.test_assoc}),Object(re.jsx)("div",{className:"pre__table",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col auto",children:Object(re.jsxs)("ul",{className:"action__list push-left",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(t){t.stopPropagation(),e.showExportModal()},children:"Export to Excel"})}),(!!this.props.canEditAssociation||this.props.access.super_user)&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.selectedClubs.length&&!this.state.isAllSelected,onClick:function(){return e.showEditStatusModal("activate")},children:"Activate"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.selectedClubs.length&&!this.state.isAllSelected,onClick:function(){return e.showEditStatusModal("inactivate")},children:"Inactivate"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.selectedClubs.length&&!this.state.isAllSelected,onClick:function(){return e.showChangeMembershipModal("apply")},children:"Apply Membership Types"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.selectedClubs.length&&!this.state.isAllSelected,onClick:function(){return e.showChangeMembershipModal("remove")},children:"Remove Membership Types"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){return e.updateSpecialUpdateModalState(!0)},children:"Special Update"})})]})]})}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("ul",{className:"association__status",children:[Object(re.jsxs)("li",{children:["Active = ",Object(re.jsx)("strong",{children:this.state.active})]}),Object(re.jsxs)("li",{children:["Inactive = ",Object(re.jsx)("strong",{children:this.state.inactive})]}),Object(re.jsxs)("li",{children:["Total = ",Object(re.jsx)("strong",{children:this.state.total})]})]})}),Object(re.jsxs)("div",{className:"col auto",children:[!this.state.tableFilterIsHidden&&Object(re.jsxs)("button",{onClick:this.toggleTableFilter.bind(this),className:"btn fill gray",children:["Hide Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:"remove"})]}),this.state.tableFilterIsHidden&&Object(re.jsxs)("button",{onClick:this.toggleTableFilter.bind(this),className:"btn fill gray",children:["Show Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:"add"})]})]})]})})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("span",{className:"bold",children:[" ",Object(re.jsx)("span",{className:"red",children:"Important:"}),'  When using the "Select All" checkbox, any action being performed will be taken on all records on all pages, not just the current page.']})})}),Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,manual:!0,total:this.state.total,pageSize:this.state.per_page,isAllSelected:this.state.isAllSelected,data:this.state.clubs,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.loadClubList()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.loadClubList()}))},onSelectPage:function(){var t=Object(We.a)(e.state.clubs),s=Object(We.a)(e.state.selectedClubs),a=t.filter((function(e){return s.includes(e.id)}));s=a.length===e.state.clubs.length&&a.length>0?s.filter((function(e){return!t.map((function(e){return e.id})).includes(e)})):Object(We.a)(new Set([].concat(Object(We.a)(e.state.selectedClubs),Object(We.a)(t.map((function(e){return e.id})))))),t=t.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{selected:s.includes(e.id)})}));e.setState({unselectedClubs:[],selectedClubs:s,clubs:t})},onSelectAll:function(){var t=!e.state.isAllSelected,s=Object(We.a)(e.state.clubs).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{selected:t})}));e.setState({selectedClubs:[],isAllSelected:t,unselectedClubs:[],clubs:s})},sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t,page:0},(function(){e.loadClubList()}))},onRowSelect:this.onRowSelect.bind(this)}),Object(re.jsx)(Xs,{filename:"export.csv",columns:t,isOpen:this.state.isExportDataOpened,onRequestClose:function(){return e.setState({isExportDataOpened:!1})},isAllSelected:this.state.isAllSelected,data:this.state.tableInternalData,disableSelected:s,onDownloadClick:function(t){return e.handleDownload(t)}}),Object(re.jsx)(et.a,{isOpen:!!this.state.activateModalOpened,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(di,{closeModal:function(t){e.closeModal(t)},clubs:this.state.isAllSelected?this.state.unselectedClubs:this.state.selectedClubs,filters:this.getClubRequestParams(),isAllSelected:this.state.isAllSelected,assoc:this.props.match.params.id,type:this.state.activateModalOpened})}),Object(re.jsx)(et.a,{isOpen:this.state.isSpecialUpdateOpened,onRequestClose:function(){return e.updateSpecialUpdateModalState(!1)},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(ji,{closeModal:function(){e.updateSpecialUpdateModalState(!1)},confirmAction:function(){return e.performSpecialUpdate()},onDownloadClick:function(t){return e.specialUpdateDownload(t)},title:"Special Update ".concat(this.state.selectedClubs.length>0?this.state.selectedClubs.length+" clubs":"all clubs"),description:this.state.selectedClubs.length>0?"You are about to perform a Special Update for ALL ACTIVE GOLFERS in the SELECTED CLUBS within the association.":"You are about to perform a Special Update for ALL ACTIVE GOLFERS in ALL ACTIVE CLUBS within the association."})}),Object(re.jsx)(et.a,{isOpen:!!this.state.membershipModalOpened,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(mi,{closeModal:function(t){e.closeModal(t)},type:this.state.membershipModalOpened,filters:this.getClubRequestParams(),isAllSelected:this.state.isAllSelected,clubs:this.state.isAllSelected?this.state.unselectedClubs:this.state.selectedClubs,association:this.props.association})})]})}},{key:"specialUpdateDownload",value:function(e){var t=this;return rs.getSpecialUpdateCsv(this.props.match.params.id,e).then((function(e){Xe.downloadFile(e,"SpecialUpdates_"+ue()().format("MM/DD/YYYY")+".csv"),t.setState({isSpecialUpdateOpened:!1})}))}},{key:"handleDownload",value:function(e){this.setState({isExportDataOpened:!1});var t=Object(j.a)(Object(j.a)({},this.getClubRequestParams()),{},{download:!0});return delete t.page,delete t.per_page,"selected"===e&&(this.state.isAllSelected?(t.select_all=!0,t.unchecked_items=this.state.unselectedClubs.join(",")):t.clubs_ids=this.state.selectedClubs.join(",")),rs.getClubsCsv(this.props.match.params.id,t).then((function(e){Xe.downloadFile(e,"ClubsList_"+ue()().format("MM/DD/YYYY")+".csv")}))}}]),s}(a.Component);var Oi=Object(p.c)((function(e){return{access:e.user.access}}),null)(fi),gi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(Oi,Object(j.a)({},this.props))})}}]),s}(a.Component),_i=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={allSelected:!1,data:[],sortKeyHistory:"name",sortDirection:"asc",lastSelectedIndex:"name"},a.handleInputChange=a.handleInputChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.associations;e.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),this.setState({data:e})}},{key:"componentDidUpdate",value:function(e,t,s){if(e.associations!==this.props.associations){var a=this.props.associations;a.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),this.setState({data:a})}}},{key:"handleInputChange",value:function(e,t){var s=this;if(this.props.isMain)if(t.shiftKey){var a=this.state.lastSelectedIndex,i=this.state.data.indexOf(e);i<a&&(a=i,i=this.state.lastSelectedIndex);var n=JSON.parse(JSON.stringify(this.state.data)).slice(a,i+1);this.setState({lastSelectedIndex:null}),n.map((function(e){return s.props.toggleAvailableAssociation(e.id,!0)}))}else this.setState({lastSelectedIndex:this.state.data.indexOf(e)}),this.props.toggleAvailableAssociation(e.id,t.target.checked);else if(t.shiftKey){var o=this.state.lastSelectedIndex,r=this.state.data.indexOf(e);r<o&&(o=r,r=this.state.lastSelectedIndex);var c=JSON.parse(JSON.stringify(this.state.data)).slice(o,r+1);this.setState({lastSelectedIndex:null}),c.map((function(e){return s.props.toggleSelectedAssociation(e.id,!0)}))}else this.setState({lastSelectedIndex:this.state.data.indexOf(e)}),this.props.toggleSelectedAssociation(e.id,t.target.checked)}},{key:"handleCheckAll",value:function(e){this.props.isMain?this.props.toggleAllAvailable(e.target.checked):this.props.toggleAllSelected(e.target.checked)}},{key:"onSort",value:function(e,t){var s=this.state.data,a=this.state.sortKeyHistory,i=this.state.sortDirection;a===t?"asc"===i?(i="desc",s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})).reverse()):(i="asc",s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())}))):s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})),this.setState({data:s,sortKeyHistory:t,sortDirection:i})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(ia.a,{width:"100%",height:"493px",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_checkbox"}),Object(re.jsx)("col",{className:"col_id clubs"}),Object(re.jsx)("col",{}),Object(re.jsx)("col",{className:"col_status"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsxs)("th",{children:[Object(re.jsx)("input",{onChange:function(t){e.handleCheckAll(t)},checked:this.props.checkAll,type:"checkbox",name:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all"),id:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all")}),Object(re.jsx)("label",{htmlFor:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all")})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"id")},children:["# ","id"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"name")},children:[this.props.mainLabelName||"Association"," ","name"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"status")},children:["Status ","status"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]})]})}),Object(re.jsxs)("tbody",{children:[!this.state.data.length&&Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:"100%",children:"No records to display"})}),this.state.data.map((function(t){return Object(re.jsxs)("tr",{"data-checked":t.checked,children:[Object(re.jsxs)("td",{children:[Object(re.jsx)("input",{type:"checkbox",checked:t.checked,onChange:function(s){return e.handleInputChange(t,s)},name:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id),id:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id)}),Object(re.jsx)("label",{htmlFor:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id)})]}),Object(re.jsx)("td",{children:t.id}),Object(re.jsx)("td",{children:t.name}),Object(re.jsx)("td",{children:t.status})]},t.id)}))]})]})})}}]),s}(a.Component),vi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100)}},{key:"onChange",value:function(){this.setState({error:!1,errors:[]})}},{key:"onSubmit",value:function(e){var t=this;rs.createClubGroup(this.props.associationId,e.name).then((function(e){t.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=e.club_group;s.label=s.name,s.value=s.id,t.props.selectGroup(s),t.props.closeModal()})).catch((function(e){e.data&&t.setState({error:!0,errors:e.data.errors})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Club Group"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Club Group Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"tests",validate:[he],component:ce,type:"text",name:"name",id:"name",onChange:function(t){e.onChange()}})]})}),this.state.error&&Object.keys(this.state.errors).map((function(t){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:e.state.errors[t]})})},t)})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Submit"})})]})]})})]})})}}]),s}(a.Component);vi=Object(_.a)({form:"addAssocClubGroupForm",destroyOnUnmount:!0})(vi);var xi=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(vi),yi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(this.props.selectedGroup),setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100)}},{key:"onChange",value:function(){this.setState({error:!1,errors:[]})}},{key:"onSubmit",value:function(e){var t=this,s={name:e.name,club_ids:this.props.selectedGroup.club_ids};rs.updateClubGroup(this.props.associationId,this.props.selectedGroup.id,s).then((function(e){t.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=e.club_group;s.label=s.name,s.value=s.id,t.props.selectGroup(s),t.props.closeModal()})).catch((function(e){e.data&&t.setState({error:!0,errors:e.data.errors})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Edit ",this.props.selectedGroup.name]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Club Group Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"tests",validate:[he],component:ce,type:"text",name:"name",id:"name",onChange:function(t){e.onChange()}})]})}),this.state.error&&Object.keys(this.state.errors).map((function(t){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:e.state.errors[t]})})},t)})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",disabled:i||n,className:"btn fill blue",children:"Submit"})})]})]})})]})})}}]),s}(a.Component);yi=Object(_.a)({form:"addAssocClubGroupForm",destroyOnUnmount:!0})(yi);var Ni=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(yi),Si=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).updateFilter=function(t,s){e.setState({filters:Object(j.a)(Object(j.a)({},e.state.filters),{},Object(Et.a)({},t,s))},(function(){e.updateTable()}))},e.updateTable=us()((function(){var t=qs.filtersToArray(e.state.filters);e.props.updateFiltered(t)}),200),e.state={filters:{}},e}return Object(c.a)(s,[{key:"reset",value:function(){var e=this;this.setState({filters:{name:"",club_name:null,postal_code:null,is_test:null,is_dac:null,technology_provider:null}},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Club Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.club_name||"",name:"association-name",id:"association-name",onChange:function(t){e.updateFilter("club_name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Type 1","Type 2","Type 3"],value:this.state.filters.club_type,onChange:function(t){return e.updateFilter("club_type",t)},label:"Club Type"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Club Status"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Affiliate","Military","Private","Public","Resort","Semi-Private","Not Specified"],value:this.state.filters.club_category,onChange:function(t){return e.updateFilter("club_category",t)},label:"Club Category"})}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"postal_code",children:"Postal Code"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.postal_code||"",name:"postal_code",id:"postal_code",onChange:function(t){e.updateFilter("postal_code",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:this.props.membershipTypes,value:this.state.filters.membership_code,onChange:function(t){return e.updateFilter("membership_code",t)},label:"Membership Code (MC)"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{value:!0,label:"DAC only"},{value:!1,label:"Non-DAC"}],value:this.state.filters.is_dac,onChange:function(t){return e.updateFilter("is_dac",t)},label:"Handicap Oversight"})}),Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)(Bs,{singleChoice:!0,options:Is,value:this.state.filters.technology_provider,onChange:function(t){return e.updateFilter("technology_provider",t)},label:"Front End Provider"})})]})]})})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),Ci=s(271),ki=s.n(Ci),Ai=s(272),Mi=s.n(Ai),wi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={addAssocGroupModalIsOpen:!1,editAssocGroupModalIsOpen:!1,openDeleteConfirmation:!1,checkAllAvailable:!1,checkAllSelected:!1,loaded:!1,availableClubs:[],initialClubsState:[],selectedClubs:[],assocGroupOptions:[],selectedGroup:null,tempMovedAssociations:[],filters:[],initialClubsLength:0,membershipTypes:[]},a.openAddAssocGroupModal=a.openAddAssocGroupModal.bind(Object(b.a)(a)),a.toggleAvailableClubs=a.toggleAvailableClubs.bind(Object(b.a)(a)),a.togleSelectedClub=a.togleSelectedClub.bind(Object(b.a)(a)),a.toggleAllAvailable=a.toggleAllAvailable.bind(Object(b.a)(a)),a.toggleAllSelected=a.toggleAllSelected.bind(Object(b.a)(a)),a.onGroupChange=a.onGroupChange.bind(Object(b.a)(a)),a.deleteGroup=a.deleteGroup.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openAddAssocGroupModal",value:function(){this.setState({addAssocGroupModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({addAssocGroupModalIsOpen:!1})}},{key:"getGroups",value:function(e){var t=this;rs.getClubGroups(this.props.match.params.id).then((function(s){var a=s.club_groups.map((function(e){return e.value=e.id,e.label=e.name,e}));t.setState({assocGroupOptions:a},e)})).catch((function(e){}))}},{key:"deleteGroup",value:function(){var e=this;Qs.delete(this.state.selectedGroup.id).then((function(){e.props.addAlert({type:"success",message:"Group has been successfully deleted"}),e.setState({selectedGroup:null,openDeleteConfirmation:!1}),e.getGroups(),e.onGroupChange(null)})).catch((function(e){}))}},{key:"updateGroup",value:function(){var e=this,t=this.state.selectedClubs.map((function(e){return e.id})),s={name:this.state.selectedGroup.name,club_ids:t};rs.updateClubGroup(this.props.match.params.id,this.state.selectedGroup.id,s).then((function(t){e.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=t.club_group;s.label=s.name,s.value=s.id,e.setState({selectedGroup:s}),e.getGroups()})).catch((function(e){console.error(e)}))}},{key:"getClubs",value:function(){var e=this,t={};t=Object(j.a)(Object(j.a)({},t),qs.filtersArrayToParams(this.state.filters)),this.state.selectedGroup&&(t.not_in_group=this.state.selectedGroup.id),rs.getAllClubs(this.props.match.params.id,t).then((function(t){var s=t.clubs;s.map((function(e){return e.checked=!1,e.name=e.club_name,e})),s=Mi()(s,e.state.selectedClubs,(function(e){return e.id})),s=St()([].concat(Object(We.a)(s),Object(We.a)(e.state.tempMovedAssociations)),(function(e){return e.id})),e.setState({loaded:!0,availableClubs:s,initialClubsState:s})}))}},{key:"getMembershipTypes",value:function(){var e=this;this.setState({membershipLoading:!0}),rs.getMembershipTypes(this.props.match.params.id).then((function(t){e.setState({membershipTypes:t.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(t){e.setState({membershipLoading:!1,membershipTypes:[]})}))}},{key:"componentDidMount",value:function(){var e=this;et.a.setAppElement("body"),this.getGroups(),this.getClubs(),this.getMembershipTypes(),rs.getAllClubs(this.props.match.params.id,{}).then((function(t){var s=t.clubs;s.map((function(e){return e.checked=!1,e.name=e.club_name,e})),e.setState({initialClubsLength:s.length})}))}},{key:"componentDidUpdate",value:function(e,t,s){if(t.selectedClubs!==this.state.selectedClubs){var a=ki()(this.state.availableClubs,this.state.selectedClubs);this.setState({availableClubs:a})}}},{key:"toggleAvailableClubs",value:function(e,t){var s=this.state.availableClubs;s.filter((function(s){return s.id===e&&(s.checked=t),s})),this.setState({availableClubs:s})}},{key:"togleSelectedClub",value:function(e,t){var s=this.state.selectedClubs;s.filter((function(s){return s.id===e&&(s.checked=t),s})),this.setState({selectedClubs:s})}},{key:"toggleAllAvailable",value:function(e){var t=this.state.availableClubs;t.map((function(t){return t.checked=e})),this.setState({availableClubs:t,checkAllAvailable:e})}},{key:"toggleAllSelected",value:function(e,t){var s=this.state.selectedClubs;s.map((function(t){return t.checked=e})),this.setState({selectedClubs:s,checkAllSelected:e},t)}},{key:"moveSelectedClubs",value:function(e){if("right"===e){var t=this.state.availableClubs.filter((function(e){return!0===e.checked})).map((function(e){return e.checked=!1,e})),s=[].concat(Object(We.a)(this.state.selectedClubs),Object(We.a)(t)),a=this.state.availableClubs.filter((function(e){return s.indexOf(e)<0}));this.setState({selectedClubs:s,availableClubs:a,checkAllAvailable:!1})}else{var i=this.state.selectedClubs.filter((function(e){return!0!==e.checked})),n=this.state.selectedClubs.filter((function(e){return!0===e.checked})).map((function(e){return e.checked=!1,e})),o=[].concat(Object(We.a)(this.state.availableClubs),Object(We.a)(n)),r=St()([].concat(Object(We.a)(this.state.tempMovedAssociations),Object(We.a)(n)),(function(e){return e.id}));this.setState({availableClubs:o,tempMovedAssociations:r,selectedClubs:i,checkAllSelected:!1})}}},{key:"onGroupChange",value:function(e){var t=this;this.setState({availableClubs:this.state.initialClubsState.map((function(e){return e.checked=!1,e})),selectedClubs:[]},(function(){e&&(e.clubs.map((function(e){return t.toggleAvailableClubs(e.club_id,!0),null})),t.moveSelectedClubs("right")),t.setState({selectedGroup:e})}))}},{key:"updateFilter",value:function(e){var t=this;this.setState({filters:e},(function(){t.getClubs()}))}},{key:"render",value:function(){var e=this,t=this.state.availableClubs.filter((function(e){return e.checked})).length,s=this.state.selectedClubs.filter((function(e){return e.checked})).length;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"assoc-g__head row",children:[Object(re.jsx)("div",{className:"col is-1-of-4",children:Object(re.jsx)(gt.a,{className:"react-select-container",classNamePrefix:"react-select",isDisabled:!this.state.loaded,onChange:this.onGroupChange,options:this.state.assocGroupOptions.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),isSearchable:!1,value:this.state.selectedGroup})}),this.props.canEditAssociation&&this.state.selectedGroup&&Object(re.jsx)("div",{className:"col is-1-of-4 push-left",children:Object(re.jsxs)("ul",{className:"assoc-g__controls",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn",onClick:function(t){t.preventDefault(),e.setState({editAssocGroupModalIsOpen:!0})},children:"Edit Name"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn",onClick:function(t){t.preventDefault(),e.setState({openDeleteConfirmation:!0})},children:"Delete"})})]})}),this.props.canEditAssociation&&Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:this.openAddAssocGroupModal,children:"Add Group"})})]}),Object(re.jsx)(Si,{updateFiltered:this.updateFilter.bind(this),membershipTypes:this.state.membershipTypes}),Object(re.jsxs)("div",{className:"assoc-g__body row",children:[Object(re.jsx)("div",{className:"col is-5-of-11",children:Object(re.jsxs)("div",{className:"assoc-g__column",children:[Object(re.jsxs)("div",{className:"assoc-g__column__head",children:["Available Clubs (",this.state.initialClubsLength,") ",this.state.initialClubsLength>this.state.availableClubs.length&&Object(re.jsxs)(a.Fragment,{children:[" Filtered Clubs (",this.state.availableClubs.length,")"]})]}),Object(re.jsx)("div",{className:"assoc-g__column__body",children:Object(re.jsx)(_i,{mainLabelName:"Club",checkAll:this.state.checkAllAvailable,isMain:!0,toggleAllAvailable:this.toggleAllAvailable,toggleAvailableAssociation:this.toggleAvailableClubs,associations:this.state.availableClubs,associationId:this.props.match.params.id})})]})}),Object(re.jsx)("div",{className:"col is-1-of-11",children:this.props.canEditAssociation&&Object(re.jsxs)("div",{className:"assoc-g__transition-controls",children:[Object(re.jsx)("button",{disabled:!this.state.selectedGroup||!t,className:"btn fill ".concat(this.state.selectedGroup&&t?"blue":"gray"),onClick:function(){return e.moveSelectedClubs("right")},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_right"})}),Object(re.jsx)("button",{disabled:!this.state.selectedGroup||!s,className:"btn fill ".concat(this.state.selectedGroup&&s?"blue":"gray"),onClick:function(){return e.moveSelectedClubs("left")},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_left"})})]})}),Object(re.jsx)("div",{className:"col is-5-of-11",children:Object(re.jsxs)("div",{className:"assoc-g__column",children:[Object(re.jsx)("div",{className:"assoc-g__column__head",children:this.state.selectedGroup&&"".concat(this.state.selectedGroup.name," (").concat(this.state.selectedClubs.length,")")}),Object(re.jsx)("div",{className:"assoc-g__column__body",children:Object(re.jsx)(_i,{mainLabelName:"Club",checkAll:this.state.checkAllSelected,isMain:!1,toggleAllSelected:this.toggleAllSelected,toggleSelectedAssociation:this.togleSelectedClub,associations:this.state.selectedClubs,associationId:this.props.match.params.id})})]})})]}),this.props.canEditAssociation&&Object(re.jsxs)("div",{className:"assoc-g__foot row",children:[Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{disabled:!this.state.selectedGroup,className:"btn outline gray",onClick:function(t){t.preventDefault(),e.onGroupChange(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-8",children:Object(re.jsx)("button",{disabled:!this.state.selectedGroup,className:"btn fill blue",onClick:function(t){t.preventDefault(),e.updateGroup()},children:"Save Group"})})]}),Object(re.jsx)(et.a,{isOpen:this.state.addAssocGroupModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Add Association Group",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(xi,{associationId:this.props.match.params.id,selectGroup:function(t){e.getGroups(e.onGroupChange(t))},closeModal:function(){e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.editAssocGroupModalIsOpen,onRequestClose:function(){e.setState({editAssocGroupModalIsOpen:!1})},contentLabel:"Add Association Group",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ni,{associationId:this.props.match.params.id,selectGroup:function(t){e.getGroups(e.onGroupChange(t))},closeModal:function(){return e.setState({editAssocGroupModalIsOpen:!1})},selectedGroup:this.state.selectedGroup})}),Object(re.jsx)(ca,{question:"Are you sure you want to delete ".concat(this.state.selectedGroup?this.state.selectedGroup.name:"","?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({openDeleteConfirmation:!1})},onConfirmAction:this.deleteGroup,openModal:this.state.openDeleteConfirmation,closeModal:function(){return e.setState({openDeleteConfirmation:!1})}})]})}}]),s}(a.Component);var Ii=Object(p.c)(null,(function(e){return Object(v.b)({addAlert:Pe},e)}))(wi),Ti=s(115),Ei=s.n(Ti),Fi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={timeZones:[],allied_assn:!1,command_user:!1,handicap_program_lic:!1,course_rating_lic:!1,status:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.initialize(Object(j.a)(Object(j.a)({},this.props.assoc),{timezone:{label:this.props.assoc.timezone,value:this.props.assoc.timezone},allied_assn:this.props.assoc.allied_assn,frontend_provider:this.props.assoc.frontend_provider?{label:this.props.assoc.frontend_provider,value:this.props.assoc.frontend_provider}:null,status:"Active"===this.props.assoc.status,usga_tm_account_manager:{label:this.props.assoc.usga_tm_account_manager,value:this.props.assoc.usga_tm_account_manager},regional_affairs_director:{label:this.props.assoc.regional_affairs_director,value:this.props.assoc.regional_affairs_director}})),Xe.getTimezones().then((function(t){var s=[];t.time_zones.map((function(e){return s.push({label:e.display,value:e.code}),null})),s.push({label:e.props.assoc.timezone,value:e.props.assoc.timezone}),e.setState({timeZones:s,allied_assn:e.props.assoc.allied_assn,command_user:e.props.assoc.command_user,status:"Active"===e.props.assoc.status,course_rating_lic:e.props.assoc.course_rating_lic,handicap_program_lic:e.props.assoc.handicap_program_lic})})).catch((function(e){console.error(e)})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=JSON.parse(JSON.stringify(e));return a.timezone=e.timezone.value,a.frontend_provider&&(a.frontend_provider=a.frontend_provider.value),a.regional_affairs_director&&(a.regional_affairs_director=a.regional_affairs_director.value),a.usga_tm_account_manager&&(a.usga_tm_account_manager=a.usga_tm_account_manager.value),a.status=a.status?"Active":"Inactive",a=Ei()(s.assoc,a),rs.editPrimary(s.associationId,a).then((function(e){s.addAlert({type:"success",message:"Association has been successfully edited"}),s.close(e)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",children:["Allied Golf Association ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{allied_assn:!e.allied_assn}}))},checked:this.state.allied_assn,id:"allied_assn_yes",value:!0,name:"allied_assn",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"allied_assn_yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{allied_assn:!e.allied_assn}}))},checked:!this.state.allied_assn,id:"allied_assn_no",value:!1,name:"allied_assn",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"allied_assn_no",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Association Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ke([60,"The Association Name cannot exceed 60 characters."])],type:"text",name:"name",id:"name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"short_name",children:"Short Name"}),Object(re.jsx)(g.a,{component:ce,format:function(e){return e?e.slice(0,8):""},validate:[je],type:"text",name:"short_name",id:"short_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("label",{htmlFor:"parent-golf-federation",children:["Parent Golf Federation ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(gt.a,{className:"react-select-container",classNamePrefix:"react-select",value:{value:"United States Golf Association",label:"United States Golf Association"}})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"course_rating_id",children:"Course Rating Id"}),Object(re.jsx)(g.a,{component:ce,validate:[xe],type:"text",name:"course_rating_id",id:"course_rating_id"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{status:!e.status}}))},checked:this.state.status,id:"status",value:!0,name:"status",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"status",children:"Active"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{children:["Front End Provider ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"frontend_provider",id:"frontend_provider",validate:[he,pe],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:Ps})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{children:["Timezone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"timezone",id:"timezone",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.timeZones})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"telephone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"telephone",id:"telephone"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he,fe],name:"email",id:"email"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"web_address",children:"Website"}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[Oe],name:"web_address",id:"web_address"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"usga_tm_account_manager",children:["USGA TM Account Manager ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"usga_tm_account_manager",id:"usga_tm_account_manager",component:yt,validate:[pe],className:"react-select-container",classNamePrefix:"react-select",options:Gs})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"regional_affairs_director",children:["Regional Affairs Director ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"regional_affairs_director",id:"regional_affairs_director",component:yt,validate:[pe],className:"react-select-container",classNamePrefix:"react-select",options:Rs})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Fi=Object(_.a)({form:"editAccountForm",destroyOnUnmount:!0})(Fi);var Di=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Fi)),Pi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Association Account"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Di,{assoc:this.props.assoc.profile,associationId:this.props.associationId,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Gi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],addressAsPrimary:!1,contactAsPrimary:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name})}))})}))},(function(){e.addressInitialize()}))})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a,i,n=e.address.as_primary?{as_primary:"true"}:JSON.parse(JSON.stringify(e.address)),o=e.contact.as_primary?{as_primary:"true"}:JSON.parse(JSON.stringify(e.contact));return delete n.state_name,delete n.country_name,n.country&&(n.country=n.country.value),n.state&&(n.state=n.state.value),n.as_primary=n.as_primary?"true":"false",o.as_primary=o.as_primary?"true":"false","association"===s.for?rs.editAddress(s.assoc.profile.id,(a={},Object(Et.a)(a,s.type+"_address",n),Object(Et.a)(a,s.type+"_contact_address",o),a)).then((function(e){s.addAlert({type:"success",message:s.type.charAt(0).toUpperCase()+s.type.slice(1)+" address has been successfully edited"}),s.close(e)})).catch((function(e){console.error(e)})):Zt.editAddress(s.assoc.club.golf_association_id,s.assoc.club.id,(i={},Object(Et.a)(i,s.type+"_address",n),Object(Et.a)(i,s.type+"_contact_address",o),i)).then((function(e){s.addAlert({type:"success",message:s.type.charAt(0).toUpperCase()+s.type.slice(1)+" address has been successfully edited"}),s.close(e)})).catch((function(e){console.error(e)}))}},{key:"onCountryChange",value:function(e){this.props.change("address.state",{label:"Select State",value:null}),this.setState({states:e.states})}},{key:"addressInitialize",value:function(){var e=this,t=this.state.countries.filter((function(t){return e.props.assoc[e.props.type+"_address"].country_name?t.value===e.props.assoc[e.props.type+"_address"].country:"USA"===t.value}))[0];this.props.initialize({address:Object(j.a)(Object(j.a)({},this.props.assoc[this.props.type+"_address"]),{country:t,state:{label:this.props.assoc[this.props.type+"_address"].state_name,value:this.props.assoc[this.props.type+"_address"].state},as_primary:"false"!==this.props.assoc[this.props.type+"_address"].as_primary}),contact:Object(j.a)(Object(j.a)({},this.props.assoc[this.props.type+"_contact_address"]),{as_primary:"false"!==this.props.assoc[this.props.type+"_contact_address"].as_primary})}),this.setState({states:t.states,addressAsPrimary:"primary"!==this.props.type&&"false"!==this.props.assoc[this.props.type+"_address"].as_primary,contactAsPrimary:"false"!==this.props.assoc[this.props.type+"_contact_address"].as_primary})}},{key:"setAddressAsPrimary",value:function(){var e=this;this.setState((function(e){return{addressAsPrimary:!e.addressAsPrimary}}),(function(){e.state.addressAsPrimary?e.props.change("address",Object(j.a)(Object(j.a)({},e.props.assoc.primary_address),{state:{label:e.props.assoc.primary_address.state_name,value:e.props.assoc.primary_address.state},country:{label:e.props.assoc.primary_address.country_name,value:e.props.assoc.primary_address.country},as_primary:!0})):e.props.change("address",Object(j.a)(Object(j.a)({},e.props.assoc[e.props.type+"_address"]),{country:{label:e.props.assoc[e.props.type+"_address"].country_name,value:e.props.assoc[e.props.type+"_address"].country},state:{label:e.props.assoc[e.props.type+"_address"].state_name,value:e.props.assoc[e.props.type+"_address"].state},as_primary:!1}))}))}},{key:"setContactAsPrimary",value:function(){var e=this;this.setState((function(e){return{contactAsPrimary:!e.contactAsPrimary}}),(function(){e.state.contactAsPrimary?e.props.change("contact",Object(j.a)(Object(j.a)({},e.props.assoc.primary_contact_address),{as_primary:!0})):e.props.change("contact",Object(j.a)(Object(j.a)({},e.props.assoc[e.props.type+"_contact_address"]),{as_primary:!1}))}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-3 jc-c",children:Object(re.jsx)("h3",{children:"Address Information"})}),"primary"!==this.props.type&&Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)(g.a,{onClick:function(){return e.setAddressAsPrimary()},checked:this.state.addressAsPrimary,id:"address.as_primary",value:!0,name:"address.as_primary",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"address.as_primary",children:"Same as primary"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"address.country",children:["Country ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"address.country",id:"address.country",validate:!this.state.addressAsPrimary&&[pe],component:yt,disabled:this.state.addressAsPrimary,onChange:this.onCountryChange.bind(this),className:"react-select-container",classNamePrefix:"react-select",options:this.state.countries})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"address.street_1",children:["Address 1 ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.addressAsPrimary,type:"text",name:"address.street_1",id:"address.street_1",validate:!this.state.addressAsPrimary&&[he,ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"address.street_2",children:"Address 2"}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.addressAsPrimary,type:"text",name:"address.street_2",id:"address.street_2",validate:[ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-3-of-7",children:[Object(re.jsxs)("label",{htmlFor:"address.city",children:["City ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.addressAsPrimary,validate:!this.state.addressAsPrimary&&[he],type:"text",name:"address.city",id:"address.city"})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"address.state",children:["State ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"address.state",id:"address.state",disabled:this.state.addressAsPrimary,validate:!this.state.addressAsPrimary&&[pe],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.states})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"zip",children:["Postal Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.addressAsPrimary,validate:!this.state.addressAsPrimary&&[he],type:"text",name:"address.zip",id:"address.zip"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-3 jc-c"})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-3 jc-c",children:Object(re.jsx)("h3",{children:"Address Contact"})}),"primary"!==this.props.type&&Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)(g.a,{onClick:function(){e.setContactAsPrimary()},checked:this.state.contactAsPrimary,id:"contact.as_primary",value:!0,name:"contact.as_primary",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"contact.as_primary",children:"Same as primary"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"contact.prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,type:"text",name:"contact.prefix",id:"contact.prefix"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"contact.first_name",children:["First Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,validate:!this.state.contactAsPrimary&&[he],type:"text",name:"contact.first_name",id:"contact.first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"contact.middle_name",children:"Middle Name"}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,type:"text",name:"contact.middle_name",id:"contact.middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"contact.last_name",children:["Last name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,validate:!this.state.contactAsPrimary&&[he],type:"text",name:"contact.last_name",id:"contact.last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"contact.suffix",children:"Suffix "}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,type:"text",name:"contact.suffix",id:"contact.suffix"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"contact.email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,validate:!this.state.contactAsPrimary&&[he,fe],type:"text",name:"contact.email",id:"contact.email"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"contact.phone",children:["Phone Number ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.state.contactAsPrimary,validate:!this.state.contactAsPrimary&&[he],type:"text",name:"contact.phone",id:"contact.phone"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Gi=Object(_.a)({form:"editAddressForm",destroyOnUnmount:!0})(Gi);var Ri=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Gi)),Hi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Edit ",this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)," Address Information"]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ri,{type:this.props.type,for:this.props.for,countries:this.props.countries,states:this.props.states,assoc:this.props.assoc,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component);function Ui(e){return function(t){t({type:"@@ghin/UPDATE_ASSOCIATION",payload:e})}}var Li=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={EditAccountModalIsOpen:!1,EditAddressModalIsOpen:!1,EditAddressModalType:null,addresses:[],loadingDone:!1,logo:null,clearLogoModalIsOpen:!1},e.openEditAccountModal=e.openEditAccountModal.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"openEditAccountModal",value:function(){this.setState({EditAccountModalIsOpen:!0})}},{key:"openEditAddressModal",value:function(e){this.setState({EditAddressModalIsOpen:!0,EditAddressModalType:e})}},{key:"closeModal",value:function(e){this.setState({EditAccountModalIsOpen:!1,EditAddressModalIsOpen:!1}),e&&this.props.updateAssociation(this.processAssociationDataFromApi(e))}},{key:"processAssociationDataFromApi",value:function(e){return{profile:e.association,billing_address:e.billing_address,billing_contact_address:e.billing_contact_address,mailing_address:e.mailing_address,mailing_contact_address:e.mailing_contact_address,primary_address:e.primary_address,primary_contact_address:e.primary_contact_address}}},{key:"removeLogo",value:function(){var e=this;rs.editPrimary(this.props.associationId,{delete_logo:"true",alt_text:""}).then((function(t){e.setState({clearLogoModalIsOpen:!1}),e.props.updateAssociation(e.processAssociationDataFromApi(t))})).catch((function(e){console.error(e)}))}},{key:"saveLogo",value:function(e){var t=this;rs.editPrimary(this.props.associationId,{logo:e,"web-address":this.props.association.profile.web_address,email:this.props.association.profile.email}).then((function(e){t.props.updateAssociation(t.processAssociationDataFromApi(e))})).catch((function(e){console.error(e)}))}},{key:"setAltText",value:function(e){var t=this;rs.editPrimary(this.props.associationId,{alt_text:e}).then((function(e){t.props.updateAssociation(t.processAssociationDataFromApi(e))})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;rs.getPrimary(this.props.associationId).then((function(t){e.setState({loadingDone:!0}),t&&t.association&&e.props.updateAssociation(e.processAssociationDataFromApi(t))})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[this.state.loadingDone&&Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Basic Information"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.super_user&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openEditAccountModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Association Number:"}),Object(re.jsx)("span",{children:this.props.association.profile.id})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Association Name:"}),Object(re.jsx)("span",{children:this.props.association.profile.name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Short Name:"}),Object(re.jsx)("span",{children:this.props.association.profile.short_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Parent Golf Federation:"}),Object(re.jsx)("span",{children:this.props.association.profile.parent_federation?this.props.association.profile.parent_federation:"United States Golf Association"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Phone:"}),this.props.association.profile.telephone&&Object(re.jsx)("span",{children:this.props.association.profile.telephone})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Email:"}),this.props.association.profile.email&&Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:"mailto:".concat(this.props.association.profile.email),children:this.props.association.profile.email})})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Website:"}),this.props.association.profile.web_address&&Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:"//".concat(this.props.association.profile.web_address),target:"_blank",rel:"noreferrer",children:this.props.association.profile.web_address})})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"USGA TM Account Manager:"}),this.props.association.profile.usga_tm_account_manager&&Object(re.jsx)("span",{children:this.props.association.profile.usga_tm_account_manager})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Regional Affairs Director:"}),this.props.association.profile.regional_affairs_director&&Object(re.jsx)("span",{children:this.props.association.profile.regional_affairs_director})]})]})}),Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Status:"}),Object(re.jsx)("span",{children:this.props.association.profile.status.charAt(0).toUpperCase()+this.props.association.profile.status.slice(1)})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Association Creation Date:"}),Object(re.jsx)("span",{children:ue()(this.props.association.profile.created_date).format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Last Updated Date:"}),Object(re.jsx)("span",{children:ue()(this.props.association.profile.last_update_date).format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Front End Provider:"}),Object(re.jsx)("span",{children:this.props.association.profile.frontend_provider})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is AGA?:"}),Object(re.jsx)("span",{children:this.props.association.profile.allied_assn?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"CR Id:"}),Object(re.jsx)("span",{children:this.props.association.profile.course_rating_id})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Timezone:"}),Object(re.jsx)("span",{children:this.props.association.profile.timezone})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is Test Association?:"}),Object(re.jsx)("span",{children:this.props.association.profile.is_test?"Yes":"No"})]})]})})]})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Addresses"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_golfer-name"}),Object(re.jsx)("col",{className:"col_golfer-name"}),Object(re.jsx)("col",{className:"col_golfer-name"}),Object(re.jsx)("col",{className:"col_edit"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Address Type"}),Object(re.jsx)("th",{children:"Address"}),Object(re.jsx)("th",{children:"Contact Information"}),Object(re.jsx)("th",{className:"col_edit"})]})}),Object(re.jsxs)("tbody",{children:[Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Primary"}),Object(re.jsxs)("td",{children:[this.props.association.primary_address.street_1," ",this.props.association.primary_address.street_1&&Object(re.jsx)("br",{}),this.props.association.primary_address.street_2," ",this.props.association.primary_address.street_2&&Object(re.jsx)("br",{}),[this.props.association.primary_address.city,this.props.association.primary_address.state_name,this.props.association.primary_address.zip,this.props.association.primary_address.country_name].filter((function(e){return e})).join(", ")]}),Object(re.jsxs)("td",{children:[this.props.association.primary_contact_address.first_name," ",this.props.association.primary_contact_address.last_name,Object(re.jsx)("br",{}),this.props.association.primary_contact_address.email,this.props.association.primary_contact_address.email&&Object(re.jsx)("br",{}),this.props.association.primary_contact_address.phone]}),Object(re.jsx)("td",{className:"col_edit",children:this.props.canEditAssociation&&Object(re.jsx)("div",{className:"address__head",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAddressModal("primary")},className:"btn lnk",children:"Edit"})})})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Mailing"}),Object(re.jsxs)("td",{children:[this.props.association.mailing_address.street_1," ",this.props.association.mailing_address.street_1&&Object(re.jsx)("br",{}),this.props.association.mailing_address.street_2," ",this.props.association.mailing_address.street_2&&Object(re.jsx)("br",{}),[this.props.association.mailing_address.city,this.props.association.mailing_address.state_name,this.props.association.mailing_address.zip,this.props.association.mailing_address.country_name].filter((function(e){return e})).join(", ")]}),Object(re.jsxs)("td",{children:[this.props.association.mailing_contact_address.first_name," ",this.props.association.mailing_contact_address.last_name,Object(re.jsx)("br",{}),this.props.association.mailing_contact_address.email,this.props.association.mailing_contact_address.email&&Object(re.jsx)("br",{}),this.props.association.mailing_contact_address.phone]}),Object(re.jsx)("td",{className:"col_edit",children:this.props.canEditAssociation&&Object(re.jsx)("div",{className:"address__head",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAddressModal("mailing")},className:"btn lnk",children:"Edit"})})})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Billing"}),Object(re.jsxs)("td",{children:[this.props.association.billing_address.street_1," ",this.props.association.billing_address.street_1&&Object(re.jsx)("br",{}),this.props.association.billing_address.street_2," ",this.props.association.billing_address.street_2&&Object(re.jsx)("br",{}),[this.props.association.billing_address.city,this.props.association.billing_address.state_name,this.props.association.billing_address.zip,this.props.association.billing_address.country_name].filter((function(e){return e})).join(", ")]}),Object(re.jsxs)("td",{children:[this.props.association.billing_contact_address.first_name," ",this.props.association.billing_contact_address.last_name,Object(re.jsx)("br",{}),this.props.association.billing_contact_address.email,this.props.association.billing_contact_address.email&&Object(re.jsx)("br",{}),this.props.association.billing_contact_address.phone]}),Object(re.jsx)("td",{className:"col_edit",children:this.props.canEditAssociation&&Object(re.jsx)("div",{className:"address__head",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAddressModal("billing")},className:"btn lnk",children:"Edit"})})})]})]})]})})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(Sa,{title:"Association Logo",readOnly:!this.props.canEditAssociation,image:this.props.association.profile.logo,alt_text:this.props.association.profile.alt_text,minimumHeight:155,minimumWidth:155,square:!0,logo:!0,onSave:function(t){e.saveLogo(t)},onRemove:function(){e.removeLogo()},onSetAltText:function(t){return e.setAltText(t)}})})})})]}),Object(re.jsx)(et.a,{isOpen:this.state.EditAccountModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Pi,{assoc:this.props.association,associationId:this.props.association.profile.id,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.clearLogoModalIsOpen,onConfirmAction:function(){return e.clearLogo()},onCancelAction:function(){e.setState({clearLogoModalIsOpen:!1})},closeModal:function(){e.setState({clearLogoModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"}),Object(re.jsx)(et.a,{isOpen:this.state.EditAddressModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Hi,{type:this.state.EditAddressModalType,for:"association",countries:this.state.countries,states:this.state.states,assoc:this.props.association,closeModal:function(t){e.closeModal(t)}})})]})}}]),s}(a.Component);Li.defaultProps={center:{lat:40.001869,lng:-75.311804},zoom:10};var Yi=Object(p.c)((function(e){return{association:e.association,super_user:e.user.access.super_user}}),(function(e){var t=Object(v.b)({updateAssociation:Ui},e);return Object(j.a)({dispatch:e},t)}))(Li),zi=[{value:"Junior",label:"Junior"},{value:"Standard",label:"Standard"}],Bi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.type=s.type.value,rs.createMembershipType(this.props.associationId,s).then((function(e){t.props.addAlert({type:"success",message:"Membership type successfully added"}),t.props.closeModal("refresh")})).catch((function(e){var s=[];Object.keys(e.data.errors).map((function(t){return s.push(e.data.errors[t][0]),null})),t.setState({errors:s}),console.error(e)}))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,s=e.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:t(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{htmlFor:"code",children:["Membership Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ke([2,"Code must contain max 2 characters"])],type:"text",name:"code",id:"code"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"description",children:["Membership Description ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"description",id:"description"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-5-of-7",children:[Object(re.jsxs)("label",{htmlFor:"type",children:["USGA Membership Type ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:yt,id:"type",name:"type",className:"react-select-container",classNamePrefix:"react-select",options:zi})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"bill_rate",children:["Bill Rate ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,Ne],type:"text",name:"bill_rate",id:"bill_rate"})]})]}),this.state.errors.length>0&&this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e})})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:this.props.closeModal,children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:s,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Bi=Object(_.a)({form:"addMembershipTypeForm",destroyOnUnmount:!0})(Bi);var qi=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Bi)),Vi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Membership Type"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(qi,{associationId:this.props.associationId,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Wi=[{value:"Junior",label:"Junior"},{value:"Standard",label:"Standard"}],Ki=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={active:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(Object(j.a)(Object(j.a)({},this.props.membership),{type:{label:this.props.membership.type,value:this.props.membership.type},bill_rate:this.props.membership.bill_rate.toString(),active:"true"===this.props.membership.active})),this.setState({active:"true"===this.props.membership.active}),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.type=s.type.value,s.active=s.active?"true":"false",delete s.id,delete s.is_used,rs.editMembershipType(this.props.associationId,this.props.membership.id,s).then((function(e){t.props.addAlert({type:"success",errors:[],message:"Membership type successfully edited"}),t.props.closeModal("refresh")})).catch((function(e){if(e.data&&e.data.error)t.setState({errors:[e.data.error]});else if(e.data&&e.data.errors){var s=[];Object.keys(e.data.errors).map((function(t){return s.push(e.data.errors[t][0]),null})),t.setState({errors:s})}console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{htmlFor:"code",children:["Membership Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ke([2,"Code must contain max 2 characters"])],type:"text",name:"code",id:"code"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"description",children:["Membership Description ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"description",id:"description"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-5-of-7",children:[Object(re.jsxs)("label",{htmlFor:"type",children:["USGA Membership Type ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:yt,disabled:this.props.membership.is_used,id:"type",name:"type",className:"react-select-container",classNamePrefix:"react-select",options:Wi})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"bill_rate",children:["Bill Rate ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,Ne],type:"text",name:"bill_rate",id:"bill_rate"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-4 jc-fe",children:[Object(re.jsx)(g.a,{component:"input",type:"checkbox",disabled:this.props.membership.is_used,name:"active",id:"active",checked:this.state.active,onClick:function(){e.setState({active:!e.state.active})}}),Object(re.jsx)("label",{htmlFor:"active",children:"Active"})]})}),this.state.errors.length>0&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e})}))})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:this.props.closeModal,children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Ki=Object(_.a)({form:"editMembershipTypeForm",destroyOnUnmount:!0})(Ki);var Ji=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Ki)),$i=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Membership Type"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ji,{associationId:this.props.associationId,membership:this.props.membership,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Xi=[{label:"first",value:1},{label:"second",value:2},{label:"third",value:1},{label:"fourth",value:4}],Qi=[{label:"Sunday",value:0},{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6}],Zi=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],addressAsPrimary:!1,contactAsPrimary:!1,type:"default",week_day:[],x_weeks:0,month_type:"day"},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.subscription;if("Yes"===e.subscribed){var t={specified_date_range:!e.newsletter_all_year,newsletter_start_date:!e.newsletter_all_year&&e.newsletter_start_date?new Date(ue()(e.newsletter_start_date,"MM/DD")):new Date,newsletter_end_date:!e.newsletter_all_year&&e.newsletter_end_date?new Date(ue()(e.newsletter_end_date,"MM/DD")):new Date};"Weekly"===e.schedule_type?(this.props.initialize(Object(j.a)(Object(j.a)({newsletter_enabled:!0},t),{},{week_day:e.week_day,x_weeks:e.x_weeks})),this.setState({newsletter_enabled:!0,specified_date_range:!e.newsletter_all_year,type:"weekly",week_day:"string"===typeof e.week_day?[e.week_day]:e.week_day})):"Monthly"===e.schedule_type?e.month_day?(this.props.initialize(Object(j.a)(Object(j.a)({newsletter_enabled:!0},t),{},{month_day:e.month_day,x_monthsDay:e.x_months})),this.setState({newsletter_enabled:!0,specified_date_range:!e.newsletter_all_year,type:"monthly",month_type:"day"})):(this.props.initialize(Object(j.a)(Object(j.a)({newsletter_enabled:!0},t),{},{week_day:Qi[e.week_day],week_day_order:Xi[e.week_day_order-1],x_monthsOther:e.x_months})),this.setState({newsletter_enabled:!0,specified_date_range:!e.newsletter_all_year,type:"monthly",month_type:"other"})):(this.props.initialize(Object(j.a)({newsletter_enabled:!0},t)),this.setState({newsletter_enabled:!0,specified_date_range:!e.newsletter_all_year}))}else this.props.initialize({newsletter_enabled:!1})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a,i=this;this.state.newsletter_enabled?(a={newsletter_enabled:!0},a=!0===this.state.specified_date_range?Object(j.a)(Object(j.a)({},a),{},{newsletter_all_year:!1,newsletter_start_date:e.newsletter_start_date?ue()(e.newsletter_start_date).format("MM-DD"):"",newsletter_end_date:e.newsletter_end_date?ue()(e.newsletter_end_date).format("MM-DD"):""}):Object(j.a)(Object(j.a)({},a),{},{newsletter_all_year:!0}),"weekly"===this.state.type?a=Object(j.a)(Object(j.a)({},a),{},{week_day:this.state.week_day.length>1?this.state.week_day:this.state.week_day[0],x_weeks:e.x_weeks}):"monthly"===this.state.type&&(a="day"===this.state.month_type?Object(j.a)(Object(j.a)({},a),{},{month_day:parseInt(e.month_day),x_months:parseInt(e.x_monthsDay)}):Object(j.a)(Object(j.a)({},a),{},{week_day_order:e.week_day_order.value,week_day:e.week_day.value,x_months:parseInt(e.x_monthsOther)}))):a={newsletter_enabled:!1},rs.editCampaignSettings(this.props.associationId,a).then((function(e){i.props.updateAssociation()}))}},{key:"toggleDay",value:function(e){this.setState((function(t){var s=t.week_day;return 0===s.filter((function(t){return t===e})).length?s.push(e):s=s.filter((function(t){return t!==e})),{week_day:s}}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{className:"label",children:"Subscribed?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{newsletter_enabled:!e.newsletter_enabled}}))},checked:this.state.newsletter_enabled,id:"dac-yes",value:!0,name:"newsletter_enabled",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dac-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{newsletter_enabled:!e.newsletter_enabled}}))},checked:!this.state.newsletter_enabled,id:"dac-no",value:!1,name:"newsletter_enabled",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dac-no",children:"No"})]})]})}),this.state.newsletter_enabled&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{className:"label",children:"Please choose the date range:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({specified_date_range:!1})},checked:!this.state.specified_date_range,id:"all-year",value:!1,name:"date_range",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"all-year",children:"All Year"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({specified_date_range:!0})},checked:this.state.specified_date_range,id:"date-range",value:!1,name:"date_range",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"date-range",children:"Only During Specified Date Range"})]})]})}),this.state.specified_date_range&&Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("span",{className:"label",children:["Start Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,validate:[he],dateFormatCalendar:"MM/dd",dateFormat:"MM/dd",propperPlacement:"top",name:"newsletter_start_date",id:"newsletter_start_date",component:os,placeholder:"Select ..."})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("span",{className:"label",children:["End Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,validate:[he],dateFormatCalendar:"MM/dd",dateFormat:"MM/dd",propperPlacement:"top",name:"newsletter_end_date",id:"newsletter_end_date",component:os,placeholder:"Select ..."})]}),Object(re.jsx)("div",{className:"col is-1-of-3"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{className:"label",children:"Please choose delivery schedule:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({type:"weekly",week_day:[]})},checked:"weekly"===this.state.type,id:"type-weekly",value:!1,name:"type",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"type-weekly",children:"Weekly"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({type:"monthly",week_day:""})},checked:"monthly"===this.state.type,id:"type-monthly",value:!1,name:"type",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"type-monthly",children:"Monthly"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({type:"default"})},checked:"default"===this.state.type,id:"type-default",value:!1,name:"type",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"type-default",children:"1st & 15th of each month"})]})]})}),"weekly"===this.state.type&&Object(re.jsxs)("div",{className:"form_box",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:["Recur every ",Object(re.jsx)(g.a,{component:ce,className:"small",hideErrorMessages:!0,parse:function(e){return isNaN(parseInt(e))?"":parseInt(e)},validate:"weekly"===this.state.type&&[he,Ce(0)],type:"text",name:"x_weeks",id:"x_weeks"})," week(s) on:"]})})}),Object(re.jsxs)("div",{className:"row fr top-m jc-fs",children:[Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(0)},checked:0!==this.state.week_day.filter((function(e){return 0===e})).length,id:"week_day1",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day1",children:"Sunday"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5 ",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(1)},checked:0!==this.state.week_day.filter((function(e){return 1===e})).length,id:"week_day2",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day2",children:"Monday"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(2)},checked:0!==this.state.week_day.filter((function(e){return 2===e})).length,id:"week_day3",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day3",children:"Tuesday"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(3)},checked:0!==this.state.week_day.filter((function(e){return 3===e})).length,id:"week_day4",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day4",children:"Wednesday"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(4)},checked:0!==this.state.week_day.filter((function(e){return 4===e})).length,id:"week_day5",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day5",children:"Thursday"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(5)},checked:0!==this.state.week_day.filter((function(e){return 5===e})).length,id:"week_day6",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day6",children:"Friday"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)(g.a,{onClick:function(){e.toggleDay(6)},checked:0!==this.state.week_day.filter((function(e){return 6===e})).length,id:"week_day7",value:!1,name:"week_day",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"week_day7",children:"Saturday"})]})]}),"weekly"===this.state.type&&0===this.state.week_day.length&&Object(re.jsx)("span",{className:"validation__message is-error",children:"Select at least one day of the week"})]}),"monthly"===this.state.type&&Object(re.jsxs)("div",{className:"form_box",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({month_type:"day"})},checked:"day"===this.state.month_type,id:"monthTypeDay",value:!0,name:"month_type",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"monthTypeDay",children:"Day"}),Object(re.jsx)(g.a,{component:ce,className:"small",hideErrorMessages:!0,validate:"day"===this.state.month_type&&[he,Se],disabled:"day"!==this.state.month_type,type:"text",name:"month_day",id:"month_day"}),"of every",Object(re.jsx)(g.a,{component:ce,className:"small",hideErrorMessages:!0,disabled:"day"!==this.state.month_type,validate:"day"===this.state.month_type&&[he],type:"text",name:"x_monthsDay",id:"x_months"}),"month(s)"]})})}),Object(re.jsx)("div",{className:"row fr top-m jc-fs",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{month_type:"other"}}))},checked:"other"===this.state.month_type,id:"monthTypeOther",value:!0,name:"monthType",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"monthTypeOther",children:"The"}),Object(re.jsx)(g.a,{component:yt,options:Xi,className:"react-select-container small",classNamePrefix:"react-select",disabled:"other"!==this.state.month_type,hideErrorMessages:!0,validate:"day"!==this.state.month_type&&[he],type:"text",name:"week_day_order",id:"week_day_order"}),Object(re.jsx)(g.a,{component:yt,options:Qi,className:"react-select-container small",classNamePrefix:"react-select",hideErrorMessages:!0,disabled:"other"!==this.state.month_type,validate:"day"!==this.state.month_type&&[he],type:"text",name:"week_day",id:"week_day"}),Object(re.jsx)("span",{style:{marginLeft:10},children:"of every"}),Object(re.jsx)(g.a,{component:ce,className:"small",disabled:"other"!==this.state.month_type,hideErrorMessages:!0,validate:"day"!==this.state.month_type&&[he],type:"text",name:"x_monthsOther",id:"x_months"}),"month(s)"]})})})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||!n||"weekly"===this.state.type&&0===this.state.week_day.length||o,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Zi=Object(_.a)({form:"editEmailSubscriptionForm",destroyOnUnmount:!0})(Zi);var en=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Zi)),tn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Newsletter Campaign"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(en,{updateAssociation:function(){return e.props.updateAssociation()},associationId:this.props.associationId,subscription:this.props.subscription,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),sn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddMembershipTypeModalIsOpen:!1,EditMembershipTypeModalIsOpen:!1,EditEmailCampaignModalIsOpen:!1,seasons:[],membershipTypes:[],loading:!0,membershipLoading:!0,campaigns:[],campaignsLoading:!0},a.openAddMembershipTypeModal=a.openAddMembershipTypeModal.bind(Object(b.a)(a)),a.openEditRevisionScheduleModalModal=a.openEditRevisionScheduleModalModal.bind(Object(b.a)(a)),a.deleteMembership=a.deleteMembership.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openAddMembershipTypeModal",value:function(){this.setState({AddMembershipTypeModalIsOpen:!0})}},{key:"openEditRevisionScheduleModalModal",value:function(){this.setState({EditMembershipTypeModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&this.getMembershipTypes(),this.setState({AddMembershipTypeModalIsOpen:!1,EditMembershipTypeModalIsOpen:!1,EditEmailCampaignModalIsOpen:!1})}},{key:"componentDidMount",value:function(){this.getSeasonDates(),this.getMembershipTypes()}},{key:"getSeasonDates",value:function(){var e=this;rs.getPrimary(this.props.associationId).then((function(t){t&&t.association&&rs.getSeasons(t.association.course_rating_id).then((function(s){e.setState({loading:!1,campaigns:[Object(j.a)(Object(j.a)({},t.email_campaign_management),{email_campaign:"Newsletter",description:"On the scheduled date, all active golfers within the association with an email address will receive an email once the handicap index calculations have updated. This occurs shortly after 12:00 midnight local time. Please ensure your content is ready by 11:45 PM local time.",subscribed:e.props.association.newsletter_enabled?"Yes":"No",date_range:t.email_campaign_management.newsletter_all_year?"All Year":"".concat(t.email_campaign_management.newsletter_start_date.replace("-","/")," - ").concat(t.email_campaign_management.newsletter_end_date.replace("-","/"))})],campaignsLoading:!1,seasons:s.Season?s.Season.map((function(e,t){return{Id:t,SeasonName:e.SeasonName,SeasonStartDate:e.IsAllYear?"01/01":e.SeasonStartDate,SeasonEndDate:e.IsAllYear?"12/31":e.SeasonEndDate}})):[]})})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}},{key:"getMembershipTypes",value:function(){var e=this;this.setState({membershipLoading:!0}),rs.getMembershipTypes(this.props.associationId).then((function(t){e.setState({membershipLoading:!1,membershipTypes:t.membership_types.map((function(e){return Object(j.a)(Object(j.a)({},e),{bill_rate:parseFloat(e.bill_rate)})}))})})).catch((function(t){e.setState({membershipLoading:!1,membershipTypes:[]})}))}},{key:"deleteMembership",value:function(){var e=this;rs.deleteMembershipType(this.props.associationId,this.state.deleteMembership&&this.state.deleteMembership.id).then((function(t){e.props.addAlert({type:"success",message:"Membership type successfully deleted"}),e.setState({confirmationModalIsOpen:!1,deleteMembership:null},(function(){return e.getMembershipTypes()}))})).catch((function(e){console.error(e)}))}},{key:"changeSubscription",value:function(e){var t=this;rs.editCampaignSettings(this.props.associationId,e).then((function(e){t.props.updateAssociation()}))}},{key:"render",value:function(){var e=this,t=[{Header:"Membership Code",accessor:"code",colClassName:"col_user-name"},{Header:"Member Description",accessor:"description"},{Header:"USGA Membership Type",accessor:"type",colClassName:"col_user-name"},{Header:"Bill Rate",accessor:"bill_rate",Cell:function(e){return ui(e.original.bill_rate)}},{Header:"Status",accessor:"active",Cell:function(e){return"true"===e.original.active?"Active":"Inactive"}},{Header:"",sortable:!1,show:this.props.canEditAssociation,Cell:function(t){return Object(re.jsxs)("span",{className:"col_edit-delete",children:[Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({EditMembershipTypeModalIsOpen:!0,editMembership:t.original})},children:"Edit"}),t.original.is_used?null:Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({confirmationModalIsOpen:!0,deleteMembership:t.original})},children:"Delete"})]})}}],s=[{Header:"Email Campaign",accessor:"email_campaign",colClassName:"col_golfer-name"},{Header:"Description",accessor:"description",className:"col_long-text",colClassName:""},{Header:"Subscribed?",accessor:"subscribed",className:"table-align-center",thClassName:"table-align-center is-small",colClassName:"col_method-small"},{Header:"Date Range",accessor:"date_range",className:"table-align-center",thClassName:"table-align-center is-small"},{Header:"Schedule",accessor:"schedule_type",className:"table-align-center",thClassName:"table-align-center is-small",colClassName:"col_email-address"},{Header:"",accessor:"Edit",colClassName:"col_edit",show:this.props.canEditAssociation,Cell:function(t){return Object(re.jsx)("button",{className:"btn lnk",onClick:function(){return e.setState({EditEmailCampaignModalIsOpen:!0,selectedCampaign:t.original})},children:"Edit"})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Season Dates"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-2 centered",children:Object(re.jsx)("p",{className:"align-center",children:"Note: Season dates are managed within the Course Rating Application."})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-2 centered",children:Object(re.jsx)($t,{idKey:"id",hidePagination:!0,columns:[{Header:"Season Name",accessor:"SeasonName",colClassName:"col_user-name"},{Header:"Begin Date",accessor:"SeasonStartDate"},{Header:"End Date",accessor:"SeasonEndDate"}],loading:this.state.loading,hideSelect:!0,data:this.state.seasons,ref:function(t){return e.table=t},defaultSorted:[{id:"SeasonName",desc:!1}],sortable:!0})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Association Membership Types"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.canEditAssociation&&Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-5-of-6",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:Object(re.jsxs)("p",{children:[Object(re.jsx)("strong",{children:"Note:"})," Membership Types can only be deleted from an association if there are no golfers (regardless of status) currently assigned to it."]})}),Object(re.jsx)("div",{className:"col is-1-of-6 push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openAddMembershipTypeModal()},className:"btn fill green",children:"Add Membership Type"})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)($t,{idKey:"id",hidePagination:!0,columns:t,defaultPageSize:50,loading:this.state.membershipLoading,hideSelect:!0,data:this.state.membershipTypes,ref:function(t){return e.table=t},defaultSorted:[{id:"code",desc:!1}],sortable:!0})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Email Campaign Management"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:"Please contact GHIN Support to opt in or out of the following email services."})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)($t,{idKey:"id",hidePagination:!0,columns:s,loading:this.state.campaignLoading,hideSelect:!0,data:this.state.campaigns,ref:function(t){return e.table=t},defaultSorted:[{id:"code",desc:!1}],sortable:!0})})})]})]})})})]}),Object(re.jsx)(et.a,{isOpen:this.state.AddMembershipTypeModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Vi,{associationId:this.props.associationId,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.EditMembershipTypeModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)($i,{associationId:this.props.associationId,membership:this.state.editMembership,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.EditEmailCampaignModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(tn,{updateAssociation:function(){return e.props.updateAssociation()},associationId:this.props.associationId,subscription:this.state.campaigns[0],closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(ca,{question:"Are you sure you want to delete Membership Type:".concat(this.state.deleteMembership&&this.state.deleteMembership.code,"?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmationModalIsOpen:!1})},onConfirmAction:function(){return e.deleteMembership()},openModal:this.state.confirmationModalIsOpen,closeModal:function(){return e.setState({confirmationModalIsOpen:!1})}})]})}}]),s}(a.Component);var an=Object(p.c)((function(e){return{super_user:e.user.access.super_user}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(sn),nn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={status:!1},a}return Object(c.a)(s,[{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){return rs.editGolferProducts(s.assocId,s.assocSettings.id,e).then((function(e){s.addAlert({type:"success",message:"Association general settings has been successfully edited"}),s.close(e.association_settings)})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.props.onRef(this),this.props.initialize({about_us:this.props.assocSettings.about_us,newsfeed_url:this.props.assocSettings.newsfeed_url,contact_association_email:this.props.assocSettings.contact_association_email,preferred_social_url:this.props.assocSettings.preferred_social_url})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"about_us",children:"About Us Copy"}),Object(re.jsx)(g.a,{component:"textarea",name:"about_us",id:"about_us"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"preferred_social_url",children:"Twitter URL"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"preferred_social_url",id:"preferred_social_url"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"newsfeed_url",children:"News Feed"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"newsfeed_url",id:"newsfeed_url"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"contact_association_email",children:["Contact Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he,fe],name:"contact_association_email",id:"contact_association_email"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);nn=Object(_.a)({form:"editGolferProductsForm",destroyOnUnmount:!0})(nn);var on=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(nn)),rn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Golfer Products - General Settings"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(on,{assocSettings:this.props.assocSettings,assocId:this.props.assocId,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),cn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={selectedColor:a.props.assocSettings.preferred_color_for_app,colors:["10644B","5E7331","2592A8","363893","023971","0C63B9","625143","948354","000000","6F6F6F","C45200","970E16","00365F"]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){rs.editGolferProducts(s.assocId,s.assocSettings.id,{preferred_color_for_app:e["color-palette"]}).then((function(e){s.addAlert({type:"success",message:"Mobile App Primary Color settings has been successfully selected"}),s.close(e.association_settings)})).catch((function(e){console.error(e)}))}},{key:"renderColors",value:function(e){var t=this;return Object(re.jsxs)("div",{className:"badge-radio col is-1-of-4 jc-c ai-c",children:[Object(re.jsx)(g.a,{component:"input",type:"radio",name:"color-palette",onChange:function(){t.selectColor(e)},id:e,value:e,checked:this.state.selectedColor===e||"00365F"===e&&!this.state.selectedColor}),Object(re.jsx)("label",{htmlFor:e,children:Object(re.jsx)("div",{className:"badge color-".concat(e),children:e})})]},e)}},{key:"isPristine",value:function(){return this.props.assocSettings.preferred_color_for_app===this.state.selectedColor}},{key:"selectColor",value:function(e){this.setState({selectedColor:e})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("p",{className:"large margin-bot",children:"Please choose a primary color from the preferred color palette below:"}),Object(re.jsx)("div",{className:"badge-radio__container row fr",children:this.state.colors.map((function(t){return e.renderColors(t)}))})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:this.isPristine()||i,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);cn=Object(_.a)({form:"editPrefferedColorForm",destroyOnUnmount:!0})(cn);var ln=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(cn)),dn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Preferred Color Palette"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(ln,{assocSettings:this.props.assocSettings,assocId:this.props.assocId,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),un=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={image:a.props.image,editKioskImageInformationModalIsOpen:!1,confirmModalIsOpen:!1,confirmElementDelete:!1,ad_image_url:a.props.ad_image_url,tag:a.props.tag,displayError:!1},a.openEditKioskImageInformationModal=a.openEditKioskImageInformationModal.bind(Object(b.a)(a)),a.onSucefullyResponse=a.onSucefullyResponse.bind(Object(b.a)(a)),a.onErrorResponse=a.onErrorResponse.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditKioskImageInformationModal",value:function(){this.setState({editKioskImageInformationModalIsOpen:!0,displayError:!1})}},{key:"closeModal",value:function(){this.setState({confirmModalIsOpen:!1,editKioskImageInformationModalIsOpen:!1,displayError:!1})}},{key:"closeImageModal",value:function(e){e?this.props.onsetKioskImageURL(e,this.onSucefullyResponse,this.onErrorResponse):this.setState({editKioskImageInformationModalIsOpen:!1})}},{key:"onSucefullyResponse",value:function(e){this.setState({editKioskImageInformationModalIsOpen:!1,ad_image_url:e?e.ad_image_url:this.state.ad_image_url,tag:e?e.tag:this.state.tag,displayError:!1})}},{key:"onErrorResponse",value:function(e){this.setState({editKioskImageInformationModalIsOpen:!0,displayError:!0})}},{key:"setImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.convertToBase64(t);case 2:return s=e.sent,e.next=5,Na.getImageDimensions(s);case 5:if(a=e.sent,!this.props.requiredWidth||!this.props.requiredHeight||a.width===this.props.requiredWidth||a.height===this.props.requiredHeight){e.next=8;break}return e.abrupt("return",alert("Image size not right"));case 8:this.saveImage(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeImage",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"saveImage",value:function(e,t){this.props.onSave(e)}},{key:"uploadCustomImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.convertToBase64(t);case 2:return s=e.sent,e.next=5,Na.getImageDimensions(s);case 5:if(a=e.sent,!this.props.requiredWidth||!this.props.requiredHeight||a.width===this.props.requiredWidth||a.height===this.props.requiredHeight){e.next=8;break}return e.abrupt("return",alert("Image size not right"));case 8:this.props.onUploadCustomImage(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"componentDidMount",value:function(){this.setState({image:this.props.image,tag:this.props.tag})}},{key:"componentDidUpdate",value:function(e){this.props.image!==e.image&&this.setState({image:this.props.image,tag:this.props.tag})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"panel__head",children:[this.props.title,this.props.use_default_images&&Object(re.jsxs)("div",{className:"panel__end ",children:[Object(re.jsxs)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},style:{color:"#C9243F",marginRight:"30px"},"data-tip":!0,"data-for":"default_image",children:[Object(re.jsx)("i",{className:"material-icons v-mid m-right red",children:"info"})," USGA Default Image is being used."]}),Object(re.jsx)(Vt.a,{id:"default_image",className:"default-image__tooltip type-white ",type:"light",place:"top",effect:"float",children:"When no custom images have been uploaded, USGA Default Images will be used."}),Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.uploadCustomImage(t[0])},multiple:!1,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"btn lnk"},t()),{},{children:[Object(re.jsx)("input",Object(j.a)({},s())),Object(re.jsx)("button",{className:"btn lnk",children:"Upload Custom Image"})]}))}})]}),this.props.removable&&!this.props.readOnly&&null!=this.props.image&&!this.props.use_default_images&&Object(re.jsxs)("div",{className:"panel__end",children:[Object(re.jsx)("button",{onClick:function(){return e.openEditKioskImageInformationModal()},className:"btn lnk",style:{marginRight:"30px"},children:"Edit"}),!this.props.use_default_images&&Object(re.jsx)("button",{className:"btn lnk red",onClick:function(){return e.setState({confirmElementDelete:!0})},children:"Delete"})]})]}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsx)("div",{className:"upload__item",children:this.state.image||this.props.use_default_images?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("figure",{className:"large",style:{width:"100%"},children:Object(re.jsx)("img",{src:this.state.image,style:{width:"100%"},alt:""})})}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:this.state.image,children:this.state.image}),Object(re.jsx)("h6",{className:"upload__label",children:"Image Name:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.tag})]})})]})}),!this.props.readOnly&&!this.props.use_default_images&&Object(re.jsx)("div",{className:"upload__controls list",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:function(){e.removeImage()},children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})})]}):Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},t()),{},{children:[Object(re.jsx)("input",Object(j.a)({},s())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{className:"btn fill green",children:"Choose from computer"})]}))}})})})}),Object(re.jsx)(et.a,{isOpen:this.state.editKioskImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:this.state.editKioskImageInformationModalIsOpen&&Object(re.jsx)($a,{errors:this.state.displayError?this.props.errors:null,image:this.state.image,tag:this.props.tag,closeModal:function(t){return e.closeImageModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){e.setState({confirmModalIsOpen:!1}),e.props.onRemove()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this entry?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmElementDelete:!1})},onConfirmAction:function(){e.setState({confirmElementDelete:!1}),e.props.onDelete()},openModal:this.state.confirmElementDelete,closeModal:function(){return e.setState({confirmElementDelete:!1})}})]})}}]),s}(a.Component),hn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,image:a.props.image,ad_image_url:a.props.ad_image_url,mobile_image1_ad_tag:a.props.mobile_image1_ad_tag,mobile_image2_ad_tag:a.props.mobile_image2_ad_tag,confirmModalIsOpen:!1,displayError:!1,display_image_name:a.props.display_image_name},a.openEditImageInformationModal=a.openEditImageInformationModal.bind(Object(b.a)(a)),a.onSucefullyResponse=a.onSucefullyResponse.bind(Object(b.a)(a)),a.onErrorResponse=a.onErrorResponse.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditImageInformationModal",value:function(){this.setState({editImageInformationModalIsOpen:!0,displayError:!1})}},{key:"closeModal",value:function(){this.setState({confirmModalIsOpen:!1,editImageInformationModalIsOpen:!1,displayError:!1})}},{key:"closeImageModal",value:function(e){e?this.props.onsetImageURL(e,this.onSucefullyResponse,this.onErrorResponse):this.setState({editImageInformationModalIsOpen:!1})}},{key:"onSucefullyResponse",value:function(e){this.setState({editImageInformationModalIsOpen:!1,ad_image_url:e?e.ad_image_url:this.state.ad_image_url,mobile_image1_ad_tag:e?e.mobile_image1_ad_tag:this.state.mobile_image1_ad_tag,mobile_image2_ad_tag:e?e.mobile_image2_ad_tag:this.state.mobile_image2_ad_tag,displayError:!1})}},{key:"onErrorResponse",value:function(e){this.setState({editImageInformationModalIsOpen:!0,displayError:!0})}},{key:"setImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Na.convertToBase64(t);case 2:return s=e.sent,e.next=5,Na.getImageDimensions(s);case 5:if(a=e.sent,!this.props.requiredWidth||!this.props.requiredHeight||a.width===this.props.requiredWidth||a.height===this.props.requiredHeight){e.next=8;break}return e.abrupt("return",alert("Image size not right"));case 8:this.saveImage(t);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeImage",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"saveImage",value:function(e,t){this.props.onSave(e)}},{key:"componentDidMount",value:function(){this.setState({image:this.props.image})}},{key:"componentDidUpdate",value:function(e){this.props.image===e.image&&this.props.ad_image_url===e.ad_image_url||this.setState({image:this.props.image,mobile_image1_ad_tag:this.props.mobile_image1_ad_tag,mobile_image2_ad_tag:this.props.mobile_image2_ad_tag,ad_image_url:this.props.ad_image_url})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"panel__head",children:[this.props.title,Object(re.jsx)("div",{className:"panel__end",children:this.props.is_default_image&&Object(re.jsxs)("div",{children:[Object(re.jsxs)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},style:{color:"#C9243F",marginRight:"30px"},"data-tip":!0,"data-for":"default_image",children:[Object(re.jsx)("i",{className:"material-icons v-mid m-right red",children:"info"})," USGA Default Image is being used."]}),Object(re.jsx)(Vt.a,{id:"default_image",className:"default-image__tooltip type-white ",type:"light",place:"top",effect:"float",children:"When no custom images have been uploaded, USGA Default Images will be used."}),Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"btn lnk"},t()),{},{children:[Object(re.jsx)("input",Object(j.a)({},s())),Object(re.jsx)("button",{className:"btn lnk",children:"Upload Custom Image"})]}))}})]})})]}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"upload__item",children:[Object(re.jsxs)(a.Fragment,{children:[this.state.image&&Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("figure",{className:"large",style:{width:"100%"},children:Object(re.jsx)("img",{src:this.state.image,style:{width:"100%"},alt:""})})}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:this.state.image,children:this.state.image}),Object(re.jsx)("h6",{className:"upload__label",children:"Redirect URL:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.ad_image_url}),Object(re.jsx)("h6",{className:"upload__label",children:"Image Name:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.mobile_image1_ad_tag||this.state.mobile_image2_ad_tag})]})})]})}),!this.props.readOnly&&!this.props.is_default_image&&this.props.image&&Object(re.jsxs)("div",{className:"upload__controls list",children:[Object(re.jsx)("button",{onClick:function(){return e.openEditImageInformationModal()},className:"btn lnk",children:"Edit"}),Object(re.jsx)("button",{disabled:!this.state.image,className:"btn fill gray",onClick:function(){e.removeImage()},children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})]})]}),!this.props.readOnly&&!this.props.image&&Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,children:function(t){var s=t.getRootProps,a=t.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},s()),{},{children:[Object(re.jsx)("input",Object(j.a)({},a())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{disabled:e.state.image,className:"btn fill green",children:"Choose from computer"})]}))}})})]})}),Object(re.jsx)(et.a,{isOpen:this.state.editImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:this.state.editImageInformationModalIsOpen&&Object(re.jsx)(ya,{display_image_name:this.state.display_image_name,errors:this.state.displayError?this.props.errors:null,image:this.state.image,has_ad_image_url:!0,ad_image_url:this.state.ad_image_url,remove_alt_text:!0,mobile_image1_ad_tag:this.props.mobile_image1_ad_tag,mobile_image2_ad_tag:this.props.mobile_image2_ad_tag,closeModal:function(t){return e.closeImageModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){e.setState({confirmModalIsOpen:!1}),e.props.onRemove()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"})]})}}]),s}(a.Component),pn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,editKioskImageInformationModalIsOpen:!1,editAssocGeneralSettingsModalIsOpen:!1,editPrefferedColorPaletteModalIsOpen:!1,use_default_images:!1,settings:null,image:null,error:null},a.openEditAssocGeneralSettingsModal=a.openEditAssocGeneralSettingsModal.bind(Object(b.a)(a)),a.openPrefferedColorPaletteModal=a.openPrefferedColorPaletteModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditAssocGeneralSettingsModal",value:function(){this.setState({editAssocGeneralSettingsModalIsOpen:!0})}},{key:"openPrefferedColorPaletteModal",value:function(){this.setState({editPrefferedColorPaletteModalIsOpen:!0})}},{key:"closeModal",value:function(e){this.setState({editAssocGeneralSettingsModalIsOpen:!1,editPrefferedColorPaletteModalIsOpen:!1,settings:e||this.state.settings})}},{key:"removeImage",value:function(e){var t=this;rs.editImageGolferProducts(this.props.associationId,this.state.settings.id,Object(Et.a)({},"delete_"+e,!0)).then((function(e){t.setState({settings:e.association_settings})})).catch((function(e){console.error(e)}))}},{key:"saveImage",value:function(e,t){var s=this;rs.editImageGolferProducts(this.props.associationId,this.state.settings.id,Object(Et.a)({},t,e)).then((function(e){s.setState({settings:e.association_settings})})).catch((function(e){console.error(e)}))}},{key:"setImageURL",value:function(e,t,s,a){var i,n=this;e&&(rs.editGolferProducts(this.props.associationId,this.state.settings.id,(i={},Object(Et.a)(i,t+"_ad_url",e.ad_image_url),Object(Et.a)(i,"mobile_image1_ad_tag",e.mobile_image1_ad_tag),Object(Et.a)(i,"mobile_image2_ad_tag",e.mobile_image2_ad_tag),i)).then((function(t){n.setState({settings:t.association_settings,error:null}),s(e)})).catch((function(e){n.setState({error:e.data.error}),console.error(e.data.error)})),a(e))}},{key:"setKioskImageURL",value:function(e,t,s,a,i){var n=this,o=this.state.kiosk_images;e&&(rs.editKioskImage(this.props.associationId,t,{kiosk_image:{tag:e.tag}}).then((function(t){o[s]=t.kiosk_image,n.setState({kiosk_images:o,error:null}),a(e)})).catch((function(e){n.setState({error:e.data.error}),console.error(e.data.error)})),i(e))}},{key:"addNewKioskImage",value:function(){var e=this,t=this.state.kiosk_images;rs.addKioskImage(this.props.associationId).then((function(s){t.push(s.kiosk_image),e.setState({kiosk_images:t})})).catch((function(e){console.error(e)}))}},{key:"addNewKioskImageWithImage",value:function(e){var t=this,s=this.state.kiosk_images;rs.addKioskImage(this.props.associationId).then((function(a){s.push(a.kiosk_image),rs.uploadKioskImage(t.props.associationId,a.kiosk_image.id,e).then((function(e){s[s.length-1]=e.kiosk_image,t.setState({kiosk_images:s,use_default_images:t.calculateUseDefaultImages()})})),t.setState({kiosk_images:s})})).catch((function(e){console.error(e)}))}},{key:"saveKioskImage",value:function(e,t,s){var a=this,i=this.state.kiosk_images;rs.uploadKioskImage(this.props.associationId,t,e).then((function(e){i[s]=e.kiosk_image,a.setState({kiosk_images:i,use_default_images:a.calculateUseDefaultImages()})})).catch((function(e){console.error(e)}))}},{key:"removeKioskImage",value:function(e,t){var s=this,a=this.state.kiosk_images;rs.removeKioskImage(this.props.associationId,e).then((function(e){a[t]=e.kiosk_image,s.setState({kiosk_images:a,use_default_images:s.calculateUseDefaultImages()})})).catch((function(e){console.error(e)}))}},{key:"deleteKioskImage",value:function(e,t){var s=this,a=this.state.kiosk_images;rs.deleteKioskImage(this.props.associationId,e).then((function(e){a.splice(t,1),s.setState({kiosk_images:a,use_default_images:s.calculateUseDefaultImages()})})).catch((function(e){console.error(e)}))}},{key:"calculateUseDefaultImages",value:function(){return this.onlyEmptyKioskImages()&&!this.onlyEmptyKioskImages(this.state.federation_kiosk_images)&&null!==this.state.federation_kiosk_images&&0!==this.state.federation_kiosk_images.length}},{key:"componentDidMount",value:function(){var e=this;rs.getGolferProducts(this.props.associationId).then((function(t){rs.getKioskImages(e.props.associationId).then((function(s){e.setState({settings:t.association_settings,kiosk_images:s.kiosk_images,federation_kiosk_images:s.federation_kiosk_images,use_default_images:e.onlyEmptyKioskImages(s.kiosk_images)&&!e.onlyEmptyKioskImages(s.federation_kiosk_images)&&s.federation_kiosk_images&&s.federation_kiosk_images.length>0})})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)}))}},{key:"onlyEmptyKioskImages",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.state.kiosk_images;if(null==e)return!0;var t=!0;return e.forEach((function(e){null!=e.image_url&&(t=!1)})),t}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:this.state.settings&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"General Settings"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.canEditAssociation&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openEditAssocGeneralSettingsModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-c",children:Object(re.jsxs)("div",{className:"content__container",children:[Object(re.jsx)("h4",{children:"About Us Copy"}),Object(re.jsx)("div",{className:"content",children:Object(re.jsx)("p",{children:this.state.settings.about_us})})]})}),Object(re.jsx)("div",{className:"col jc-c",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Twitter URL:"}),Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:this.state.settings.preferred_social_url,target:"_blank",rel:"noreferrer",children:this.state.settings.preferred_social_url})})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"News Feed:"}),Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:this.state.settings.newsfeed_url,target:"_blank",rel:"noreferrer",children:this.state.settings.newsfeed_url})})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Contact Us Email Address:"}),Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:"mailto:".concat(this.state.settings.contact_association_email),children:this.state.settings.contact_association_email})})]})]})})]})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Mobile App Primary Color"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.canEditAssociation&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openPrefferedColorPaletteModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("p",{children:"Choose a primary color from the preferred color palette options below which will be utilized throughout the GHIN Mobile App (e.g. header, buttons, graphs, charts, etc.)"}),Object(re.jsxs)("div",{className:"badges__container row",children:[Object(re.jsxs)("div",{className:"default-badge__container col is-1-of-7 jc-c ai-c",children:[Object(re.jsx)("div",{className:"badge default color-00365F ".concat(this.state.settings.preferred_color_for_app&&"00365F"!==this.state.settings.preferred_color_for_app?"":"is-active"),children:"00365F"}),Object(re.jsx)("span",{className:"badge__label",children:"Default"})]}),Object(re.jsx)("div",{className:"badge-list col is-6-of-7",children:Object(re.jsxs)("div",{className:"row fr",children:[Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-10644B ".concat("10644B"===this.state.settings.preferred_color_for_app?"is-active":""),children:"10644B"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-5E7331 ".concat("5E7331"===this.state.settings.preferred_color_for_app?"is-active":""),children:"5E7331"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-2592A8 ".concat("2592A8"===this.state.settings.preferred_color_for_app?"is-active":""),children:"2592A8"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-363893 ".concat("363893"===this.state.settings.preferred_color_for_app?"is-active":""),children:"363893"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-023971 ".concat("023971"===this.state.settings.preferred_color_for_app?"is-active":""),children:"023971"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-0C63B9 ".concat("0C63B9"===this.state.settings.preferred_color_for_app?"is-active":""),children:"0C63B9"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-625143 ".concat("625143"===this.state.settings.preferred_color_for_app?"is-active":""),children:"625143"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-948354 ".concat("948354"===this.state.settings.preferred_color_for_app?"is-active":""),children:"948354"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-000000 ".concat("000000"===this.state.settings.preferred_color_for_app?"is-active":""),children:"000000"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-6F6F6F ".concat("6F6F6F"===this.state.settings.preferred_color_for_app?"is-active":""),children:"6F6F6F"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-C45200 ".concat("C45200"===this.state.settings.preferred_color_for_app?"is-active":""),children:"C45200"})}),Object(re.jsx)("div",{className:"col is-1-of-6 jc-c ai-c",children:Object(re.jsx)("div",{className:"badge color-970E16 ".concat("970E16"===this.state.settings.preferred_color_for_app?"is-active":""),children:"970E16"})})]})})]})]})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Promotional Images on Kiosk"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("h5",{className:"upload__title",children:"These images will appear at the bottom of all screens within the Kiosk."}),Object(re.jsxs)("ul",{className:"upload__requirements",children:[Object(re.jsx)("li",{children:"Required Width = 728 px"}),Object(re.jsx)("li",{children:"Required Height = 90 px"}),Object(re.jsx)("li",{children:"Required Format = PNG, JPG"})]}),Object(re.jsxs)("div",{className:"columns",children:[(this.state.use_default_images?this.state.federation_kiosk_images:this.state.kiosk_images).map((function(t,s){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(un,{title:"Promotional Image on Kiosk (".concat(s+1,")"),image:t.image_url,tag:t.tag,use_default_images:e.state.use_default_images,readOnly:!e.props.canEditAssociation,removable:!0,requiredHeight:90,requiredWidth:728,errors:e.state.error,onSave:function(a){e.saveKioskImage(a,t.id,s)},onUploadCustomImage:function(t){e.addNewKioskImageWithImage(t)},onRemove:function(){e.removeKioskImage(t.id,s)},onDelete:function(){e.deleteKioskImage(t.id,s)},onsetKioskImageURL:function(a,i,n){return e.setKioskImageURL(a,t.id,s,i,n)}})})})},s+(e.state.use_default_images?0:1e3))})),this.props.canEditAssociation&&!this.state.use_default_images&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.addNewKioskImage()},children:"Add Promotional Images on Kiosk"})})})]})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Promotional Images on Mobile App"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("h5",{className:"upload__title",children:"These images will appear on the Golfer Home screen of the GHIN Mobile App."}),Object(re.jsxs)("ul",{className:"upload__requirements",children:[Object(re.jsx)("li",{children:"Required Width = 1920 px"}),Object(re.jsx)("li",{children:"Required Height = 800 px"}),Object(re.jsx)("li",{children:"Required Format = PNG, JPG"})]}),Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(hn,{title:"Promotional Image on Mobile App - Placement 1",image:this.state.settings.mobile_app_promotional_image1,ad_image_url:this.state.settings.mobile_image1_ad_url,mobile_image1_ad_tag:this.state.settings.mobile_image1_ad_tag,is_default_image:this.state.settings.default_mobile_app_promotional_image1,update_association_settings:this.updateAssociationSettings,readOnly:!this.props.canEditAssociation,requiredWidth:1920,requiredHeight:800,display_image_name:"mobile_image1_ad_tag",errors:this.state.error,onSave:function(t){e.saveImage(t,"mobile_app_promotional_image1")},onRemove:function(){e.removeImage("image1")},onsetImageURL:function(t,s,a){return e.setImageURL(t,"mobile_image1",s,a)}})})})}),(this.state.settings.mobile_app_promotional_image2||this.props.canEditAssociation)&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(hn,{title:"Promotional Image on Mobile App - Placement 2",image:this.state.settings.mobile_app_promotional_image2,ad_image_url:this.state.settings.mobile_image2_ad_url,mobile_image2_ad_tag:this.state.settings.mobile_image2_ad_tag,is_default_image:this.state.settings.default_mobile_app_promotional_image2,update_association_settings:this.updateAssociationSettings,readOnly:!this.props.canEditAssociation,requiredWidth:1920,requiredHeight:800,display_image_name:"mobile_image2_ad_tag",errors:this.state.error,onSave:function(t){e.saveImage(t,"mobile_app_promotional_image2")},onRemove:function(){e.removeImage("image2")},onsetImageURL:function(t,s,a){return e.setImageURL(t,"mobile_image2",s,a)}})})})})]})]})]})})}),Object(re.jsx)(et.a,{isOpen:this.state.editAssocGeneralSettingsModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(rn,{assocSettings:this.state.settings,assocId:this.props.associationId,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.editPrefferedColorPaletteModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(dn,{assocSettings:this.state.settings,assocId:this.props.associationId,closeModal:function(t){e.closeModal(t)}})})]})})}}]),s}(a.Component);var mn=Object(p.c)((function(e){var t=Object(v.b)({updateAssociation:Ui,addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(pn),bn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={roles:[{value:"admin",label:"Administrator"},{value:"read_only",label:"Admin-Read-Only"},{value:"score_only",label:"Admin-Rapid-Score-Entry-Only"},{value:"score_maintenance",label:"Admin-Score Posting & Maintenance"}],active:!0},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this;if(this.props.existingUser){var s=e.id;return e.id&&delete e.id,Ee.insertAccess({user_access:Object(j.a)(Object(j.a)({},e),{},{active:e.active?"true":"false",role:e.role.value,club_id:parseInt(this.props.clubId),association_id:this.props.clubId?null:parseInt(this.props.associationId)})},s).then((function(e){t.props.closeModal()})).catch((function(e){console.error(e.data.error)}))}delete e.active,Ee.insert({user:Object(j.a)(Object(j.a)({},e),{},{role:e.role.value,association_id:this.props.clubId?null:parseInt(this.props.associationId),club_id:this.props.clubId,callback_url:window.location.origin+"/auth/set/"})}).then((function(e){t.state.active?Ee.update({user_access:{active:t.state.active?"true":"false"}},e.user_access.id).then((function(e){t.props.closeModal()})).catch((function(e){console.error(e.data.error)})):t.props.closeModal()})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.pristine,i=t.submitting;return Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"prefix",id:"prefix"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"first_name",children:["First Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"first_name",id:"first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"middle_name",children:"Middle Name"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"middle_name",id:"middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"last_name",children:["Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"last_name",id:"last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"suffix",children:"Suffix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"suffix",id:"suffix"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"phone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"phone",id:"phone"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{disabled:!0,component:ce,validate:[he,fe],type:"text",name:"email",id:"email"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"role",children:["Role ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"role",component:yt,className:"react-select-container",classNamePrefix:"react-select",validate:[he],options:this.state.roles})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2 ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{active:!e.active}}))},checked:this.state.active,id:"active",value:!0,name:"active",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"active",children:"Active"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:a||i,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})}}]),s}(a.Component);bn=Object(_.a)({form:"newUserForm",destroyOnUnmount:!0})(bn);var jn=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),null)(Ve(bn)),fn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={selectMethod:!0,showExistingUser:!1,existingUserMessage:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"showExistingUser",value:function(){this.setState({selectMethod:!1,showExistingUser:!0,showNewUser:!1})}},{key:"showNewUser",value:function(){this.setState({selectMethod:!1,showExistingUser:!1,showNewUser:!0})}},{key:"resetToSelect",value:function(){this.setState({selectMethod:!0,showExistingUser:!1,showNewUser:!1})}},{key:"onSubmit",value:function(e){var t=this;if(!((this.props.users?this.props.users.filter((function(t){return t.Email===e.email})):"").length>0))return Ee.search(encodeURIComponent(e.email),this.props.associationId,this.props.clubId).then((function(s){0===s.users.length?t.setState({showNewUser:!0},(function(){t.props.dispatch(Object(ts.c)("newUserForm",{email:e.email,active:!0}))})):t.setState({showExistingUser:!0},(function(){t.props.dispatch(Object(ts.c)("newUserForm",Object(j.a)(Object(j.a)({},s.users[0]),{active:!0})))}))})).catch((function(e){}));this.setState({existingUserMessage:!0})}},{key:"componentDidMount",value:function(){this.props.onRef(this),setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100)}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.pristine,i=t.submitting,n=t.anyTouched,o=t.valid;return this.state.existingUserMessage?this.props.clubId?"This user already has a role in this club.":"This user already has a role in this association.":this.state.showExistingUser?Object(re.jsx)(jn,{clubId:this.props.clubId,associationId:this.props.associationId,existingUser:!0,closeModal:this.props.closeModal}):this.state.showNewUser?Object(re.jsx)(jn,{clubId:this.props.clubId,associationId:this.props.associationId,existingUser:!1,closeModal:this.props.closeModal,data:{email:this.props.email},resetToSelect:function(){e.resetToSelect()}}):Object(re.jsx)("form",{onSubmit:s(this.onSubmit),children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{for:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he,fe],component:ce,type:"text",autoComplete:"off",name:"email",id:"preemailfix"})]}),Object(re.jsx)("div",{className:"col is-1-of-2 ".concat(!n||o?"jc-fe":"jc-c"),children:Object(re.jsx)("button",{disabled:a||i||!o,className:"btn fill blue",type:"submit",ref:"submit",children:"Continue"})})]})})}}]),s}(a.Component);fn=Object(_.a)({form:"playerSearchForm",destroyOnUnmount:!0})(fn);var On=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,email:Object(es.a)("playerSearchForm")(e,"email")}}),null)(Ve(fn)),gn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add User"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(On,{closeModal:this.props.closeModal,users:this.props.usersList,clubId:this.props.clubId,associationId:this.props.associationId})})]})})}}]),s}(a.Component),_n=s(483),vn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={roles:[{value:"admin",label:"Administrator"},{value:"read_only",label:"Admin-Read-Only"},{value:"score_only",label:"Admin-Rapid-Score-Entry-Only"},{value:"score_maintenance",label:"Admin-Score Posting & Maintenance"}],error:!1,active:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this,t=this.state.roles.filter((function(t){return t.value===e.props.user.user_access.role})),s=Object(j.a)(Object(j.a)({},this.props.user.user),{},{role:t[0],roleId:this.props.user.user_access.id,active:"false"!==this.props.user.user_access.active});this.props.initialize(s),this.setState({active:"false"!==this.props.user.user_access.active})}},{key:"onSubmit",value:function(e){var t=this,s=e.roleId;delete e.id,delete e.roleId,Ee.update({user_access:Object(j.a)(Object(j.a)({},e),{},{role:e.role.value,active:e.active?"true":"false"})},s).then((function(e){t.props.closeModal()})).catch((function(e){console.error(e.data.error),e.data.error&&t.setState({error:e.data.error})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,a=t.pristine,i=t.submitting,n=t.userType,o="super-admin"===n||"association-admin"===n||"club-admin"===n;return Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Edit ",this.props.user.user.first_name," ",this.props.user.user.last_name]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"prefix",id:"prefix"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"first_name",children:["First Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"first_name",id:"first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"middle_name",children:"Middle Name"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"middle_name",id:"middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"last_name",children:["Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"last_name",id:"last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"suffix",children:"Suffix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"suffix",id:"suffix"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"phone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",name:"phone",id:"phone"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he,fe],component:ce,type:"text",disabled:!o,name:"email",id:"email"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"role",children:["Role ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"role",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.roles})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2 ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{active:!e.active}}))},checked:this.state.active,id:"active",value:!0,name:"active",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"active",children:"Active"})]})}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",disabled:a||i,className:"btn fill blue",children:"Save"})})]})]})})]})}}]),s}(a.Component);vn=Object(_.a)({form:"editAssocUser",destroyOnUnmount:!0})(vn);var xn=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,dirty:Object(_n.a)("editAssocUser"),userType:e.user.access.user_type}}),(function(e){return Object(v.b)({},e)}))(vn),yn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.props.deleteUserAccessModalIsOpen,onConfirmAction:this.onSubmit,onCancelAction:function(){e.props.closeModal()},closeModal:function(){e.props.closeModal()},question:"Are you sure you want to remove the user ".concat(this.props.user.user.last_name," ").concat(this.props.user.user.first_name,"?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline",error:this.state.error})})}},{key:"onSubmit",value:function(){var e=this;Ee.deleteAccess(this.props.user.user_access.id).then((function(t){if(t.Errors)throw t.Errors;e.props.closeModal()})).catch((function(t){console.error(t),t&&e.setState({error:t})}))}}]),s}(a.Component);yn=Object(_.a)({form:"deleteAssocUserAccess",destroyOnUnmount:!0})(yn);var Nn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);var i=se.getState().user.user_id;return a.state={addUserModalIsOpen:!1,editUserModalIsOpen:!1,selectedUser:null,loading:!0,reinvitedSuccess:!1,users:[],user_id:i},a.openAddUserModal=a.openAddUserModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"getUsers",value:function(){var e=this;this.props.associationId&&Ee.get(null,this.props.associationId,null).then((function(t){e.setState({loading:!1,users:t.users.map((function(e){return Object(j.a)(Object(j.a)({},{user:e}),{},{Id:e.user.id,Name:e.user.last_name+(e.user.suffix?" "+e.user.suffix:"")+(e.user.prefix?", "+e.user.prefix:"")+", "+e.user.first_name+(e.user.middle_name?", "+e.user.middle_name:""),Role:("admin"===e.user_access.role?"Administrator":"")+("read_only"===e.user_access.role?"Admin-Read-Only":"")+("score_only"===e.user_access.role?"Admin-Rapid-Score-Entry-Only":"")+("score_maintenance"===e.user_access.role?"Admin-Score Posting & Maintenance":""),Email:e.user.email,Phone:e.user.phone,Status:"true"===e.user_access.active?"Active":"Inactive",lastLoginDate:e.user.last_sign_in_at,userAccessId:e.user_access.id})}))})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.getUsers()}},{key:"openAddUserModal",value:function(){this.setState({addUserModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({addUserModalIsOpen:!1})}},{key:"inviteUser",value:function(e){var t=this;Ee.reinvite(e.userAccessId,window.location.origin+"/auth/set/").then((function(s){"Sent"===s.user&&t.setState({reinvitedSuccess:e.Name})})).catch((function(e){console.log(e)}))}},{key:"deleteUser",value:function(e){var t=e.user_access.id;Ee.deleteAccess(e,t).then(this.getUsers())}},{key:"render",value:function(){var e=this,t=this.state.user_id,s=[{Header:"User Name",accessor:"Name",colClassName:"col_golfer-name-short"},{Header:"Role",accessor:"Role",colClassName:"col_golfer-name-short"},{Header:"Email Address",accessor:"Email"},{Header:"Phone Number",accessor:"Phone",colClassName:"col_phone-number"},{Header:"Status",accessor:"Status",colClassName:"col_status"},{Header:"Last Login Date",accessor:"lastLoginDate",colClassName:"col_date",Cell:function(t){return t.original.lastLoginDate?ue()(t.original.lastLoginDate).format("MM/DD/YYYY"):Object(re.jsx)("button",{className:"btn small fill green",onClick:function(){return e.inviteUser(t.original)},children:"Resend Invite"})}},{Header:"",accessor:"Edit",colClassName:"col_edit",show:this.props.canEditAssociation,Cell:function(t){return Object(re.jsx)("button",{className:"btn lnk",onClick:function(){return e.setState({editUserModalIsOpen:!0,selectedUser:t.row._original.user})},children:"Edit"})}},{Header:"",accessor:"Delete",colClassName:"col_remove",show:this.props.canEditAssociation,Cell:function(s){return t!==s.original.user.user.id&&Object(re.jsx)("button",{className:"btn lnk",onClick:function(){return e.setState({deleteUserAccessModalIsOpen:!0,selectedUser:s.row._original.user})},children:"Delete"})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Manage Users"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:this.props.canEditAssociation&&Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)("button",{onClick:this.openAddUserModal,className:"btn fill green",children:"Add User"})})}),Object(re.jsx)($t,{idKey:"Id",columns:s,loading:this.state.loading,hideSelect:!0,data:this.state.users,ref:function(t){return e.table=t},defaultSorted:[{id:"Name",desc:!1}],sortable:!0})]})]})})})}),Object(re.jsx)(et.a,{isOpen:this.state.addUserModalIsOpen,onRequestClose:function(){e.getUsers(),e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(gn,{associationId:this.props.associationId,usersList:this.state.users,closeModal:function(){e.getUsers(),e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.editUserModalIsOpen,onRequestClose:function(){e.getUsers(),e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(xn,{user:this.state.selectedUser,closeModal:function(){e.getUsers(),e.setState({editUserModalIsOpen:!1})}})}),Object(re.jsx)(et.a,{isOpen:this.state.deleteUserAccessModalIsOpen,onRequestClose:function(){e.getUsers(),e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(yn,{user:this.state.selectedUser,closeModal:function(){e.getUsers(),e.setState({deleteUserAccessModalIsOpen:!1})},deleteUserAccessModalIsOpen:this.state.deleteUserAccessModalIsOpen})}),Object(re.jsx)(Ss,{openModal:this.state.reinvitedSuccess,onMainAction:function(){e.setState({reinvitedSuccess:!1})},closeModal:function(){e.setState({reinvitedSuccess:!1})},message:"".concat(this.state.reinvitedSuccess," was successfully reinvited"),mainLabel:"Ok"})]})}}]),s}(a.Component),Sn=Object(u.o)(Nn),Cn=["Golfer First Name","Golfer Last Name","Golfer Full Name","Association Name","Handicap Index","GHIN Number","Association Address 1","Association Address 2","Association City","Association Postal Code","Association Email Address","Association Phone","Association State","Association Country","Low Handicap Index","Revision Date","Home Club"],kn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={tokens:!1,email_settings:{from_name:a.props.emailSettings.from_name,reply_to_email_address:a.props.emailSettings.reply_to_email_address,subject:a.props.emailSettings.subject},subjectInput:{selectionStart:0,selectionEnd:0}},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize({from_name:this.props.emailSettings.from_name,reply_to_email_address:this.props.emailSettings.reply_to_email_address,subject:this.props.emailSettings.subject})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"selectToken",value:function(e,t){var s=this,a="[".concat(e,"]"),i=this.subjectRef.selectionStart,n=this.subjectRef.selectionEnd,o="".concat(this.state.email_settings.subject.substring(0,i)).concat(a).concat(this.state.email_settings.subject.substring(n));this.setState({email_settings:Object(j.a)(Object(j.a)({},this.state.email_settings),{},{subject:o})},(function(){s.props.change("subject",o),s.subjectRef.focus(),s.subjectRef.setSelectionRange(i+a.length,i+a.length)}))}},{key:"saveSetup",value:function(){var e=this,t=Object(j.a)({},this.state.email_settings);return rs.editEmailSettings(this.props.associationId,this.props.emailSettings.id,{email_settings:t}).then((function(t){e.props.addAlert({type:"success",message:"Setup has been successfully edited"}),e.props.closeModal(t.email_settings)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.pristine,i=t.submitting,o=t.valid;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"from_name",children:["From Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he],onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{from_name:t.target.value})})},name:"from_name",id:"from_name"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"reply_to_email_address",children:["Reply-To Email Address ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he,fe],onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{reply_to_email_address:t.target.value})})},name:"reply_to_email_address",id:"reply_to_email_address"})]})}),Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsxs)("label",{htmlFor:"subject",children:["Email Subject Line ",Object(re.jsx)("span",{children:"*"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto jc-c",children:Object(re.jsxs)("button",{type:"button",onClick:function(){return e.setState({tokens:!e.state.tokens})},className:"btn lnk",children:["Tokens",Object(re.jsx)("span",{className:"tokens-toggle ".concat(this.state.tokens?"opened":"closed")})," "]})})}),this.state.tokens&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"data-tokens",children:Cn.map((function(t){return Object(re.jsx)("button",{type:"button",onClick:function(s){return e.selectToken(t,s)},className:"button token",children:t},t)}))})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he],onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{subject:t.target.value})})},ref:function(t){var s=Object(n.findDOMNode)(t);s&&(e.subjectRef=s.querySelector("input"))},name:"subject",id:"subject"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",type:"button",onClick:function(){return e.props.closeModal()},children:"Close"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:s||i||!o,type:"button",onClick:function(){return e.saveSetup()},children:"Save"})})]})]})})}}]),s}(a.Component);kn=Object(_.a)({form:"editSetupForm",destroyOnUnmount:!0})(kn);var An=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(kn)),Mn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:!0,onRequestClose:function(){e.props.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Setup"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(An,{associationId:this.props.associationId,emailSettings:this.props.emailSettings,closeModal:function(t){e.props.closeModal(t)}})})]})})})}}]),s}(a.Component),wn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={email_settings:{show_header_bar:a.props.emailSettings.show_header_bar,show_footer_bar:a.props.emailSettings.show_footer_bar,use_app_primary_color_for_header_and_footer_bar:a.props.emailSettings.use_app_primary_color_for_header_and_footer_bar,header_and_footer_bar_color:a.props.emailSettings.header_and_footer_bar_color}},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"saveSetup",value:function(){var e=this,t=Object(j.a)({},this.state.email_settings);return rs.editEmailSettings(this.props.associationId,this.props.emailSettings.id,{email_settings:t}).then((function(t){e.props.addAlert({type:"success",message:"Header & Footer Bars have been successfully edited"}),e.props.closeModal(t.email_settings)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:this.handleSubmit,ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Show Header Bar?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_header_bar:!0})})},checked:this.state.email_settings.show_header_bar,id:"show_header_bar",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show_header_bar",children:"Yes"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_header_bar:!1})})},checked:!this.state.email_settings.show_header_bar,id:"dont_show_header_bar",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dont_show_header_bar",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Show Footer Bar?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_footer_bar:!0})})},checked:this.state.email_settings.show_footer_bar,id:"show_footer_bar",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show_footer_bar",children:"Yes"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_footer_bar:!1})})},checked:!this.state.email_settings.show_footer_bar,id:"dont_show_footer_bar",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dont_show_footer_bar",children:"No"})]})]})}),(this.state.email_settings.show_header_bar||this.state.email_settings.show_footer_bar)&&Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Please choose a bar color option below:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{use_app_primary_color_for_header_and_footer_bar:!0})})},checked:this.state.email_settings.use_app_primary_color_for_header_and_footer_bar,id:"use_primary_color",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"use_primary_color",children:"Use Mobile App Primary Color"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{use_app_primary_color_for_header_and_footer_bar:!1})})},checked:!this.state.email_settings.use_app_primary_color_for_header_and_footer_bar,id:"use_custom_color",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"use_custom_color",children:"Use Custom Color"}),!this.state.email_settings.use_app_primary_color_for_header_and_footer_bar&&Object(re.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(re.jsx)("input",{type:"color",value:"#".concat(this.state.email_settings.header_and_footer_bar_color),onChange:function(t){return e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{header_and_footer_bar_color:t.target.value.substring(1).toUpperCase()})})},name:"color_picker",id:"color_picker"})})]})]})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",type:"button",onClick:function(){return e.props.closeModal()},children:"Close"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",type:"button",onClick:function(){return e.saveSetup()},children:"Save"})})]})]})})}}]),s}(a.Component);wn=Object(_.a)({form:"editSetupForm",destroyOnUnmount:!0})(wn);var In=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(wn)),Tn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:!0,onRequestClose:function(){e.props.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Header & Footer Bar"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(In,{associationId:this.props.associationId,emailSettings:this.props.emailSettings,closeModal:function(t){e.props.closeModal(t)}})})]})})})}}]),s}(a.Component),En=(s(974),s(975),s(976),s(977),s(978),s(979),s(980),s(981),s(982),s(983),s(984),s(503)),Fn=s.n(En),Dn=s(129);s.n(Dn).a.RegisterCommand("insertHTML",{title:"Insert HTML",focus:!0,undo:!0,refreshAfterCallback:!0,callback:function(){this.html.insert("Some Custom HTML."),this.undo.saveStep()}});var Pn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={html:a.props.html},a.appendText=a.appendText.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"getHtml",value:function(){return this.state.editor.codeView.isActive()?this.state.editor.codeView.get():this.state.editor.html.get(!0)}},{key:"appendText",value:function(e){this.state.editor.html.insert(e)}},{key:"handleModelChange",value:function(e){this.setState({html:e})}},{key:"render",value:function(){var e=this,t=this;return Object(re.jsx)(Fn.a,{tag:"textarea",model:this.state.html,onModelChange:this.handleModelChange.bind(this),config:{attribution:!1,key:-1!==window.location.origin.indexOf("admin-pilot")?"CTD5xB3E1G1E1A5B5wdnE-11D1H5G4J4A2wzA-13kF4A3C3I3C6B7C5A3E3E3==":"kRB4zB4D4C3E1F1G1qB-22A-16wpB1G-10frjC10D7D5B4B2A3D3E2J3C6==",toolbarButtons:{moreText:{buttons:["bold","italic","underline","strikeThrough","subscript","superscript","fontFamily","fontSize","textColor","backgroundColor","inlineClass","inlineStyle","clearFormatting"]},moreParagraph:{buttons:["alignLeft","alignCenter","formatOLSimple","alignRight","alignJustify","formatOL","formatUL","paragraphFormat","paragraphStyle","lineHeight","outdent","indent","quote"]},moreRich:{buttons:["insertLink","insertImage","insertVideo","insertTable","emoticons","fontAwesome","specialCharacters","embedly","insertFile","insertHR"]},moreMisc:{buttons:["undo","redo","fullscreen","print","getPDF","spellChecker","selectAll","html","help"],align:"right",buttonsVisible:2}},events:{initialized:function(){t.setState({editor:this})},focus:function(t,s){e.props.onFocus&&e.props.onFocus()}}}})}}]),s}(a.Component),Gn=["Golfer First Name","Golfer Last Name","Golfer Full Name","Association Name","Handicap Index","GHIN Number","Association Address 1","Association Address 2","Association City","Association Postal Code","Association Email Address","Association Phone","Association State","Association Country","Low Handicap Index","Revision Date","Home Club"],Rn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={tokens:!1,email_settings:{show_sub_header:a.props.emailSettings.show_sub_header,show_salutation:a.props.emailSettings.show_salutation,salutation:a.props.emailSettings.salutation}},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"selectToken",value:function(e,t){var s="[".concat(e,"]");this.htmlEditor.appendText(s)}},{key:"onSave",value:function(){var e=this,t=Object(j.a)({},this.state.email_settings);return t.show_salutation&&(t.salutation=this.htmlEditor.getHtml()),delete t.id,this.setState({email_settings:Object(j.a)(Object(j.a)({},this.state.email_settings),{},{salutation:t.salutation})}),rs.editEmailSettings(this.props.associationId,this.props.emailSettings.id,{email_settings:t}).then((function(t){e.props.addAlert({type:"success",message:"Sub-Header & Salutation has been successfully edited"}),e.props.closeModal(t.email_settings)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Show Sub-Header?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_sub_header:!0})})},checked:this.state.email_settings.show_sub_header,id:"show_sub_header",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show_sub_header",children:"Yes"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_sub_header:!1})})},checked:!this.state.email_settings.show_sub_header,id:"dont_show_sub_header",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dont_show_sub_header",children:"No"})]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{children:"Show Salutation?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_salutation:!0})})},checked:this.state.email_settings.show_salutation,id:"show_salutation",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show_salutation",children:"Yes"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{show_salutation:!1})})},checked:!this.state.email_settings.show_salutation,id:"dont_show_salutation",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dont_show_salutation",children:"No"})]})]})}),this.state.email_settings.show_salutation&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("label",{children:"Salutation"})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto jc-c",children:Object(re.jsxs)("button",{type:"button",onClick:function(){return e.setState({tokens:!e.state.tokens})},className:"btn lnk",children:["Tokens",Object(re.jsx)("span",{className:"tokens-toggle ".concat(this.state.tokens?"opened":"closed")})," "]})})}),this.state.tokens&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"data-tokens",children:Gn.map((function(t){return Object(re.jsx)("button",{type:"button",onClick:function(s){return e.selectToken(t,s)},className:"button token",children:t},t)}))})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(Pn,{ref:function(t){return e.htmlEditor=t},html:this.state.email_settings.salutation})})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",onClick:function(){return e.onSave()},children:"Save"})})]})]})}}]),s}(a.Component);Rn=Object(_.a)({form:"editSalutationForm",destroyOnUnmount:!0})(Rn);var Hn=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Rn)),Un=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:!0,onRequestClose:function(){e.props.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Sub-Header & Salutation"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Hn,{associationId:this.props.associationId,emailSettings:this.props.emailSettings,closeModal:function(t){e.props.closeModal(t)}})})]})})})}}]),s}(a.Component),Ln=s(504),Yn=s.n(Ln),zn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={preview:null},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.campaignId?rs.previewSentEmail(this.props.associationId,this.props.campaignId).then((function(t){e.setState({preview:t})})).catch((function(t){t.data&&t.data.Error&&t.data.Error&&e.setState({preview:'<p className={"is-error"}/>'.concat(t.data.Error,"</p>")})})):rs.previewEmail(this.props.associationId,this.props.golferId).then((function(t){e.setState({preview:t})})).catch((function(t){t.data&&t.data.Error&&t.data.Error&&e.setState({preview:'<p className={"is-error"}/>'.concat(t.data.Error,"</p>")})}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:!0,onRequestClose:function(){e.props.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container wide",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"remove_red_eye"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Preview Email"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.preview&&Yn()(this.state.preview)})]})})})}}]),s}(a.Component),Bn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){this.props.onSubmit(e),this.props.closeModal()}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.valid,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Name of Content Block ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",autoComplete:"off",name:"name",id:"name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:!i||n,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Bn=Object(_.a)({form:"addContentBlockForm",destroyOnUnmount:!0})(Bn);var qn=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({},e)}))(Ve(Bn)),Vn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:!0,onRequestClose:function(){return e.props.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Content Block"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(qn,{onSubmit:function(t){return e.props.onSubmit(t)},closeModal:function(t){return e.props.closeModal(t)}})})]})})})}}]),s}(a.Component),Wn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={email:a.props.email},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize({name:this.state.email.block_name}),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){this.props.closeModal(Object(j.a)(Object(j.a)({},this.state.email),{},{block_name:e.name}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Name of Content Block ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",autoComplete:"off",name:"name",id:"name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:!n||i||o,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Wn=Object(_.a)({form:"addContentBlockForm",destroyOnUnmount:!0})(Wn);var Kn=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({},e)}))(Ve(Wn)),Jn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(et.a,{isOpen:!0,onRequestClose:function(){return e.props.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Content Block"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Kn,{email:this.props.email,closeModal:function(t){return e.props.closeModal(t)}})})]})})})}}]),s}(a.Component),$n=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Sub-Header & Salutation"}),Object(re.jsxs)("div",{className:"panel__body",children:[!this.props.readOnly&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.props.assocOpenEditSalutationModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:"The default sub-header content includes the golfers name, GHIN Number, Handicap Index and Low Handicap Index."})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container left",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Show Sub-Header?"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.show_sub_header?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Show Salutation?"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.show_salutation?"Yes":"No"})]}),this.props.emailSettings.show_salutation&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Salutation:"}),Object(re.jsx)("span",{className:"data-value",dangerouslySetInnerHTML:{__html:this.props.emailSettings.salutation}})]})]})})})]})]})})})}}]),s}(a.Component);var Xn=Object(p.c)((function(e){return{}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))($n),Qn=(s(1015),["Golfer First Name","Golfer Last Name","Golfer Full Name","Association Name","Handicap Index","GHIN Number","Association Address 1","Association Address 2","Association City","Association Postal Code","Association Email Address","Association Phone","Association State","Association Country","Low Handicap Index","Revision Date","Home Club"]),Zn=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={tokens:!1},a}return Object(c.a)(s,[{key:"selectToken",value:function(e,t){var s="[".concat(e,"]");this.htmlEditorRef.appendText(s)}},{key:"onSave",value:function(){var e=this.htmlEditorRef.getHtml();this.props.closeModal(e)}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto jc-c",children:Object(re.jsxs)("button",{onClick:function(){return e.setState({tokens:!e.state.tokens})},className:"btn lnk",children:["Tokens",Object(re.jsx)("span",{className:"tokens-toggle ".concat(this.state.tokens?"opened":"closed")})," "]})})}),this.state.tokens&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("div",{className:"data-tokens",children:Qn.map((function(t){return Object(re.jsx)("button",{onClick:function(s){return e.selectToken(t,s)},className:"button token",children:t},t)}))})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)(Pn,{html:this.props.content,ref:function(t){return e.htmlEditorRef=t}})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal(e.props.content)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",onClick:this.onSave.bind(this),children:"Save"})})]})]})}}]),s}(a.Component),eo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,editCustomHTMLModalIsOpen:!1,image:a.props.image,alt_text:a.props.alt_text,email_settings:{header_content_setup:a.props.email_settings.header_content_setup,header_text:a.props.email_settings.header_text,header_text_color:a.props.email_settings.header_text_color,use_app_primary_color_for_header_text:a.props.email_settings.use_app_primary_color_for_header_text,preferred_app_color:a.props.email_settings.preferred_app_color,custom_html:a.props.email_settings.custom_html,image_alignment:a.props.email_settings.image_alignment},confirmModalIsOpen:!1,confirmElementDelete:!1,alignment:[{value:"left",label:"Align Image Left + Header Text Right"},{value:"right",label:"Align Image Right + Header Text Left"},{value:"center",label:"Align Image Center (No Header Text)"}]},a.openEditImageInformationModal=a.openEditImageInformationModal.bind(Object(b.a)(a)),a.openCustomHTMLModal=a.openCustomHTMLModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditImageInformationModal",value:function(){this.setState({editImageInformationModalIsOpen:!0})}},{key:"openCustomHTMLModal",value:function(){this.setState({editCustomHTMLModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({confirmModalIsOpen:!1,editImageInformationModalIsOpen:!1})}},{key:"closeImageModal",value:function(e){var t=this;e?this.setState({editImageInformationModalIsOpen:!1,alt_text:e?e.alt_text:this.state.alt_text,email_settings:e?e.email_settings:this.state.email_settings},(function(){t.props.onSetAltText(t.state.alt_text,t.state.email_settings)})):this.setState({editImageInformationModalIsOpen:!1})}},{key:"setImage",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.saveImage(t);case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"removeImage",value:function(){this.setState({confirmModalIsOpen:!0})}},{key:"saveImage",value:function(e,t){this.props.onSave(e)}},{key:"getImageAlignment",value:function(){var e=this;return this.state.alignment.filter((function(t){return t.value===e.state.email_settings.image_alignment}))[0].label}},{key:"closeCustomHTMLModal",value:function(e){var t=this;this.setState({email_settings:Object(j.a)(Object(j.a)({},this.state.email_settings),{},{custom_html:e}),editCustomHTMLModalIsOpen:!1},(function(){return t.props.onSaveSettings(t.state.email_settings)}))}},{key:"componentDidMount",value:function(){this.setState({image:this.props.image,alt_text:this.props.alt_text})}},{key:"componentDidUpdate",value:function(e){this.props.image===e.image&&this.props.alt_text===e.alt_text||this.setState({image:this.props.image,alt_text:this.props.alt_text})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"panel__head",children:[this.props.title,this.props.removable&&!this.props.readOnly&&Object(re.jsx)("div",{className:"panel__end",children:Object(re.jsx)("button",{className:"btn lnk red",onClick:function(){return e.setState({confirmElementDelete:!0})},children:"Delete"})})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{header_content_setup:"default"})},(function(){return e.props.onChangeSetup(e.state.email_settings)}))},checked:"default"===this.state.email_settings.header_content_setup,id:"default_header",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"default_header",children:"Use Default Setup"}),Object(re.jsx)("input",{onChange:function(){e.setState({email_settings:Object(j.a)(Object(j.a)({},e.state.email_settings),{},{header_content_setup:"custom"})},(function(){return e.props.onChangeSetup(e.state.email_settings)}))},checked:"custom"===this.state.email_settings.header_content_setup,id:"custom_header",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"custom_header",children:"Use Custom HTML"})]})})}),"default"===this.state.email_settings.header_content_setup&&Object(re.jsxs)("div",{className:"upload__item",children:[this.state.image?Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("center",{children:Object(re.jsx)("figure",{children:Object(re.jsx)("img",{src:this.state.image,alt:this.props.alt_text?this.props.alt_text:"ghin-admin",name:this.props.alt_text?this.props.alt_text:"ghin-admin",style:{maxWidth:"100%"}})})})}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:this.state.image,children:this.state.image}),Object(re.jsx)("h6",{className:"upload__label",children:"Alt Text:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.alt_text}),Object(re.jsx)("h6",{className:"upload__label",children:"Image Alignment:"}),Object(re.jsx)("span",{className:"upload__info",children:this.getImageAlignment()}),""!==this.state.email_settings.header_text.trim()&&"center"!==this.state.email_settings.image_alignment&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("h6",{className:"upload__label",children:"Header Text:"}),Object(re.jsx)("span",{className:"upload__info",children:this.state.email_settings.header_text}),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("h6",{className:"upload__label",children:"Header Text Color:"}),Object(re.jsxs)("div",{children:[Object(re.jsxs)("span",{className:"upload__info",children:["#",this.state.email_settings.use_app_primary_color_for_header_text?this.state.email_settings.preferred_app_color:this.state.email_settings.header_text_color]}),Object(re.jsx)("span",{className:"circle",style:{backgroundColor:"#".concat(this.state.email_settings.use_app_primary_color_for_header_text?this.state.email_settings.preferred_app_color:this.state.email_settings.header_text_color)}})]})]})]})]})})]})}):!this.props.readOnly&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setImage(t[0])},multiple:!1,disabled:!!this.state.image,children:function(t){var s=t.getRootProps,a=t.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},s()),{},{children:[Object(re.jsx)("input",Object(j.a)({},a())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{disabled:e.state.image,className:"btn fill green",children:"Choose from computer"})]}))}})}),Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("ul",{className:"upload__requirements",children:[Object(re.jsx)("li",{children:"Required Format = PNG, JPG"}),Object(re.jsx)("li",{children:"The maximum image height is 155 px. Any images uploaded with an image height greater than 155 px will be resized proportionately."})]})})]}),!this.props.readOnly&&Object(re.jsxs)("div",{className:"upload__controls list",children:[this.state.image&&Object(re.jsx)("button",{onClick:function(){return e.openEditImageInformationModal()},className:"btn lnk",children:"Edit"}),Object(re.jsx)("button",{disabled:!this.state.image,className:"btn fill gray",onClick:function(){e.removeImage()},children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})]})]}),"custom"===this.state.email_settings.header_content_setup&&Object(re.jsxs)("div",{children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h4",{className:"section_title",children:"Custom HTML"})}),Object(re.jsx)("div",{className:"col auto push-right jc-c",children:Object(re.jsx)("button",{onClick:function(){return e.openCustomHTMLModal()},className:"btn lnk",children:"Edit"})})]}),this.state.editCustomHTMLModalIsOpen?Object(re.jsx)(Zn,{closeModal:this.closeCustomHTMLModal.bind(this),content:this.state.email_settings.custom_html||""}):Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"content_preview",dangerouslySetInnerHTML:{__html:this.state.email_settings.custom_html}})})]})]}),Object(re.jsx)(et.a,{isOpen:this.state.editImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:this.state.editImageInformationModalIsOpen&&Object(re.jsx)(ya,{image:this.state.image,alt_text:this.state.alt_text,logo:!0,email_settings:this.state.email_settings,closeModal:function(t){return e.closeImageModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.confirmModalIsOpen,onConfirmAction:function(){e.setState({confirmModalIsOpen:!1}),e.props.onRemove()},onCancelAction:function(){e.setState({confirmModalIsOpen:!1})},closeModal:function(){e.setState({confirmModalIsOpen:!1})},question:"Are you sure?",cancelLabel:"No",confirmLabel:"Yes"}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this entry?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmElementDelete:!1})},onConfirmAction:function(){return e.props.onDelete()},openModal:this.state.confirmElementDelete,closeModal:function(){return e.setState({confirmElementDelete:!1})}})]})}}]),s}(a.Component),to=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"saveLogo",value:function(e){var t=this;rs.uploadEmailLogo(this.props.associationId,this.props.emailSettings.id,{logo:e}).then((function(e){t.props.addAlert({type:"success",message:"Default Header Logo has been successfully uploaded"}),t.props.updateEmailSettings(e.email_settings)})).catch((function(e){console.log(e)}))}},{key:"removeLogo",value:function(){var e=this;rs.deleteEmailLogo(this.props.associationId,this.props.emailSettings.id).then((function(t){e.props.addAlert({type:"success",message:"Default Header Logo has been successfully removed"}),e.props.updateEmailSettings(t.email_settings)})).catch((function(e){console.log(e)}))}},{key:"setAltText",value:function(e,t){var s=this;rs.editEmailSettings(this.props.associationId,this.props.emailSettings.id,{newsletter_logo_alt_text:e,email_settings:t}).then((function(e){s.props.addAlert({type:"success",message:"Default Header Setup has been successfully edited"}),s.props.updateEmailSettings(e.email_settings)})).catch((function(e){console.log(e)}))}},{key:"setCustomHTML",value:function(e){var t=this,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Header Custom HTML has been successfully edited";rs.editEmailSettings(this.props.associationId,this.props.emailSettings.id,{email_settings:e}).then((function(e){t.props.addAlert({type:"success",message:s}),t.props.updateEmailSettings(e.email_settings)})).catch((function(e){console.log(e)}))}},{key:"setContentSetup",value:function(e){this.setCustomHTML(e,"Header Content type has been successfully modified")}},{key:"render",value:function(){var e=this;return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(eo,{title:"Header Content Setup",readOnly:!this.props.canEditAssociation,image:this.props.emailSettings.newsletter_logo,alt_text:this.props.emailSettings.newsletter_logo_alt_text,email_settings:this.props.emailSettings,square:!0,logo:!0,onSave:function(t){e.saveLogo(t)},onRemove:function(){e.removeLogo()},onSetAltText:function(t,s){return e.setAltText(t,s)},onSaveSettings:function(t){return e.setCustomHTML(t)},onChangeSetup:function(t){return e.setContentSetup(t)}})})})})}}]),s}(a.Component);var so=Object(p.c)((function(e){return{}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(to),ao=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Setup"}),Object(re.jsxs)("div",{className:"panel__body",children:[!this.props.readOnly&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.props.assocOpenEditSetupModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container left",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"From Name:"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.from_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Reply-To Email Address:"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.reply_to_email_address})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Email Subject Line:"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.subject})]})]})})})]})]})})})}}]),s}(a.Component),io=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Header & Footer Bar"}),Object(re.jsxs)("div",{className:"panel__body",children:[!this.props.readOnly&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.props.assocOpenHeaderAndFooterModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:"The header and footer bars are the solid colored bars that appear at the top (below the header) and bottom of the template."})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container left",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Show Header Bar?"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.show_header_bar?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Show Footer Bar?"}),Object(re.jsx)("span",{className:"data-value",children:this.props.emailSettings.show_footer_bar?"Yes":"No"})]}),(this.props.emailSettings.show_header_bar||this.props.emailSettings.show_footer_bar)&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Color Code"}),Object(re.jsxs)("div",{className:"data-value",children:[Object(re.jsxs)("span",{children:["#",this.props.emailSettings.use_app_primary_color_for_header_and_footer_bar?this.props.emailSettings.preferred_app_color:this.props.emailSettings.header_and_footer_bar_color]}),Object(re.jsx)("span",{className:"circle",style:{backgroundColor:"#".concat(this.props.emailSettings.use_app_primary_color_for_header_and_footer_bar?this.props.emailSettings.preferred_app_color:this.props.emailSettings.header_and_footer_bar_color)}})]})]})]})})})]})]})})})}}]),s}(a.Component),no=s(365),oo=s(505),ro=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).SortableItem=Object(no.b)((function(e){var t=e.value;return Object(re.jsx)("li",{style:{listStyleType:"none",cursor:"move",marginLeft:"12px"},children:Object(re.jsxs)("span",{className:"data-label",children:[Object(re.jsx)("span",{children:Object(re.jsx)("i",{className:"material-icons",children:"menu"})}),Object(re.jsx)("span",{className:"drag-drop-item_name",children:t})]})})})),a.SortableContainer=Object(no.a)((function(e){var t=e.children;return Object(re.jsx)("ul",{children:t})})),a.modified=function(){return JSON.stringify(a.state.initial_email_contents)!==JSON.stringify(a.state.email_contents)},a.resetBlocks=function(){a.setState({email_contents:Object(We.a)(a.state.initial_email_contents)})},a.orderBlocks=function(){rs.updateBlocksOrder(a.props.associationId,a.state.email_contents.map((function(e){return e.id}))).then((function(e){a.props.loadEmails(),a.setState({initial_email_contents:Object(We.a)(a.state.email_contents)})}))},a.onSortStart=function(){document.body.style.cursor="move"},a.onSortEnd=function(e){var t=e.oldIndex,s=e.newIndex;document.body.style.cursor="default",a.setState({email_contents:Object(oo.a)(a.state.email_contents,t,s)})},a.state={initial_email_contents:a.props.email_contents,email_contents:a.props.email_contents},a}return Object(c.a)(s,[{key:"componentDidUpdate",value:function(e){JSON.stringify(e.email_contents)!==JSON.stringify(this.props.email_contents)&&JSON.stringify(this.state.initial_email_contents.map((function(e){return e.id})))===JSON.stringify(e.email_contents.map((function(e){return e.id})))&&this.setState({initial_email_contents:this.props.email_contents,email_contents:this.props.email_contents})}},{key:"render",value:function(){var e=this;return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Reorder Content Blocks"}),Object(re.jsx)("div",{className:"panel__body",children:this.props.canEditAssociation?Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:"Drag and drop content blocks into the order you would like them to appear in the email."})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(this.SortableContainer,{onSortStart:this.onSortStart,onSortEnd:this.onSortEnd,children:this.state.email_contents.map((function(t,s){return Object(re.jsx)(e.SortableItem,{index:s,value:t.block_name},"item-".concat(t.block_name))}))})})}),Object(re.jsx)("br",{}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:!this.modified(),type:"button",onClick:function(){return e.resetBlocks()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:!this.modified(),type:"submit",onClick:function(){return e.orderBlocks()},className:"btn fill blue",children:"Save"})})]})]}):Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("ul",{children:this.state.email_contents.map((function(e){return Object(re.jsx)("li",{style:{listStyleType:"none",margin:"0 0 6px 12px"},children:Object(re.jsx)("span",{className:"data-label",children:e.block_name})})}))})})})})]})})})}}]),s}(a.Component),co=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e,t,s){return rs.sendTestEmail(this.props.associationId,e.ghin,e.email).then((function(e){"true"===e.sent&&(s.addAlert({type:"success",message:"Test email has been successfully sent!"}),s.initialize())})).catch((function(e){throw console.error(e),new O.a({ghin:e.data.Error})}))}},{key:"render",value:function(){var e=this.props,t=e.handleSubmit,s=e.pristine,a=e.submitting,i=e.valid;return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Preview & Test"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{htmlFor:"ghin_number_preview",children:"GHIN #"}),Object(re.jsx)("input",{type:"text",id:"ghin_number_preview",onChange:this.props.ghinPreviewGolfer,name:"ghin_number_preview"})]}),Object(re.jsx)("div",{className:"col auto jc-fe",children:Object(re.jsx)("button",{onClick:this.props.openEmailPreviewModal,className:"btn fill green",children:"Preview"})})]}),Object(re.jsx)("form",{autoComplete:"off",onSubmit:t(this.onSubmit),ref:"form",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{htmlFor:"ghin_number_test",children:["GHIN # ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he,xe],name:"ghin",id:"ghin"})]}),Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{htmlFor:"email_address_test",children:["Email Address ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[he,fe],name:"email",id:"email"})]}),Object(re.jsxs)("div",{className:"col auto jc-fs ",children:[Object(re.jsx)("label",{htmlFor:"email_address_test",children:"\xa0"}),Object(re.jsx)("button",{disabled:s||a||!i,type:"submit",ref:"submit",className:"btn fill green",children:"Send Test Email"})]})]})})]})]})})})}}]),s}(a.Component),lo=co=Object(_.a)({form:"erevisionTestEmailForm",destroyOnUnmount:!0})(co),uo=s(88),ho=s.n(uo),po=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).updateFilter=function(t,s){e.setState({filters:Object(j.a)(Object(j.a)({},e.state.filters),{},Object(Et.a)({},t,s))},(function(){e.updateTable()}))},e.updateTable=ho()((function(){var t=qs.filtersToArray(e.state.filters);e.props.updateFiltered(t)}),200),e.state={filters:{golfer_id:"",email:"",sent:{label:"Delivered",value:!0}}},e.updateFilter=e.updateFilter.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.updateTable()}},{key:"reset",value:function(){var e=this;this.setState({filters:{golfer_id:"",email:"",sent:{label:"Delivered",value:!0}}},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return this.props.hideFilters?null:Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"golfer_id ",children:"GHIN #"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.golfer_id,name:"golfer_id",id:"golfer_id",onChange:function(t){e.updateFilter("golfer_id",t.target.value)}})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.email,name:"email",id:"email",onChange:function(t){e.updateFilter("email",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-3",children:Object(re.jsx)(Bs,{options:[{label:"Delivered",value:!0},{label:"Opened",value:"open"},{label:"Not Delivered",value:!1}],value:this.state.filters.sent,hideSelectAllOption:!0,singleChoice:!0,onChange:function(t){return e.updateFilter("sent",t)},label:"Status"})})]})})})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),mo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={filtered:[],exportUrl:null,exportUrlForCampaign:null,campaigns:[],campaignsLoading:!0,campaign_sorted:[{id:"date",desc:!0}],selectedCampaign:null,campaignDetails:[],detailsLoading:!0,sorted:[{id:"ghin_number",desc:!1}],pages:0,campaign_pages:0,campaign_per_page:5,campaign_page:0,page:0,per_page:20,total:0,previewEmailModalIsOpen:!1,campaignId:null},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadCampaigns(),this.getExportUrl()}},{key:"updateFilter",value:function(e){var t=this;this.setState({filtered:e,page:0},(function(){t.loadDetails()}))}},{key:"getClubRequestParams",value:function(){var e={page:this.state.page+1,per_page:this.state.per_page};return this.state.sorted.length>0&&(e.sorting_criteria=this.state.sorted[0].id,e.order=this.state.sorted[0].desc?"desc":"asc"),e=Object(j.a)(Object(j.a)({},e),qs.filtersArrayToParams(this.state.filtered))}},{key:"loadDetails",value:function(){var e=this;this.setState({detailsLoading:!0,campaignDetails:[]});var t=this.getClubRequestParams();t.status="open"===t.sent?"open":null,t.sent="open"===t.sent||t.sent,rs.getCampaignDetails(this.props.associationId,this.state.selectedCampaign.id,t).then((function(t){e.setState({detailsLoading:!1,total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),campaignDetails:t.campaign_emails.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{date_opened:e.date_opened&&ue()(e.date_opened).format("MM-DD-YYYY HH:mm:ss"),date_sent:e.date_sent&&ue()(e.date_sent).format("MM-DD-YYYY HH:mm:ss")})}))})})).catch((function(e){console.log(e)}))}},{key:"getCampaignParams",value:function(){var e={page:this.state.campaign_page+1,per_page:this.state.campaign_per_page};return this.state.campaign_sorted.length>0&&("date"===this.state.campaign_sorted[0].id&&(e.sorting_criteria="date_sent"),e.order=this.state.campaign_sorted[0].desc?"DESC":"ASC"),e}},{key:"loadCampaigns",value:function(){var e=this;this.setState({campaignsLoading:!0,campaigns:[]});var t=this.getCampaignParams();rs.getCampaigns(this.props.associationId,t).then((function(t){e.setState({campaigns:t.campaigns.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{date:ue()(e.created_at).format("MM/DD/YYYY HH:mm:ss"),open_percent:e.open_percent+"%",unique_opens_percent:e.unique_opens_percent+"%"})})),campaignsLoading:!1,campaign_pages:t["total-pages"],campaign_per_page:t["per-page"],campaign_total:t["total-count"]})})).catch((function(e){console.log(e)}))}},{key:"getExportUrl",value:function(){var e=this;rs.exportCampaigns(this.props.associationId).then((function(t){e.setState({exportUrl:t.url})})).catch((function(e){console.log(e)}))}},{key:"getExportUrlForCampaign",value:function(){var e=this;rs.exportCampaign(this.props.associationId,this.state.selectedCampaign.id).then((function(t){e.setState({exportUrlForCampaign:t.url})})).catch((function(e){console.log(e)}))}},{key:"showTemplatePreview",value:function(e){this.setState({previewEmailModalIsOpen:!0,campaignId:e})}},{key:"closeModal",value:function(){this.setState({previewEmailModalIsOpen:!1,campaignId:null})}},{key:"render",value:function(){var e=this,t=[{Header:"Date Sent",accessor:"date",colClassName:"col_username",className:"table-align-center",thClassName:"table-align-center"},{Header:"Template Name",accessor:"name",colClassName:"col_golfer-name-short",className:"table-align-center",thClassName:"table-align-center",sortable:!1,Cell:function(t){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"#donothing",className:"nav__link",onClick:function(s){s.preventDefault(),e.showTemplatePreview(t.original.id)},children:t.value})})}},{Header:"# Sent",accessor:"processed",colClassName:"col_status",className:"table-align-center",thClassName:"table-align-center",sortable:!1},{Header:"# Delivered",accessor:"delivered_count",colClassName:"col_centered_checkbox",className:"table-align-center",thClassName:"table-align-center",sortable:!1},{Header:"# Not Delivered",accessor:"error_count",colClassName:"col_date",className:"table-align-center",thClassName:"table-align-center",sortable:!1},{Header:Object(re.jsxs)(a.Fragment,{children:["Total Opens",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"total_opens",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"total_opens",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Total Opens "})," data was added on 08/18/2021. Historical data prior to this date is unavailable.",Object(re.jsx)("strong",{children:" N/A"})," will display in the ",Object(re.jsx)("strong",{children:"Total Opens"})," field for newsletters sent prior to 08/18/2021."]})]}),accessor:"total_opens",colClassName:"col_golfer-name-short",className:"table-align-center",thClassName:"table-align-center",sortable:!1},{Header:"# Unique Opens",accessor:"open_count",colClassName:"col_phone-number",className:"table-align-center",thClassName:"table-align-center",sortable:!1},{Header:"Open Rate",accessor:"unique_opens_percent",colClassName:"col_phone-number",className:"table-align-center",thClassName:"table-align-center",sortable:!1},{Header:"",sortable:!1,show:this.props.canEditAssociation,Cell:function(t){return Object(re.jsx)("td",{className:"col_delete",children:Object(re.jsx)("button",{className:"btn lnk",onClick:function(){return e.setState({selectedCampaign:null,filtered:[],campaignDetails:[],detailsLoading:!0},(function(){return e.setState({selectedCampaign:t.original},(function(){e.getExportUrlForCampaign()}))}))},children:"Details"})})}}],s=[{Header:"Date Sent",accessor:"date",colClassName:"col_username",className:"table-align-center",thClassName:"table-align-center"},{Header:"Template Name",accessor:"name",colClassName:"col_golfer-name-short",className:"table-align-center",thClassName:"table-align-center",Cell:function(t){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"#donothing",className:"nav__link",onClick:function(s){s.preventDefault(),e.showTemplatePreview(t.original.id)},children:t.value})})}},{Header:"# Sent",accessor:"processed",colClassName:"col_status",className:"table-align-center",thClassName:"table-align-center"},{Header:"# Delivered",accessor:"delivered_count",colClassName:"col_centered_checkbox",className:"table-align-center",thClassName:"table-align-center"},{Header:"# Not Delivered",accessor:"error_count",colClassName:"col_date",className:"table-align-center",thClassName:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Total Opens",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"total_opens",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"total_opens",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Total Opens "})," data was added on 08/18/2021. Historical data prior to this date is unavailable.",Object(re.jsx)("strong",{children:" N/A"})," will display in the ",Object(re.jsx)("strong",{children:"Total Opens"})," field for newsletters sent prior to 08/18/2021."]})]}),accessor:"total_opens",colClassName:"col_golfer-name-short",className:"table-align-center",thClassName:"table-align-center"},{Header:"# Unique Opens",accessor:"open_count",colClassName:"col_phone-number",className:"table-align-center",thClassName:"table-align-center"},{Header:"Open Rate",accessor:"unique_opens_percent",colClassName:"col_phone-number",className:"table-align-center",thClassName:"table-align-center"}],i=[{Header:"GHIN Number",accessor:"ghin_number"},{Header:"Email Address",accessor:"email",colClassName:"col_golfer-name"},{Header:"Date/Time Sent",accessor:"date_sent",colClassName:"col_golfer-name",Cell:function(e){return ue()(new Date(e.original.date_sent),"YYYY/MM/DD HH:mm:ss").format("MM/DD/YYYY HH:mm:ss")}},{Header:"Status",accessor:"status"},this.state.filtered.length>0&&this.state.filtered.filter((function(e){return"status"===e.id&&e.value})).length>0?{Header:"Date/Time Opened",accessor:"date_opened",colClassName:"col_golfer-name"}:{Header:"Error Message",accessor:"error",colClassName:"col_golfer-name"}],n=[{Header:Object(re.jsxs)(a.Fragment,{children:["Total Image Views",Object(re.jsx)("a",{"data-tip":!0,"data-for":"total_image_views",href:"#donothing",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"total_image_views",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Total Image Views "}),"data was added on 03/23/2022. Historical data prior to this date is unavailable.",Object(re.jsx)("strong",{children:" N/A"})," will display in the ",Object(re.jsx)("strong",{children:"Total Image Views"})," field for newsletters sent prior to 03/23/2022 and for newsletters without images."]})]}),accessor:"total_image_views",colClassName:"col_centered_checkbox",className:"table-align-center",thClassName:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Total Link Clicks",Object(re.jsx)("a",{"data-tip":!0,"data-for":"total_link_clicks",href:"#donothing",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"total_link_clicks",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Total Link Clicks"})," data was added on 03/23/2022. Historical data prior to this date is unavailable.",Object(re.jsx)("strong",{children:" N/A"})," will display in the ",Object(re.jsx)("strong",{children:"Total Link Clicks"})," field for newsletters sent prior to 03/23/2022."]})]}),accessor:"total_link_clicks",colClassName:"col_centered_checkbox",className:"table-align-center",thClassName:"table-align-center"},{Header:"Links",accessor:"link_clicks",colClassName:"col_golfer-name-short",className:"table-align-center-no-padding without_tooltip",thClassName:"table-align-center-no-padding",Cell:function(e){return null!==e.value&&e.value.length>0?Object(re.jsx)("table",{className:"data__table",children:Object(re.jsx)("tbody",{children:e.value.map((function(e){return Object(re.jsx)("tr",{children:Object(re.jsx)("td",{children:Object(re.jsx)(Kt,{id:e.link,data:e.link},Math.random().toString())})},Math.random().toString())}))})}):""}},{Header:"Link Clicks",accessor:"link_clicks",colClassName:"col_centered_checkbox",className:"table-align-center-no-padding",thClassName:"table-align-center-no-padding",Cell:function(e){return null!==e.value&&e.value.length>0?Object(re.jsx)("table",{className:"data__table",style:{border:"none"},children:Object(re.jsx)("tbody",{children:e.value.map((function(e){return Object(re.jsx)("tr",{children:Object(re.jsx)("td",{children:e.clicks})},Math.random().toString())}))})}):""}},{Header:"Clickthrough Rate",accessor:"link_clicks",colClassName:"col_centered_checkbox",className:"table-align-center-no-padding",thClassName:"table-align-center-no-padding",Cell:function(e){return null!==e.value&&e.value.length>0?Object(re.jsx)("table",{className:"data__table",style:{border:"none"},children:Object(re.jsx)("tbody",{children:e.value.map((function(e){return Object(re.jsx)("tr",{children:Object(re.jsxs)("td",{children:[e.clickthrough_rate,"%"]})},Math.random().toString())}))})}):""}}];return Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Sent Newsletters & Statistics"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row jc-c",children:[Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("p",{children:'Click the "Template Name" to view the email sent on that specific date.'}),Object(re.jsx)("p",{children:'Press the "Details" button to view more information about the selected email.'})]}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("a",{href:this.state.exportUrl,target:"_blank",rel:"noreferrer",className:"btn fill green small",children:"Export to Excel (Last 12 Months)"})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)($t,{idKey:"id",columns:t,hideSelect:!0,pages:this.state.campaign_pages,page:this.state.campaign_page,pageSize:this.state.campaign_per_page,onPageSizeChange:function(t,s){return e.setState({campaign_per_page:t,campaign_pages:s,campaign_page:0},(function(){return e.loadCampaigns()}))},loading:this.state.campaignsLoading,total:this.state.campaign_total,manual:!0,sortable:!0,data:this.state.campaigns,onPageChange:function(t){return e.setState({campaign_page:t},(function(){return e.loadCampaigns()}))},sorted:this.state.campaign_sorted,onSortedChange:function(t,s,a){e.setState({campaign_sorted:t,page:0},(function(){e.loadCampaigns()}))}})})}),this.state.selectedCampaign&&Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:Object(re.jsx)("span",{className:"gray italic",children:this.state.selectedCampaign.name})}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",style:{margin:0},children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("a",{href:this.state.exportUrlForCampaign,target:"_blank",rel:"noreferrer",className:"btn fill green small",children:"Export to Excel"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Overall Statistics"})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)($t,{idKey:"id",columns:s,hideSelect:!0,data:[this.state.selectedCampaign],ref:function(t){return e.table=t},sortable:!1,hidePagination:!0})})}),Object(re.jsx)("div",{className:"row jc-c",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Image & Link Impressions"})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)($t,{idKey:"id",columns:n,hideSelect:!0,data:[this.state.selectedCampaign],ref:function(t){return e.table=t},sortable:!1,hidePagination:!0})})}),Object(re.jsx)("div",{className:"form__separator padding-16-y"}),Object(re.jsx)("div",{className:"row jc-c",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Golfer Search"})})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(po,{updateFiltered:this.updateFilter.bind(this),hideFilters:!1})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)($t,{idKey:"id",columns:i,loading:this.state.detailsLoading,hideSelect:!0,manual:!0,data:this.state.campaignDetails,total:this.state.total,pages:this.state.pages,page:this.state.page,pageSize:this.state.per_page,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.loadDetails()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.loadDetails()}))},defaultSorted:[{id:"SeasonName",desc:!1}],sortable:!0,sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t,page:0},(function(){return e.loadDetails()}))}})})})]})]})})})})]})]})}),this.state.previewEmailModalIsOpen&&Object(re.jsx)(zn,{campaignId:this.state.campaignId,associationId:this.props.associationId,closeModal:function(){e.closeModal()}})]})}}]),s}(a.Component),bo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editImageInformationModalIsOpen:!1,editContentBlockModalIsOpen:!1,editSetupModalIsOpen:!1,editSalutationModalIsOpen:!1,editHeaderAndFooterModalIsOpen:!1,previewEmailModalIsOpen:!1,addContentBlockModalIsOpen:!1,editContentBlockTitleModalIsOpen:!1,confirmEmailDelete:!1,confirmEmailPictureDelete:!1,email_contents:[],original_email_contents:[],previewGolfer:null,email_settings:null,contentEditBn:!1},a.openEditImageInformationModal=a.openEditImageInformationModal.bind(Object(b.a)(a)),a.openEditContentBlockModal=a.openEditContentBlockModal.bind(Object(b.a)(a)),a.openEditSetupModal=a.openEditSetupModal.bind(Object(b.a)(a)),a.openEditSalutationModal=a.openEditSalutationModal.bind(Object(b.a)(a)),a.openHeaderAndFooterModal=a.openHeaderAndFooterModal.bind(Object(b.a)(a)),a.openEmailPreviewModal=a.openEmailPreviewModal.bind(Object(b.a)(a)),a.openAddContentBlockModal=a.openAddContentBlockModal.bind(Object(b.a)(a)),a.openEditContentBlockTitleModal=a.openEditContentBlockTitleModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditImageInformationModal",value:function(e){this.setState({editImageInformationModalIsOpen:e})}},{key:"openEditContentBlockModal",value:function(e){this.state.editContentBlockModalIsOpen===e?this.setState({editContentBlockModalIsOpen:!1}):this.setState({editContentBlockModalIsOpen:e})}},{key:"openEditSetupModal",value:function(){this.setState({editSetupModalIsOpen:!0})}},{key:"openEditSalutationModal",value:function(){this.setState({editSalutationModalIsOpen:!0})}},{key:"openHeaderAndFooterModal",value:function(){this.setState({editHeaderAndFooterModalIsOpen:!0})}},{key:"openEmailPreviewModal",value:function(){this.setState({previewEmailModalIsOpen:!0})}},{key:"openAddContentBlockModal",value:function(){this.setState({addContentBlockModalIsOpen:!0})}},{key:"openEditContentBlockTitleModal",value:function(e){this.setState({editContentBlockTitleModalIsOpen:e})}},{key:"closeModal",value:function(e){var t=this;e?this.setState({editImageInformationModalIsOpen:!1,editContentBlockModalIsOpen:!1,editSetupModalIsOpen:!1,editSalutationModalIsOpen:!1,editHeaderAndFooterModalIsOpen:!1,previewEmailModalIsOpen:!1,addContentBlockModalIsOpen:!1,editContentBlockTitleModalIsOpen:!1,email_settings:e||this.state.email_settings,contentEditBn:!1},(function(){return t.saveEmail(e)})):this.setState({editImageInformationModalIsOpen:!1,editContentBlockModalIsOpen:!1,editSetupModalIsOpen:!1,editSalutationModalIsOpen:!1,editHeaderAndFooterModalIsOpen:!1,previewEmailModalIsOpen:!1,addContentBlockModalIsOpen:!1,editContentBlockTitleModalIsOpen:!1,contentEditBn:!1})}},{key:"getUpdatedStateForEntry",value:function(e,t,s){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i={};return i.email_contents=a?a.email_contents.slice(0):this.state.email_contents.slice(0),i.email_contents[e]=Object(j.a)(Object(j.a)({},i.email_contents[e]),{},Object(Et.a)({},t,s)),i}},{key:"closeContentModal",value:function(e){var t=this,s={editContentBlockModalIsOpen:!1};s=Object(j.a)(Object(j.a)({},s),this.getUpdatedStateForEntry(this.state.editContentBlockModalIsOpen,"block",e)),this.setState(s,(function(){t.saveAll()}))}},{key:"updateEmailSettings",value:function(e){this.setState({email_settings:e})}},{key:"saveEmail",value:function(e){var t=this,s=Object(j.a)({},e);return delete s.preview,e.id?rs.updateEmailContent(this.props.associationId,s).then((function(e){t.loadEmails(),t.loadEmailSettings()})):rs.createEmailContent(this.props.associationId,s).then((function(e){return t.loadEmails()})).catch((function(e){console.error(e),t.setState({email_contents:t.state.original_email_contents})}))}},{key:"saveAll",value:function(){var e=this;return Promise.all(this.state.email_contents.filter((function(t){if(!t.id)return!0;var s=e.state.original_email_contents.find((function(e){return e.id===t.id}));if(!s)return!0;var a=Ei()(s,t);return Object.keys(a).length>0})).map((function(t){return e.saveEmail(t)}))).then((function(){e.loadEmails()}))}},{key:"loadEmails",value:function(){var e=this;rs.getEmailContents(this.props.associationId).then((function(t){var s=t.email_contents.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{preview:e.image_url})}));e.setState({email_contents:s.slice(0),original_email_contents:s.slice(0)})})).catch((function(e){console.error(e)}))}},{key:"loadEmailSettings",value:function(){var e=this;rs.getEmailSettings(this.props.associationId).then((function(t){e.setState({email_settings:t.email_settings})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.loadEmails(),this.loadEmailSettings()}},{key:"addNewEmail",value:function(e){var t=this;this.setState({email_contents:[].concat(Object(We.a)(this.state.email_contents),[{block:"",block_name:e.name}])},(function(){t.saveAll()}))}},{key:"fileToUrl",value:function(e){return new Promise((function(t,s){var a=new FileReader;a.onload=function(e){t(e.target.result)},a.readAsDataURL(e)}))}},{key:"realImgDimension",value:function(e){return new Promise((function(t,s){var a=new Image;a.src=e,a.onload=function(){t({width:this.width,height:this.height})}}))}},{key:"setEmailFile",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t,s){var a,i,n=this;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.fileToUrl(s);case 2:a=e.sent,i=Object(j.a)({},this.getUpdatedStateForEntry(t,"image",s,this.state)),i=Object(j.a)(Object(j.a)({},i),this.getUpdatedStateForEntry(t,"preview",a,i)),this.setState(i,(function(){n.saveAll()}));case 6:case"end":return e.stop()}}),e,this)})));return function(t,s){return e.apply(this,arguments)}}()},{key:"clearEmailFile",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s,a=this;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s=Object(j.a)({},this.getUpdatedStateForEntry(t,"delete_image",!0,this.state)),s=Object(j.a)(Object(j.a)(Object(j.a)({},s),this.getUpdatedStateForEntry(t,"preview",null,s)),{},{confirmEmailPictureDelete:!1}),this.setState(s,(function(){a.saveAll()}));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteEmail",value:function(e){var t=this;this.setState({confirmEmailDelete:!1}),rs.deleteEmailContent(this.props.associationId,this.state.email_contents[e]).then((function(e){t.setState({confirmEmailDelete:!1},(function(){t.loadEmails()}))}))}},{key:"closeImageModal",value:function(e){var t=this,s={editImageInformationModalIsOpen:!1};e&&(s=Object(j.a)(Object(j.a)({},s),this.getUpdatedStateForEntry(this.state.editImageInformationModalIsOpen,"alt_text",e.alt_text))),this.setState(s,(function(){t.saveAll()}))}},{key:"onContentEditBtn",value:function(){this.setState({contentEditBn:!this.state.contentEditBn})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[this.state.email_settings&&Object(re.jsx)(ao,{emailSettings:this.state.email_settings,readOnly:!this.props.canEditAssociation,assocOpenEditSetupModal:this.openEditSetupModal}),this.state.email_settings&&Object(re.jsx)(so,{canEditAssociation:this.props.canEditAssociation,emailSettings:this.state.email_settings,updateEmailSettings:function(t){return e.updateEmailSettings(t)},associationId:this.props.associationId}),this.state.email_settings&&Object(re.jsx)(io,{emailSettings:this.state.email_settings,readOnly:!this.props.canEditAssociation,assocOpenHeaderAndFooterModal:this.openHeaderAndFooterModal}),this.state.email_settings?Object(re.jsx)(Xn,{associationId:this.props.associationId,emailSettings:this.state.email_settings,readOnly:!this.props.canEditAssociation,assocOpenEditSalutationModal:this.openEditSalutationModal}):null,Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Newsletter Content"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("h5",{className:"upload__title",children:"Content and images will appear in the newsletter in the order they are displayed below."}),Object(re.jsx)("div",{className:"columns",children:this.state.email_contents.map((function(t,s){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:[t.block_name?t.block_name:"Nameless block","\xa0\xa0",e.props.canEditAssociation&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.openEditContentBlockTitleModal(s+1)},children:"Edit"}),Object(re.jsx)("div",{className:"panel__end",children:Object(re.jsx)("button",{className:"btn lnk red",onClick:function(){return e.setState({confirmEmailDelete:s})},children:"Delete"})})]})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"upload__item",children:t.preview?Object(re.jsxs)(i.a.Fragment,{children:[Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("img",{src:t.preview,alt:"",name:"",style:{width:"100%"}})}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fs",children:Object(re.jsxs)("div",{className:"upload_item",children:[Object(re.jsx)("h6",{className:"upload__label",children:"Image Url:"}),Object(re.jsx)("a",{className:"upload__url",href:t.image_url,children:t.image_url}),Object(re.jsx)("h6",{className:"upload__label",children:"Alt Text:"}),Object(re.jsx)("span",{className:"upload__info",children:t.alt_text}),Object(re.jsx)("h6",{className:"upload__label",children:"Redirect URL:"}),Object(re.jsx)("span",{className:"upload__info",children:t.ad_image_url})]})})]})}),Object(re.jsxs)("div",{className:"upload__controls list",children:[Object(re.jsx)("button",{onClick:function(){return e.openEditImageInformationModal(s)},className:"btn lnk",children:"Edit"}),Object(re.jsx)("button",{onClick:function(){return e.setState({confirmEmailPictureDelete:s})},className:"btn fill gray",children:Object(re.jsx)("i",{className:"material-icons-outlined no-margin",children:"clear"})})]})]}):Object(re.jsx)(i.a.Fragment,{children:e.props.canEditAssociation&&Object(re.jsxs)(i.a.Fragment,{children:[Object(re.jsx)("div",{className:"upload__zone",children:Object(re.jsx)(Oa.a,{accept:["image/png","image/jpg","image/jpeg"],onDrop:function(t){return t.length>0&&e.setEmailFile(s,t[0])},multiple:!1,children:function(e){var t=e.getRootProps,s=e.getInputProps;return Object(re.jsxs)("div",Object(j.a)(Object(j.a)({className:"dropzone"},t()),{},{children:[Object(re.jsx)("input",Object(j.a)({},s())),Object(re.jsx)("i",{className:"material-icons-outlined",children:"cloud_upload"}),Object(re.jsx)("p",{children:"Drag & Drop file here to upload"}),Object(re.jsx)("p",{children:"or"}),Object(re.jsx)("button",{className:"btn fill green",children:"Choose from computer"})]}))}})}),Object(re.jsx)("div",{className:"upload__details",children:Object(re.jsx)("ul",{className:"upload__requirements",children:Object(re.jsx)("li",{children:"Required Format = PNG, JPG"})})})]})})}),Object(re.jsx)("div",{className:"separator dark"}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h4",{className:"section_title",children:"Content Block"})}),e.props.canEditAssociation&&Object(re.jsx)("div",{className:"col auto push-right jc-c",children:Object(re.jsx)("button",{onClick:function(){return e.openEditContentBlockModal(s)},className:"btn lnk",children:"Edit"})})]}),!1!==e.state.editContentBlockModalIsOpen&&e.state.editContentBlockModalIsOpen===s?Object(re.jsx)(Zn,{closeModal:e.closeContentModal.bind(e),content:e.state.email_contents[e.state.editContentBlockModalIsOpen].block||""}):Object(re.jsxs)(i.a.Fragment,{children:[Object(re.jsx)("div",{className:"separator light"}),Object(re.jsx)("div",{className:"content_preview",dangerouslySetInnerHTML:{__html:t.block}})]})]})]})})},s)}))}),this.props.canEditAssociation&&Object(re.jsx)("div",{className:"row margin-top-16",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.openAddContentBlockModal()},children:"Add New Content Area"})})})]})]}),this.state.email_contents.length>0&&Object(re.jsx)(ro,{canEditAssociation:this.props.canEditAssociation,loadEmails:function(){return e.loadEmails()},associationId:this.props.associationId,email_contents:this.state.email_contents}),Object(re.jsx)(lo,{ghinPreviewGolfer:function(t){e.setState({previewGolfer:t.target.value})},associationId:this.props.associationId,addAlert:function(t){return e.props.addAlert(t)},openEmailPreviewModal:this.openEmailPreviewModal}),Object(re.jsx)(mo,{associationId:this.props.associationId})]})}),Object(re.jsx)(et.a,{isOpen:!1!==this.state.editImageInformationModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:!1!==this.state.editImageInformationModalIsOpen&&Object(re.jsx)(ya,{closeModal:function(t){e.closeModal(t)},email:this.state.email_contents[this.state.editImageInformationModalIsOpen]})}),this.state.editSetupModalIsOpen&&Object(re.jsx)(Mn,{associationId:this.props.associationId,emailSettings:this.state.email_settings,closeModal:function(t){e.closeModal(t)}}),this.state.editHeaderAndFooterModalIsOpen&&Object(re.jsx)(Tn,{associationId:this.props.associationId,emailSettings:this.state.email_settings,closeModal:function(t){e.closeModal(t)}}),this.state.editSalutationModalIsOpen&&Object(re.jsx)(Un,{associationId:this.props.associationId,emailSettings:this.state.email_settings,closeModal:function(t){e.closeModal(t)}}),this.state.addContentBlockModalIsOpen&&Object(re.jsx)(Vn,{onSubmit:function(t){e.addNewEmail(t)},closeModal:function(t){e.closeModal(t)}}),this.state.editContentBlockTitleModalIsOpen&&Object(re.jsx)(Jn,{email:this.state.email_contents[this.state.editContentBlockTitleModalIsOpen-1],closeModal:function(t){e.closeModal(t)}}),this.state.previewEmailModalIsOpen&&Object(re.jsx)(zn,{golferId:this.state.previewGolfer,associationId:this.props.associationId,closeModal:function(){e.closeModal()}}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this entry?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmEmailDelete:!1})},onConfirmAction:function(){return e.deleteEmail(e.state.confirmEmailDelete)},openModal:!1!==this.state.confirmEmailDelete,closeModal:function(){return e.setState({confirmEmailDelete:!1})}}),Object(re.jsx)(ca,{question:"Are you sure you want to delete this picture?",confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmEmailPictureDelete:!1})},closeModal:function(){return e.setState({confirmEmailPictureDelete:!1})},onConfirmAction:function(){e.clearEmailFile(e.state.confirmEmailPictureDelete),e.setState({confirmEmailPictureDelete:!1})},openModal:!1!==this.state.confirmEmailPictureDelete})]})}}]),s}(a.Component);var jo=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(bo),fo=s(506),Oo=[{value:"initial",label:"Initial (New Billing Cycle)"},{value:"incremental",label:"Incremental"}],go=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){a.setState({filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))})},a.state={filters:{initial:null,last:[],current:null},club_billing_report_logs:[],advanced_options_open:!1,association_timezone:null,include_invoice_number:null,type:null,error:null},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.getBillingReportActivity(),this.getAdvancedBillingOptions(),this.interval=setInterval((function(){e.getBillingReportActivity()}),3e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.interval)}},{key:"getAdvancedBillingOptions",value:function(){var e=this;rs.getPrimary(this.props.associationId).then((function(t){e.setState({initial_association_timezone:"utc"!==t.club_billing_advanced.billing_timezone_format,association_timezone:"utc"!==t.club_billing_advanced.billing_timezone_format,initial_include_invoice_number:t.club_billing_advanced.include_invoice_number,include_invoice_number:t.club_billing_advanced.include_invoice_number})})).catch((function(e){console.log(e)}))}},{key:"getBillingReportActivity",value:function(){var e=this;rs.getClubBillingReportLogs(this.props.associationId).then((function(t){e.setState({club_billing_report_logs:t.club_billing_report_logs.map((function(e){return Object(j.a)(Object(j.a)({},e),{report_type:e.report_type.charAt(0).toUpperCase()+e.report_type.slice(1),export_date_time:e.export_date_time&&ue()(e.export_date_time).format("MM/DD/YYYY HH:mm:ss"),initial_billing_revision_date:e.initial_billing_revision_date&&ue()(e.initial_billing_revision_date).format("MM/DD/YYYY"),last_billing_revision_date:e.last_billing_revision_date&&ue()(e.last_billing_revision_date).format("MM/DD/YYYY"),current_billing_revision_date:e.current_billing_revision_date&&ue()(e.current_billing_revision_date).format("MM/DD/YYYY")})}))})})).catch((function(e){console.log(e)}))}},{key:"onSubmit",value:function(){var e=this,t={initial:this.state.filters.initial&&ue()(this.state.filters.initial).format("MM-DD-YYYY"),last:this.state.filters.last.map((function(e){return ue()(e.value,"MM/DD/YYYY").format("MM-DD-YYYY")})),current:this.state.filters.current&&ue()(this.state.filters.current).format("MM-DD-YYYY")},s={billing_timezone_format:this.state.association_timezone?"association timezone":"utc",include_invoice_number:this.state.include_invoice_number};rs.getClubBillingReportRun(this.props.associationId,this.state.type,t,s).then((function(t){"Ok"===t.message&&e.setState({error:null,filters:{initial:null,last:[],current:null},initial_association_timezone:e.state.association_timezone,initial_include_invoice_number:e.state.include_invoice_number},(function(){return e.getBillingReportActivity()}))})).catch((function(t){t.data.errors&&t.data.errors.billing_revision_date&&e.setState({error:t.data.errors.billing_revision_date[0]})}))}},{key:"handleChange",value:function(e){this.setState({type:e.value,filters:{initial:null,last:[],current:null}})}},{key:"setBillingDate",value:function(e){var t;if(!((null===(t=e.currentTarget.value)||void 0===t?void 0:t.length)<8)){var s=new Date(e.currentTarget.value),a=new Date;("Invalid Date"===s.toString()||s>a)&&(e.currentTarget.value=ue()(a.value).format("MM/DD/YYYY"))}}},{key:"render",value:function(){var e=this,t=[{Header:"Export Date/Time",accessor:"export_date_time",sortable:!0,colClassName:"col-export-date"},{Header:"Billing Cycle",sortable:!0,accessor:"report_type",colClassName:"col-billing-cycle"},{Header:"User",accessor:"user_name",sortable:!0,colClassName:"col-report-user_name"},{Header:"Initial Billing Date",sortable:!0,accessor:"initial_billing_revision_date",colClassName:"col-billing-date"},{Header:"Last Billing Date",sortable:!0,accessor:"last_billing_revision_date",colClassName:"col-billing-date"},{Header:"Current Billing Date",sortable:!0,accessor:"current_billing_revision_date",colClassName:"col-billing-date"},{accessor:"url",colClassName:"col_actions_centered",Cell:function(e){return"ready"===e.original.status?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:e.original.url,target:"_blank",rel:"noreferrer",className:"btn lnk",children:"Download"})}):Object(re.jsx)("span",{className:"gray bold",children:"In Progress"})}}],s=Object(We.a)(new Set(this.state.club_billing_report_logs.map((function(e){return e.initial_billing_revision_date})))).filter((function(e){return e})),n=Object(We.a)(new Set(this.state.club_billing_report_logs.map((function(e){return e.current_billing_revision_date})))).filter((function(e){return e})),o=Object(We.a)(new Set([].concat(Object(We.a)(s),Object(We.a)(n)))).filter((function(e){return ue()(e)<ue()()})),r=s.sort((function(e,t){return ue()(t,"MM/DD/YYYY")._d-ue()(e,"MM/DD/YYYY")._d})).map((function(e){return{label:e,value:e}})),c=o.sort((function(e,t){return ue()(t,"MM/DD/YYYY")._d-ue()(e,"MM/DD/YYYY")._d})).map((function(e){return{label:e,value:e}})).filter((function(t){return ue()(t.value,"MM/DD/YYYY").isSameOrAfter(ue()(e.state.filters.initial,"MM/DD/YYYY"))}));return Object(re.jsxs)(a.Fragment,{children:[this.props.canEditAssociation&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Club Billing"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{className:"gray",children:Object(re.jsx)("i",{children:"Use the club billing export to generate a recommended count of active golfers for billing. For initial billing, select the start date of your fiscal year. For incremental billing, specify the start date of your fiscal year, all dates in which you previously billed this year, and the date through which you want to bill. When generating a list of billable golfers for incremental billing, all golfers who were active on a previous bill date will be excluded for the remainder of that billing year."})})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Billing Cycle"}),Object(re.jsx)(gt.a,{className:"react-select-container",classNamePrefix:"react-select",options:Oo,onChange:this.handleChange})]}),this.state.type&&"initial"===this.state.type&&Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Initial Billing Date"}),Object(re.jsx)(is.a,{selected:this.state.filters.initial?this.state.filters.initial:null,className:"date",dropdownMode:"select",dateFormat:"MM/dd/yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,defaultSorted:[{id:"export_date_time",desc:!1}],onChange:function(t){t?e.updateFilter("initial",t):e.updateFilter("initial",null)},onChangeRaw:function(t){return e.setBillingDate(t)},onKeyDown:function(e){ns(e)}}),Object(re.jsx)("p",{className:"sub-input__info",children:"Annual Billing Start Date"})]}),this.state.type&&"incremental"===this.state.type&&Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Initial Billing Date"}),Object(re.jsx)(gt.a,{className:"react-select-container",value:this.state.filters.initial?r.filter((function(t){return t.value===e.state.filters.initial})):null,classNamePrefix:"react-select",options:r,onChange:function(t){return e.updateFilter("initial",t.value)}}),Object(re.jsx)("p",{className:"sub-input__info",children:"Annual Billing Start Date"})]}),"incremental"===this.state.type&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Previous Billing Dates"}),Object(re.jsx)(zs.Picky,{options:c,value:this.state.filters.last||[],multiple:!0,includeSelectAll:!0,includeFilter:!1,onChange:function(t){return e.updateFilter("last",t)},dropdownHeight:600,disabled:!this.state.filters.initial,valueKey:"value",labelKey:"label",placeholder:"Select..."}),Object(re.jsxs)("p",{className:"sub-input__info",children:["Active golfers from these previously billed dates will be excluded from the current billing report. ",this.state.filters.last&&this.state.filters.last.length>3?Object(re.jsxs)(i.a.Fragment,{children:[Object(re.jsx)("br",{}),Object(re.jsx)("br",{}),"Selected Dates: ",this.state.filters.last.map((function(e){return e.value})).join(", ")]}):null]})]}),Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Current Billing Date"}),Object(re.jsx)(is.a,{selected:this.state.filters.current?this.state.filters.current:null,className:"date",dropdownMode:"select",dateFormat:"MM/dd/yyyy",maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,onChange:function(t){t?e.updateFilter("current",t):e.updateFilter("current",null)},onChangeRaw:function(t){return e.setBillingDate(t)},onKeyDown:function(e){ns(e)}}),Object(re.jsx)("p",{className:"sub-input__info",children:"Active Golfers as of this date"})]})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-10",children:Object(re.jsxs)("label",{style:{cursor:"pointer"},onClick:function(){return e.setState({advanced_options_open:!e.state.advanced_options_open})},children:["Advanced",Object(re.jsx)("span",{className:"material-icons-outlined collapse-arrow",children:this.state.advanced_options_open?"expand_less":"expand_more"})]})})}),Object(re.jsx)(fo.Collapse,{isOpened:this.state.advanced_options_open,children:Object(re.jsxs)("div",{className:"col collapse-block",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{className:"label",children:"Timezone"}),Object(re.jsx)("div",{className:"radio__container",children:null!==this.state.association_timezone&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("input",{onClick:function(){e.setState({association_timezone:!1})},defaultChecked:!this.state.association_timezone,id:"utc",value:!1,name:"timezone",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"utc",children:"UTC"}),Object(re.jsx)("input",{onClick:function(){e.setState({association_timezone:!0})},defaultChecked:this.state.association_timezone,id:"association_timezone",value:!1,name:"timezone",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"association_timezone",children:"Association Timezone"})]})})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{className:"label",children:"Include Invoice Number?"}),Object(re.jsx)("div",{className:"radio__container",children:null!==this.state.include_invoice_number&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("input",{onClick:function(){e.setState({include_invoice_number:!0})},defaultChecked:this.state.include_invoice_number,id:"include_invoice",value:!1,name:"include_invoice_number",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"include_invoice",children:"Yes"}),Object(re.jsx)("input",{onClick:function(){e.setState({include_invoice_number:!1})},defaultChecked:!this.state.include_invoice_number,id:"not_include_invoice",value:!1,name:"include_invoice_number",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"not_include_invoice",children:"No"})]})})]})})]})}),Object(re.jsxs)("div",{className:"row",children:[this.state.error&&Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error})}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{style:{marginTop:"15px"},className:"btn fill green",disabled:!this.state.type||("initial"===this.state.type?!this.state.filters.initial:!this.state.filters.initial||!this.state.filters.current||!this.state.filters.last),onClick:function(){return e.onSubmit()},children:this.state.initial_association_timezone!==this.state.association_timezone||this.state.initial_include_invoice_number!==this.state.include_invoice_number?"Save and Run":"Run"})})]})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Billing Report Activity Log"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:"The activity log shows a snapshot of previous report activities for your association"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)($t,{idKey:"id",pageSize:this.state.club_billing_report_logs.length,hidePagination:!0,columns:t,hideSelect:!0,data:this.state.club_billing_report_logs,defaultSorted:[{id:"export",desc:!1}],sortable:!0})})})]})]})})})]})}}]),s}(a.Component),_o=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).updateFilter=function(t,s){e.setState({filters:Object(j.a)(Object(j.a)({},e.state.filters),{},Object(Et.a)({},t,s))},(function(){e.updateTable()}))},e.updateTable=ho()((function(){var t=qs.filtersToArray(e.state.filters);e.props.updateFiltered(t)}),200),e.state={filters:{golfer_id:"",email:"",is_sent:{label:"Delivered",value:!0}}},e.updateFilter=e.updateFilter.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.updateTable()}},{key:"reset",value:function(){var e=this;this.setState({filters:{golfer_id:"",email:"",is_sent:{label:"Delivered",value:!0}}},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return this.props.hideFilters?null:Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"golfer_id ",children:"GHIN #"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.golfer_id,name:"golfer_id",id:"golfer_id",onChange:function(t){e.updateFilter("golfer_id",t.target.value)}})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"email",children:"Email Address"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.email,name:"email",id:"email",onChange:function(t){e.updateFilter("email",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-3",children:Object(re.jsx)(Bs,{options:[{label:"Delivered",value:!0},{label:"Opened",value:"open"},{label:"Clicked",value:"click"},{label:"Not Delivered",value:!1}],value:this.state.filters.is_sent,hideSelectAllOption:!0,singleChoice:!0,onChange:function(t){return e.updateFilter("is_sent",t)},label:"Status"})})]})})})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),vo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={supportedAssociations:["132"],digitalProfileEmails:[],loadingDigitalProfileEmails:!0,page:1,per_page:25,total:0,pages:0,filtered:[]},a}return Object(c.a)(s,[{key:"sendEmails",value:function(){var e=this;rs.digitalProfilesInvitation(this.props.associationId).then((function(t){e.props.addAlert({type:"success",message:"Invitation emails have been successfully sent to golfers."})})).catch((function(e){console.error(e)}))}},{key:"getDigitalProfileEmails",value:function(){var e=this;this.setState({loadingDigitalProfileEmails:!0});var t=Object(j.a)({},qs.filtersArrayToParams(this.state.filtered));switch(t.is_sent){case"open":t.status="open",t.is_sent=!0;break;case"click":t.status="click",t.is_sent=!0;break;default:t.status=null}rs.getDigitalProfileEmails(this.state.page,this.state.per_page,this.props.associationId,t).then((function(t){e.setState({digitalProfileEmails:t.digital_profile_emails,loadingDigitalProfileEmails:!1,total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(t){e.setState({loadingDigitalProfileEmails:!1}),console.error(t)}))}},{key:"getPage",value:function(){this.setState({loadingDigitalProfileEmails:!0}),this.getDigitalProfileEmails()}},{key:"componentDidMount",value:function(){this.getDigitalProfileEmails()}},{key:"updateFilter",value:function(e){this.setState({filtered:e,page:1}),this.getPage()}},{key:"render",value:function(){var e=this,t=[{Header:"GHIN Number",accessor:"ghin_number"},{Header:"Email Address",accessor:"email"},{Header:"Date/Time Sent",accessor:"date_sent",Cell:function(e){return ue()(new Date(e.original.date_sent),"YYYY/MM/DD HH:mm:ss").format("MM/DD/YYYY HH:mm:ss")}},{Header:"Email Type",accessor:"template_type"},{Header:"Status",accessor:"status"},{Header:"Error Message",accessor:"error_message"}];return Object(re.jsxs)(a.Fragment,{children:[this.props.super_user&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Digital Profiles"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{children:"Send an invitation email to create a Digital Profile to all active golfers in this Association who have not yet created a Digital Profile."})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){return e.setState({emailConfirmModalIsOpen:!0})},children:"Send Emails"})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Digital Profile Emails"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(_o,{updateFiltered:this.updateFilter.bind(this),hideFilters:!1})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(re.jsx)("span",{className:"red",children:"Please note, there may be a slight delay in updating the table."}),Object(re.jsx)("i",{className:"material-icons-outlined",style:{cursor:"pointer"},onClick:function(){e.getDigitalProfileEmails()},children:"refresh"})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)($t,{loading:this.state.loadingDigitalProfileEmails,columns:t,data:this.state.digitalProfileEmails,ref:function(t){return e.table=t},hideSlelectAll:!0,hideSelect:!0,sortable:!1,defaultPageSize:this.state.per_page,pageSize:this.state.per_page,pages:this.state.pages,total:this.state.total,manual:!0,onPageChange:function(t){return e.setState({page:t+1},(function(){return e.getPage()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s+1},(function(){return e.getPage()}))}})})})]})]})})}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.emailConfirmModalIsOpen,onConfirmAction:function(){e.setState({emailConfirmModalIsOpen:!1}),e.sendEmails()},onCancelAction:function(){e.setState({emailConfirmModalIsOpen:!1})},closeModal:function(){e.setState({emailConfirmModalIsOpen:!1})},question:"Are you sure you want to send the Digital Profile invitation emails?",cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"})]})}}]),s}(a.Component);var xo=Object(p.c)((function(e){return{super_user:e.user.access.super_user}}),(function(e){var t=Object(v.b)({updateAssociation:Ui,addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(vo),yo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={supportedAssociations:["132"]},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"vertical-tabs__container row",children:[Object(re.jsxs)("ul",{className:"vertical-tabs col",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/primary"),children:"Primary"})}),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/account-setup"),children:"Account Setup"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/golfer-products"),children:"Golfer Products"})})]}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/manage-users"),children:"Manage Users"})}),this.props.association.newsletter_enabled&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/newsletter_setup"),children:"Newsletter Setup"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/club-billing-report"),children:"Club Billing Report"})}),("super-admin"===this.props.userType||"association-admin"===this.props.userType||"association-read-only"===this.props.userType)&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/digital-profiles"),children:"Digital Profiles"})})]}),Object(re.jsx)("div",{className:"vertical-tabs__panel col",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/primary")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/primary"),component:function(t){return Object(re.jsx)(Yi,{canEditAssociation:e.props.canEditAssociation,associationId:e.props.associationId})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/account-setup"),component:function(){return Object(re.jsx)(an,{canEditAssociation:e.props.canEditAssociation,association:e.props.association,updateAssociation:function(){return e.props.update()},associationId:e.props.associationId})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/golfer-products"),component:function(){return Object(re.jsx)(mn,{canEditAssociation:e.props.canEditAssociation,associationId:e.props.associationId})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/manage-users"),component:function(t){return Object(re.jsx)(Sn,Object(j.a)(Object(j.a)({},t),{},{canEditAssociation:e.props.canEditAssociation,associationId:e.props.associationId}))}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/newsletter_setup"),component:function(t){return Object(re.jsx)(jo,Object(j.a)(Object(j.a)({},t),{},{canEditAssociation:e.props.canEditAssociation,associationId:e.props.associationId}))}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/club-billing-report"),component:function(t){return Object(re.jsx)(go,Object(j.a)(Object(j.a)({},t),{},{canEditAssociation:e.props.canEditAssociation,associationId:e.props.associationId}))}}),("super-admin"===this.props.userType||"association-admin"===this.props.userType||"association-read-only"===this.props.userType)&&Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/digital-profiles"),component:function(t){return Object(re.jsx)(xo,Object(j.a)(Object(j.a)({},t),{},{associationId:e.props.associationId}))}})]})})]})})}}]),s}(a.Component);var No=Object(v.d)(u.o,Object(p.c)((function(e){return{userType:e.user.access.user_type}})))(yo),So=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={page:0,pages:0,total:0,per_page:10,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getLogs()}},{key:"getRequestParams",value:function(){return{page:this.state.page+1,per_page:this.state.per_page}}},{key:"getLogs",value:function(){var e=this;this.setState({loading:!0,logs:[]});var t=this.getRequestParams();rs.getLogs(this.props.match.params.id,t).then((function(t){e.setState({loading:!1,logs:t.association_changes.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:t,date_and_time:e.date_and_time&&ue()(ue.a.utc(e.date_and_time).toDate()).format("MM/DD/YYYY HH:mm:ss"),change_code:e.change_code,new:e.details.length>0&&e.details.map((function(e){return e[0]})),old:e.details.length>0&&e.details.filter((function(e){return 2===e.length})).map((function(e){return e[1]})),username:e.username})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Date & Time",accessor:"date_and_time",colClassName:"col_date_and_time"},{Header:"Change Code",accessor:"change_code",colClassName:"col_change_code"},{Header:"New",accessor:"new",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.new.length>0&&e.row.new.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Old",accessor:"old",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.old.length>0&&e.row.old.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Username",accessor:"username",colClassName:"col_username"}];return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.logs,hideSelect:!0,sortable:!1,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.getLogs()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.getLogs()}))}})})}}]),s}(a.Component),Co=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1,association:null},a.openGolferAddModal=a.openGolferAddModal.bind(Object(b.a)(a)),a.openClubAddModal=a.openClubAddModal.bind(Object(b.a)(a)),a.openAssocAddModal=a.openAssocAddModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openGolferAddModal",value:function(){this.setState({AddGolferModalIsOpen:!0})}},{key:"openClubAddModal",value:function(){this.setState({AddClubModalIsOpen:!0})}},{key:"openAssocAddModal",value:function(){this.setState({AddAssocModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&"golfer"===e.type&&this.props.history.push("/manage/association/".concat(e.golfer.association_id,"/club/").concat(e.golfer.club_id,"/golfer/").concat(e.golfer.id)),e&&"club"===e.type&&this.props.history.push("/manage/association/".concat(e.club.club.golf_association_id,"/club/").concat(e.club.lub.id,"/account")),this.setState({AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1})}},{key:"getAssociation",value:function(){var e=this;rs.getAssociation(this.props.match.params.id).then((function(t){e.setState({association:t}),e.props.updateAssociation({profile:Object(j.a)({},t)})}))}},{key:"componentDidUpdate",value:function(e,t,s){this.props.match.params.id!==e.match.params.id&&this.getAssociation()}},{key:"componentDidMount",value:function(){this.getAssociation(),et.a.setAppElement("body")}},{key:"render",value:function(){var e=this;if(!this.state.association)return null;var t=qe(Be(this.props.rawAccess),this.state.association.id,null)||"super-admin"===this.props.user_type;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{canSeeAssociationName:t,association:this.state.association}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)(ii,{title:this.props.associationName,association:this.state.association}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/list"),children:"Club List"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/group"),children:"Club Group"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/account"),children:"Account"})}),"super-admin"===this.props.user_type&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/audit-log"),children:"Audit Log"})})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/list")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/list"),render:function(){return Object(re.jsx)(gi,Object(j.a)(Object(j.a)({},e.props),{},{canEditAssociation:Ye(e.props.user_type,"edit-association"),association:e.state.association}))}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/group"),render:function(){return Object(re.jsx)(Ii,Object(j.a)(Object(j.a)({},e.props),{},{canEditAssociation:Ye(e.props.user_type,"edit-association"),props:e.props}))}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/account"),render:function(){return Object(re.jsx)(No,{associationId:e.props.match.params.id,association:e.state.association,update:function(){return e.getAssociation()},canEditAssociation:Ye(e.props.user_type,"edit-association")})}}),"super-admin"===this.props.user_type&&Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/audit-log"),render:function(){return Object(re.jsx)(So,Object(j.a)({},e.props))}})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var ko=Object(p.c)((function(e){return{user_type:e.user.access.user_type,rawAccess:e.user.rawAccess,associationName:e.association.profile?e.association.profile.name:""}}),(function(e){var t=Object(v.b)({updateAssociation:Ui},e);return Object(j.a)({dispatch:e},t)}))(Co),Ao=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).defaultValues={full_name:"",membership_code:[],status:[{label:"Active",value:"Active"}],merged:"",is_dac:"",membership:[],gender:"",in_group:[],isGroupFiltered:!1,has_digital_profile:""},a.clearValues={full_name:"",membership_code:[],status:[],merged:"",is_dac:"",membership:[],gender:"",in_group:[],isGroupFiltered:!0,has_digital_profile:""},a.updateFilter=function(e,t){a.setState(Object(Et.a)({},e,t),(function(){return a.sendFilters("merged"===e?"merged":null)}))},a.updateGroupFilter=function(e,t){t.value?a.setState(Object(j.a)(Object(j.a)({},a.clearValues),{in_group:t}),(function(){return a.sendFilters(null)})):a.resetFilters()},a.state=Object(j.a)(Object(j.a)({},a.defaultValues),{club_groups_options:[]}),a.setFilters=us()(a.setFiltersD,1e3),a}return Object(c.a)(s,[{key:"setFiltersD",value:function(e){this.props.updateFiltered(e)}},{key:"sendFilters",value:function(){var e=this,t=[];Object.keys(this.state).map((function(s){return"merged"===s?t=t.map((function(t){return"status"===t.id?"Merged"===e.state[s].value?(t.value=t.value.filter((function(e){return"Merged"!==e.value})),t.value.push(e.state[s]),t):(t.value=t.value.filter((function(e){return"Merged"!==e.value})),t):t})):t.push({id:s,value:e.state[s]}),null})),this.setFilters(t)}},{key:"resetFilters",value:function(){var e=this;this.setState(Object(j.a)({},this.defaultValues),(function(){return e.sendFilters()}))}},{key:"getGroups",value:function(e){var t=this;Bt.getGroups(this.props.club_id).then((function(s){var a=s.golfer_groups.map((function(e){return e.value=e.id,e.label=e.name,e}));t.setState({club_groups_options:a},e)})).catch((function(e){}))}},{key:"componentDidMount",value:function(){this.getGroups()}},{key:"render",value:function(){var e=this;return this.props.hideFilters?null:Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-3-of-20",children:[Object(re.jsx)("label",{htmlFor:"golfer-name",children:"Golfer Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.full_name,name:"golfer-name",id:"golfer-name",disabled:this.state.isGroupFiltered,onChange:function(t){e.updateFilter("full_name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-3-of-20",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.status,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("status",t)},label:"Membership Status"})}),Object(re.jsx)("div",{className:"col is-3-of-20",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{label:"Yes",value:"Merged"},{label:"No",value:null}],value:this.state.merged,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("merged",t)},label:"Merged"})}),Object(re.jsx)("div",{className:"col is-3-of-20",children:Object(re.jsx)(Bs,{options:this.props.membershipTypes.sort((function(e,t){return e.label.toLowerCase()>t.label.toLowerCase()?1:-1})),value:this.state.membership_code,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("membership_code",t)},label:"Membership Code (MC)"})}),Object(re.jsx)("div",{className:"col is-3-of-20",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{label:"Male",value:"M"},{label:"Female",value:"F"}],value:this.state.gender,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("gender",t)},label:"Gender"})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-3-of-15",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{label:"Yes",value:!0},{label:"No",value:!1}],value:this.state.has_digital_profile,disabled:this.state.isGroupFiltered,onChange:function(t){return e.updateFilter("has_digital_profile",t)},label:"Digital Profile"})})})]})})}),Object(re.jsx)("div",{className:"col is-1-of-13",children:Object(re.jsx)("div",{className:"form__separator or top"})}),Object(re.jsx)("div",{className:"col is-2-of-13",children:Object(re.jsx)(Bs,{singleChoice:!0,value:this.state.in_group,options:this.state.club_groups_options.sort((function(e,t){return e.label>t.label?1:-1})),onChange:function(t){e.updateGroupFilter("in_group",t)},label:"Golfer Group"})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-14",children:Object(re.jsx)("button",{className:"btn fill gray top",onClick:function(){return e.resetFilters()},children:"Reset"})})]})})})}}]),s}(a.Component),Mo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={now:!0,future:!1,type:a.props.isAllSelected?"filtered":"selected"},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.change("now",!0),this.props.onRef(this),this.setState({type:this.props.isAllSelected?"filtered":"selected"})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){if(e.future&&!e.date)throw new O.a({date:"This field is required"});var a={};"filtered"===this.state.type&&(delete(a=Object(j.a)(Object(j.a)({},a),s.filters)).page,delete a.per_page);var i={};return this.props.isAllSelected?(a.select_all=!0,i.unchecked_items=s.golfers):i.golfer_ids=s.golfers,"activate"===s.type?Bt.activateGolfers(s.clubId,i,e.future?ue()(e.date).format("YYYY-MM-DD"):null,a).then((function(t){s.onSuccess(t,e.now)})):Bt.inactivateGolfers(s.clubId,i,e.future?ue()(e.date).format("YYYY-MM-DD"):null,a).then((function(t){s.onSuccess(t,e.now)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsxs)("span",{className:"label",children:["When would you like to ",this.props.type," the selected golfers?"]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({now:!0,future:!1}),e.props.change("future",!1)},checked:this.state.now,id:"now",value:!0,name:"now",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"now",children:"Now"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({now:!1,future:!0}),e.props.change("now",!1)},checked:this.state.future,id:"future",value:!0,name:"future",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"future",children:"Future Date"})]})}),this.state.future&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsxs)("label",{htmlFor:"date",children:["Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{minDate:new Date(ue()().add(1,"days")),className:"date",showMonthDropdown:!0,validate:[he],showYearDropdown:!0,name:"date",value:null,id:"date",component:os,onFocus:function(t){return e.props.change("date",new Date(ue()().add(1,"days")))},placeholder:"Select ..."})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Submit"})})]})]})})}}]),s}(a.Component);Mo=Object(_.a)({form:"editGolfersStatusForm",destroyOnUnmount:!0})(Mo);var wo=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Mo)),Io=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1,now:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsxs)("h2",{className:"modal__title",children:[this.props.type&&this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)," Golfers"]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.success?Object(re.jsx)(Ss,{openModal:this.state.success,onMainAction:function(){e.props.closeModal("refresh")},warning:0===this.state.data.successfully_activated_golfers&&this.state.data.unsuccessfully_activated_golfers>0||0===this.state.data.successfully_inactivated_golfers&&this.state.data.unsuccessfully_inactivated_golfers>0,warningTitle:"Please Review",message:"activate"===this.props.type?Object(re.jsxs)(a.Fragment,{children:[0!==this.state.data.successfully_activated_golfers&&Object(re.jsxs)("p",{children:[this.state.data.successfully_activated_golfers," ",this.state.data.successfully_activated_golfers>1?"golfers have":"golfer has"," been ",Object(re.jsx)("span",{className:"underline",children:"activated"})," successfully."]}),0!==this.state.data.unsuccessfully_activated_golfers&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{className:"validation__message is-error",children:[this.state.data.unsuccessfully_activated_golfers," ",this.state.data.unsuccessfully_activated_golfers>1?"golfers":"golfer"," could not be ",Object(re.jsx)("span",{className:"underline",children:"activated"}),"."]})})]}):Object(re.jsxs)(a.Fragment,{children:[0!==this.state.data.successfully_inactivated_golfers&&Object(re.jsxs)("p",{children:[this.state.data.successfully_inactivated_golfers," ",this.state.data.successfully_inactivated_golfers>1?"golfers have":"golfer has"," been ",Object(re.jsx)("span",{className:"underline",children:"inactivated"})," successfully."]}),0!==this.state.data.unsuccessfully_inactivated_golfers&&Object(re.jsx)("p",{children:Object(re.jsxs)("span",{className:"validation__message is-error",children:[this.state.data.unsuccessfully_inactivated_golfers," ",this.state.data.unsuccessfully_inactivated_golfers>1?"golfers":"golfer"," could not be ",Object(re.jsx)("span",{className:"underline",children:"inactivated"}),"."]})})]}),closeModal:function(){e.props.closeModal("refresh")},mainLabel:"Ok",specialButton:this.state.data.download_url?Object(re.jsx)("a",{href:this.state.data.download_url,className:"btn lnk",target:"_blank",rel:"noreferrer",children:"Export Records for Review"}):null}):Object(re.jsx)(wo,{type:this.props.type,isAllSelected:this.props.isAllSelected,golfers:this.props.golfers,onSuccess:function(t,s){return e.setState({success:!0,data:t,now:s})},filters:this.props.filters,associationId:this.props.assoc,clubId:this.props.club,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),To=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={membershipTypes:[],type:"filtered"},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.setState({type:this.props.isAllSelected?"filtered":"selected"}),Zt.getMembershipTypes(this.props.clubId).then((function(t){e.setState({membershipTypes:t.membership_types.map((function(e){return Object(j.a)(Object(j.a)({},e),{value:e.id,label:e.code+" - "+e.description})})).filter((function(e){return"false"!==e.active})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){console.error(e)})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a={};"filtered"===this.state.type&&(delete(a=Object(j.a)(Object(j.a)({},a),s.filters)).page,delete a.per_page);var i={};return s.isAllSelected?(a.select_all=!0,i.unchecked_items=s.golfers):i.golfer_ids=s.golfers,Bt.setMembershipType(s.clubId,e.membership_type.value,i,a).then((function(e){s.onSuccess(e)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return 0===this.state.membershipTypes.length?null:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("span",{className:"label",children:"Please choose a new Membership Code:"}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"club_type",children:"Membership Code"}),Object(re.jsx)(g.a,{name:"membership_type",id:"membership_type",component:yt,validate:[pe],className:"react-select-container",classNamePrefix:"react-select",options:this.state.membershipTypes})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Submit"})})]})]})})}}]),s}(a.Component);To=Object(_.a)({form:"changeGolferMembershipForm",destroyOnUnmount:!0})(To);var Eo=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(To)),Fo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Change Membership Code for ",this.props.golfers.length," ",this.props.golfers.length>1?"Golfers":"Golfer"]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.success?Object(re.jsx)(Ss,{openModal:this.state.success,onMainAction:function(){e.props.closeModal("refresh")},warning:0===this.state.data.meta.successfully_changed&&this.state.data.meta.unsuccessfully_changed>0,warningTitle:"Please Review",message:Object(re.jsxs)(a.Fragment,{children:[this.state.data.meta.successfully_changed>0&&"The Membership Code of  ".concat(this.state.data.meta.successfully_changed," ").concat(this.state.data.meta.successfully_changed>1?"golfers":"golfer"," has been successfully changed."),this.state.data.meta.unsuccessfully_changed>0&&Object(re.jsxs)(a.Fragment,{children:[" ",Object(re.jsx)("br",{})," ",Object(re.jsx)("span",{className:"validation__message is-error",children:"The Membership Code of ".concat(this.state.data.meta.unsuccessfully_changed," ").concat(this.state.data.meta.unsuccessfully_changed>1?"golfers":"golfer"," could not be changed.")})]})]}),closeModal:function(){e.props.closeModal("refresh")},mainLabel:"Ok",specialButton:this.state.data.meta.download_url?Object(re.jsx)("a",{href:this.state.data.meta.download_url,className:"btn lnk",target:"_blank",rel:"noreferrer",children:"Export Records for Review"}):null}):Object(re.jsx)(Eo,{golfers:this.props.golfers,onSuccess:function(t){return e.setState({success:!0,data:t})},filters:this.props.filters,isAllSelected:this.props.isAllSelected,associationId:this.props.assoc,clubId:this.props.club,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Do=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).toggleTableFilter=function(){return e.setState({tableFilterIsHidden:!e.state.tableFilterIsHidden})},e.showExportModal=function(){e.setState({isExportDataOpened:!0})},e.showEditStatusModal=function(t){e.setState({activateModalOpened:t})},e.updateSpecialUpdateModalState=function(t){e.setState({isSpecialUpdateOpened:t})},e.state={tableFilterIsHidden:!1,associations:[],filters:[{id:"status",value:"Active"}],sorted:[{id:"last_name",desc:!1}],club_groups:[],isAllSelected:!1,golfers:[],selectedGolfers:[],unselectedGolfers:[],isExportDataOpened:!1,page:0,dataToExport:[],per_page:100,activateModalOpened:!1,membershipModalOpened:!1,membershipTypes:[],isSpecialUpdateOpened:!1},e}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.reloadGolfers(),this.getMembershipTypes()}},{key:"componentDidUpdate",value:function(e){this.props.updateRosterList!==e.updateRosterList&&this.reloadGolfers()}},{key:"getMembershipTypes",value:function(){var e=this;Zt.getMembershipTypes(this.props.club.id).then((function(t){e.setState({membershipTypes:t.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){console.error(e)}))}},{key:"reloadGolfers",value:function(){var e=this;this.setState({loading:!0,golfers:[]});var t=this.getRequestParams();Zt.getClubRoster(this.props.match.params.association_id,this.props.club.id,t).then((function(t){var s=e.updateGolferData(t),a=Object(ss.a)(s,2),i=a[0],n=a[1];e.setState({loading:!1,golfers:i,selectedGolfers:n,total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),inactive:parseInt(t["total-count"],10)-parseInt(t.meta.active_golfers_count,10),active:parseInt(t.meta.active_golfers_count,10)})}))}},{key:"updateGolferData",value:function(e){var t=this,s=this.state.selectedGolfers;return[e.golfers.map((function(e){var s=!1;return s=t.state.isAllSelected?!t.state.unselectedGolfers.includes(e.id):t.state.selectedGolfers.includes(e.id),Object(j.a)(Object(j.a)({},e),{},{selected:s,date_of_birth:e.date_of_birth?ue()(e.date_of_birth).format("MM/DD/YYYY"):null,status_date:e.status_date?ue()(e.status_date).format("MM/DD/YYYY"):""})})),s]}},{key:"getRequestParams",value:function(){var e={page:this.state.page+1,per_page:this.state.per_page};return this.state.sorted.length>0&&(e.sorting_criteria=this.state.sorted[0].id,e.order=this.state.sorted[0].desc?"desc":"asc"),this.state.filters.forEach((function(t){if(Array.isArray(t.value)){var s=t.value.map((function(e){return e.value})).join(",");e[t.id]=s}else"Object"===t.value.constructor.name?e[t.id]=t.value.value:e[t.id]=t.value})),e}},{key:"updateExportedDataRow",value:function(e,t){var s=this.state.golfers.map((function(s){return s.id===e&&(s.selected=t),s})),a=this.state.selectedGolfers;t?a.push(e):a=a.filter((function(t){return t!==e})),this.setState({golfers:s,selectedGolfers:Object(We.a)(new Set(a)),isAllSelected:!!t&&this.state.isAllSelected})}},{key:"updateAllExportedData",value:function(e){var t=this.state.selectedGolfers,s=this.state.golfers;s=e?s.map((function(e){return t.push(e.id),e.selected=!0,e})):s.map((function(e){return t=t.filter((function(t){return t.id===e.id})),e.selected=!1,e})),this.setState({golfers:s,selectedGolfers:Object(We.a)(new Set(t)),isAllSelected:e})}},{key:"showChangeMembershipModal",value:function(){this.setState({membershipModalOpened:!0})}},{key:"closeModal",value:function(e){var t=this;this.setState({activateModalOpened:!1,membershipModalOpened:!1}),e&&this.setState({selectedGolfers:[],isAllSelected:!1},(function(){t.reloadGolfers()}))}},{key:"performSpecialUpdate",value:function(){var e=this.state.selectedGolfers;this.state.isAllSelected&&(e=this.state.unselectedGolfers),this.setState({selectedGolfers:[],isAllSelected:!1,unselectedGolfers:[]});var t=Object(j.a)({},this.getRequestParams());return delete t.page,delete t.per_page,this.reloadGolfers(),this.state.isAllSelected?Bt.specialUpdate(this.props.match.params.id,e,!0,t):(t={},Bt.specialUpdate(this.props.match.params.id,e,!1,t))}},{key:"onRowSelect",value:function(e){var t=Object(We.a)(this.state.selectedGolfers),s=Object(We.a)(this.state.unselectedGolfers),a=this.state.isAllSelected,i=!0;a?s.includes(e.id)?s.splice(s.indexOf(e.id),1):(i=!1,s.push(e.id)):t.includes(e.id)?(t.splice(t.indexOf(e.id),1),i=!1):t.push(e.id);var n=Object(We.a)(this.state.golfers).map((function(t){return t.id===e.id?Object(j.a)(Object(j.a)({},t),{},{selected:i}):t}));this.setState({golfers:n,selectedGolfers:t,unselectedGolfers:s})}},{key:"render",value:function(){var e=this,t=!0;t=this.state.isAllSelected?!(this.state.unselectedGolfers.length>0):!(this.state.selectedGolfers.length>0);var s=[{Header:"#",accessor:"id",colClassName:"col_id",show:!1},{accessor:"first_name",show:!1},{Header:"Golfer Name",accessor:"last_name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())},Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"./golfer/".concat(e.row.id),children:(t=e.row,t.last_name+(t.suffix?" "+t.suffix+", ":", ")+(t.prefix?t.prefix+" ":"")+t.first_name+" "+(t.middle_name?t.middle_name:""))})});var t},colClassName:"col_golfer-name"},{Header:"Digital Profile",accessor:"has_digital_profile",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.has_digital_profile&&Object(re.jsx)("span",{className:"material-icons blue",style:{display:"table",margin:"0 auto"},children:"account_circle"})})},colClassName:"col_date",className:"without_tooltip"},{Header:"H.I.",accessor:"handicap_index",colClassName:"col_state"},{Header:"Status",accessor:"status",colClassName:"col_phone-number"},{Header:"Status Date",accessor:"status_date",colClassName:"col_date"},{Header:"GHIN #",accessor:"id",colClassName:"col_state"},{Header:"Local #",accessor:"local_number",colClassName:"col_state"},{Header:"Gender",accessor:"gender",colClassName:"col_gender"},{Header:"MC",accessor:"membership_code",colClassName:"col_gender",show:!0},{Header:"Date Of Birth",accessor:"date_of_birth",colClassName:"col_date"},{Header:"suffix",accessor:"suffix",show:!1},{Header:"prefix",accessor:"prefix",show:!1},{Header:"middle_name",accessor:"middle_name",show:!1},{Header:"first_name",accessor:"first_name",show:!1}];return this.props.hideFilters?null:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(Ao,{club_id:this.props.match.params.id,hideFilters:this.state.tableFilterIsHidden,membershipTypes:this.state.membershipTypes,updateFiltered:function(t){return e.setState({filters:t,page:0},(function(){e.reloadGolfers()}))}}),Object(re.jsx)("div",{className:"pre__table",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col auto",children:Object(re.jsxs)("ul",{className:"action__list push-left",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",onClick:this.showExportModal,children:"Export to Excel"})}),(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.isAllSelected&&0===this.state.selectedGolfers.length,onClick:function(){return e.showEditStatusModal("activate")},children:"Activate"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.isAllSelected&&0===this.state.selectedGolfers.length,onClick:function(){return e.showEditStatusModal("inactivate")},children:"Inactivate"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",disabled:!this.state.isAllSelected&&0===this.state.selectedGolfers.length,onClick:function(){return e.showChangeMembershipModal()},children:"Change Membership Type"})})]}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){return e.updateSpecialUpdateModalState(!0)},children:"Special Update"})})]})}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("ul",{className:"association__status",children:[Object(re.jsxs)("li",{children:["Active = ",Object(re.jsx)("strong",{children:this.state.active})]}),Object(re.jsxs)("li",{children:["Inactive = ",Object(re.jsx)("strong",{children:this.state.inactive})]}),Object(re.jsxs)("li",{children:["Total = ",Object(re.jsx)("strong",{children:this.state.total})]})]})}),Object(re.jsxs)("div",{className:"col auto",children:[!this.state.tableFilterIsHidden&&Object(re.jsxs)("button",{onClick:this.toggleTableFilter.bind(this),className:"btn fill gray",children:["Hide Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:"remove"})]}),this.state.tableFilterIsHidden&&Object(re.jsxs)("button",{onClick:this.toggleTableFilter.bind(this),className:"btn fill gray",children:["Show Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:"add"})]})]})]})})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("span",{className:"bold",children:[" ",Object(re.jsx)("span",{className:"red",children:"Important:"}),'  When using the "Select All" checkbox, any action being performed will be taken on all records on all pages, not just the current page.']})})}),Object(re.jsx)($t,{loading:this.state.loading,columns:s,pages:this.state.pages,manual:!0,page:this.state.page,total:this.state.total,pageSize:this.state.per_page,isAllSelected:this.state.isAllSelected,data:this.state.golfers,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.reloadGolfers()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.reloadGolfers()}))},onRowSelect:this.onRowSelect.bind(this),onSelectAll:function(){var t=!e.state.isAllSelected,s=Object(We.a)(e.state.golfers).map((function(e){return Object(j.a)(Object(j.a)({},e),{},{selected:t})}));e.setState({selectedGolfers:[],isAllSelected:t,unselectedGolfers:[],golfers:s})},onSelectPage:function(){var t=Object(We.a)(e.state.golfers),s=Object(We.a)(e.state.selectedGolfers),a=t.filter((function(e){return s.includes(e.id)}));s=a.length===e.state.golfers.length&&a.length>0?s.filter((function(e){return!t.map((function(e){return e.id})).includes(e)})):Object(We.a)(new Set([].concat(Object(We.a)(e.state.selectedGolfers),Object(We.a)(t.map((function(e){return e.id})))))),t=t.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{selected:s.includes(e.id)})}));e.setState({unselectedGolfers:[],selectedGolfers:s,golfers:t})},sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t,page:0},(function(){e.reloadGolfers()}))},filtered:this.state.filtered}),Object(re.jsx)(Xs,{columns:s,isOpen:this.state.isExportDataOpened,isAllSelected:this.state.isAllSelected,onRequestClose:function(){return e.setState({isExportDataOpened:!1})},data:this.state.golfers,disableSelected:t,onDownloadClick:this.handleDownload.bind(this)}),Object(re.jsx)(et.a,{isOpen:!!this.state.activateModalOpened,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Io,{closeModal:function(t){e.closeModal(t)},golfers:this.state.isAllSelected?this.state.unselectedGolfers:this.state.selectedGolfers,assoc:this.props.match.params.association_id,isAllSelected:this.state.isAllSelected,filters:this.getRequestParams(),club:this.props.match.params.id,type:this.state.activateModalOpened})}),Object(re.jsx)(et.a,{isOpen:this.state.isSpecialUpdateOpened,onRequestClose:function(){return e.updateSpecialUpdateModalState(!1)},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(ji,{closeModal:function(){e.updateSpecialUpdateModalState(!1)},confirmAction:function(){return e.performSpecialUpdate()},onDownloadClick:function(t){return e.specialUpdateDownload(t)},title:"Special Update ".concat(this.state.selectedGolfers.length>0?this.state.selectedGolfers.length+" golfers":"all golfers"),description:this.state.selectedGolfers.length>0?"You are about to perform a Special Update for the SELECTED ACTIVE GOLFERS":"You are about to perform a Special Update for ALL ACTIVE GOLFERS in the club."})}),Object(re.jsx)(et.a,{isOpen:this.state.membershipModalOpened,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Fo,{closeModal:function(t){e.closeModal(t)},golfers:this.state.isAllSelected?this.state.unselectedGolfers:this.state.selectedGolfers,assoc:this.props.match.params.association_id,isAllSelected:this.state.isAllSelected,filters:this.getRequestParams(),club:this.props.match.params.id})})]})}},{key:"specialUpdateDownload",value:function(e){var t=this;return Zt.getSpecialUpdateCsv(this.props.club.id,e).then((function(e){Xe.downloadFile(e,"SpecialUpdates_"+ue()().format("MM/DD/YYYY")+".csv"),t.setState({isSpecialUpdateOpened:!1})}))}},{key:"handleDownload",value:function(e){this.setState({isExportDataOpened:!1});var t=Object(j.a)({},this.getRequestParams());return delete t.page,delete t.per_page,"selected"===e&&(this.state.isAllSelected?(t.select_all=!0,t.unchecked_items=this.state.unselectedGolfers.join(",")):t.golfer_ids=this.state.selectedGolfers.join(",")),Zt.getClubRosterExport(this.props.match.params.association_id,this.props.club.id,t).then((function(e){window.open(e.url,"_blank")}))}}]),s}(a.Component);var Po=Object(p.c)((function(e){return{user_type:e.user.access.user_type}}),null)(Do),Go=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(Po,Object(j.a)({},this.props))})}}]),s}(a.Component),Ro=s(507),Ho=function(e){return Object(re.jsxs)("div",{style:"hidden"===e.type?{display:"none"}:{},children:[Object(re.jsx)(Ro.a,{filterOption:function(){return!0},id:"state-select",cacheOptions:!e.dontCacheOptions,defaultOptions:e.defaultOptions,className:"react-select-container async ".concat(e.className," ").concat(e.meta.touched&&e.meta.error?"is-error":""),isClearable:!0,classNamePrefix:!0===e.grayPlaceholder?"react-gray-select":"react-select",value:e.input.value,onChange:e.input.onChange,onFocus:function(){return e.input.onFocus()},onBlur:function(){return e.input.onBlur()},placeholder:e.placeholder,name:e.input.name,style:e.style,multi:e.multi,maxMenuHeight:e.maxMenuHeight,isDisabled:e.disabled,loadOptions:e.loadOptions,noOptionsMessage:function(){if(e.noOptionsMessage)return e.noOptionsMessage},backspaceRemoves:e.backspaceRemoves,searchable:e.searchable||!1}),!e.hideErrorMessages&&e.meta.touched&&(e.meta.error&&Array.isArray(e.meta.error)?e.meta.error.map((function(e){return Object(re.jsx)("p",{className:"validation__message is-error",children:e})})):Object(re.jsx)("p",{className:"validation__message is-error",children:e.meta.error}))]})},Uo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={is_dac:!1,authorized:!1,golfers:[]},a.getGolfers=a.getGolfers.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(Object(j.a)(Object(j.a)({},this.props.club),{technology_provider:this.props.club.technology_provider?{label:this.props.club.technology_provider,value:this.props.club.technology_provider}:null,handicap_chairperson:{label:this.props.club.handicap_chairperson,value:this.props.club.handicap_chairperson},usga_version:{label:this.props.club.usga_version,value:this.props.club.usga_version},club_type:{label:this.props.club.club_type,value:this.props.club.club_type},club_category:{label:this.props.club.club_category,value:this.props.club.club_category}})),this.setState({is_dac:this.props.club.is_dac,authorized:this.props.club.authorized}),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"getGolfers",value:function(e,t){var s=this;Bt.getAllGolfers(this.props.club.id,{full_name:e,sorting_criteria:"last_name",order:"asc"}).then((function(e){if(e.errors)t([]);else{var a=e.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{value:e.first_name+" "+e.last_name,label:e.first_name+" "+e.last_name})}));s.setState({golfers:a}),t(a)}})).catch((function(e){console.error(e)}))}},{key:"onSubmit",value:function(e,t,s){var a=JSON.parse(JSON.stringify(e));return a.handicap_chairperson&&(a.handicap_chairperson=a.handicap_chairperson.value),s.isAgaAssoc&&(s.superAdmin||s.isAssocAdmin)||delete a.authorized,a.technology_provider&&(a.technology_provider=a.technology_provider.value),a.club_type&&(a.club_type=a.club_type.value),a.usga_version&&(a.usga_version=a.usga_version.value),a.club_category&&(a.club_category=a.club_category.value),a=Ei()(s.club,a),Zt.editPrimary(s.associationId,s.club.id,a).then((function(e){s.addAlert({type:"success",message:"Club has been successfully edited"}),s.closeModal(e)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"club_name",children:["Club Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ke([60,"The Club Name cannot exceed 60 characters."])],type:"text",name:"club_name",id:"club_name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"short_name",children:"Short Name"}),Object(re.jsx)(g.a,{component:ce,format:function(e){return e?e.slice(0,8):""},validate:[je],type:"text",name:"short_name",id:"short_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"website",children:"Website"}),Object(re.jsx)(g.a,{component:ce,type:"text",validate:[Oe],name:"website",id:"website"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"phone",children:["Phone ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"phone",id:"phone"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,fe],type:"text",name:"email",id:"email"})]})]}),Object(re.jsxs)("div",{className:"row",children:[(!this.props.club.is_dac||this.props.superAdmin)&&Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"club_type",children:["Club Type ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club_type",id:"club_type",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{value:"Type 1",label:"Type 1"},{value:"Type 2",label:"Type 2"},{value:"Type 3",label:"Type 3"}]})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{children:["Club Category ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"club_category",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:ws})]})]}),Object(re.jsxs)("div",{className:"row",children:[this.props.superAdmin&&Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{is_dac:!e.is_dac}}))},checked:this.state.is_dac,id:"is_dac",value:!0,name:"is_dac",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"is_dac",children:"Is DAC?"})]}),this.props.isAgaAssoc&&(this.props.superAdmin||this.props.isAssocAdmin)&&Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{authorized:!e.authorized}}))},checked:this.state.authorized,id:"authorized",value:!0,name:"authorized",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"authorized",children:"Is Club Authorized?"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"handicap_chairperson",children:"Handicap Chairperson"}),Object(re.jsx)(g.a,{onChange:function(e,t,s){},defaultOptions:this.state.golfers,loadOptions:ho()(this.getGolfers,1e3),component:Ho,noOptionsMessage:"Please select golfer",searchable:!0,type:"text",autoComplete:"off",validate:[he],id:"handicap_chairperson",maxMenuHeight:170,name:"handicap_chairperson",placeholder:"Enter Golfer Name"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"usga_version",children:"USGA TM Version"}),Object(re.jsx)(g.a,{name:"usga_version",id:"usga_version",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{value:"USGA TM Club",label:"USGA TM Club"},{value:"USGA TM Club Premium",label:"USGA TM Club Premium"}]})]})}),(!this.props.club.is_dac||this.props.superAdmin)&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"technology_provider",children:["Front End Provider ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"technology_provider",id:"technology_provider",component:yt,validate:[he,pe],className:"react-select-container",classNamePrefix:"react-select",options:Is})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",disabled:i||n,children:"Save"})})]})]})})}}]),s}(a.Component);Uo=Object(_.a)({form:"editAccountForm",destroyOnUnmount:!0})(Uo);var Lo=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,superAdmin:e.user.access.super_user,isAssocAdmin:"association-admin"===e.user.access.user_type,isAgaAssoc:e.association.profile.is_aga}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Uo)),Yo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Primary Account Information"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Lo,{club:this.props.club,associationId:this.props.associationId,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component);function zo(e){return function(t){t({type:"@@ghin/UPDATE_CLUB",payload:e})}}var Bo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={EditClubAccountModalIsOpen:!1,EditAddressModalIsOpen:!1,EditAddressModalType:null,club:null,addresses:[],logo:null,clearLogoModalIsOpen:!1},e.openEditClubAccountModal=e.openEditClubAccountModal.bind(Object(b.a)(e)),e.openEditAddressModal=e.openEditAddressModal.bind(Object(b.a)(e)),e}return Object(c.a)(s,[{key:"openEditClubAccountModal",value:function(){this.setState({EditClubAccountModalIsOpen:!0})}},{key:"openEditAddressModal",value:function(e){this.setState({EditAddressModalIsOpen:!0,EditAddressModalType:e})}},{key:"closeModal",value:function(e){this.setState({club:e||this.state.club,EditClubAccountModalIsOpen:!1,EditAddressModalIsOpen:!1}),e&&this.props.updateClub(Object(j.a)({},e.club))}},{key:"removeLogo",value:function(){var e=this;Zt.editClubLogo(this.props.associationId,this.state.club.club.id,{delete:"true"}).then((function(t){e.setState({club:t,clearLogoModalIsOpen:!1})})).catch((function(e){console.error(e)}))}},{key:"saveLogo",value:function(e){var t=this;Zt.editClubLogo(this.props.associationId,this.state.club.club.id,{logo:e,alt_text:""}).then((function(e){t.setState({club:e})})).catch((function(e){console.error(e)}))}},{key:"setAltText",value:function(e){var t=this;Zt.editClubLogo(this.props.associationId,this.state.club.club.id,{alt_text:e}).then((function(e){t.setState({club:e})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;Zt.getClubAddresses(this.props.associationId,this.props.club.id).then((function(t){e.setState({club:t}),e.props.updateClub(t)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.state.club&&this.state.club.club,s=this.state.club&&this.state.club.primary_address,i=this.state.club&&this.state.club.primary_contact_address,n=this.state.club&&this.state.club.mailing_address,o=this.state.club&&this.state.club.mailing_contact_address,r=this.state.club&&this.state.club.billing_address,c=this.state.club&&this.state.club.billing_contact_address;return Object(re.jsxs)(a.Fragment,{children:[t&&Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Basic Information"}),Object(re.jsxs)("div",{className:"panel__body",children:[(!!this.props.canEditAssociation||"super-admin"===this.props.user_type)&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openEditClubAccountModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Number:"}),Object(re.jsx)("span",{children:t.id})]}),t.club_number===t.id?null:Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"GHP ID:"}),Object(re.jsx)("span",{children:"".concat(t.golf_association_id).concat(t.club_number)})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Name:"}),Object(re.jsx)("span",{children:t.club_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Short Name:"}),Object(re.jsx)("span",{children:t.short_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Association Name:"}),Object(re.jsx)("span",{children:this.props.association.name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Handicap Chairperson:"}),Object(re.jsx)("span",{children:t.handicap_chairperson})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Phone:"}),Object(re.jsx)("span",{children:t.phone})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Email:"}),Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:"mailto: ".concat(t.email),children:t.email})})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Website:"}),t.website&&Object(re.jsx)("span",{children:Object(re.jsx)("a",{href:"https://".concat(t.website),target:"_blank",rel:"noopener noreferrer",children:t.website})})]})]})}),Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Status:"}),Object(re.jsx)("span",{children:t.status})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Last Status Update:"}),Object(re.jsx)("span",{children:ue()(t.status_date).format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Creation Date:"}),Object(re.jsx)("span",{children:ue()(t.created_at).format("MM/DD/YYYY")})]}),(!!this.props.canEditAssociation||"super-admin"===this.props.user_type)&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"USGA TM Version:"}),Object(re.jsx)("span",{children:t.usga_version})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Category:"}),Object(re.jsx)("span",{children:t.club_category})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Type:"}),Object(re.jsx)("span",{children:t.club_type})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is Test Club?:"}),Object(re.jsx)("span",{children:t.is_test?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Authorized?:"}),Object(re.jsx)("span",{children:t.authorized?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is DAC?:"}),Object(re.jsx)("span",{children:t.is_dac?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Front End Provider:"}),Object(re.jsx)("span",{children:t.technology_provider})]})]})})]})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Addresses"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_golfer-name"}),Object(re.jsx)("col",{className:"col_golfer-name"}),Object(re.jsx)("col",{className:"col_golfer-name"}),(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("col",{className:"col_edit"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Address Type"}),Object(re.jsx)("th",{children:"Address"}),Object(re.jsx)("th",{children:"Contact Information"}),(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("th",{className:"col_edit"})]})}),Object(re.jsxs)("tbody",{children:[Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Primary"}),Object(re.jsxs)("td",{children:[s.street_1," ",s.street_1&&Object(re.jsx)("br",{}),s.street_2," ",s.street_2&&Object(re.jsx)("br",{}),[s.city,s.state_name,s.zip,s.country_name].filter((function(e){return e})).join(", ")]}),Object(re.jsxs)("td",{children:[i.first_name," ",i.last_name,Object(re.jsx)("br",{}),i.email,i.email&&Object(re.jsx)("br",{}),i.phone]}),(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("td",{className:"col_edit",children:Object(re.jsx)("div",{className:"address__head",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAddressModal("primary")},className:"btn lnk",children:"Edit"})})})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Mailing"}),Object(re.jsxs)("td",{children:[n.street_1," ",n.street_1&&Object(re.jsx)("br",{}),n.street_2," ",n.street_2&&Object(re.jsx)("br",{}),[n.city,n.state_name,n.zip,n.country_name].filter((function(e){return e})).join(", ")]}),Object(re.jsxs)("td",{children:[o.first_name," ",o.last_name,Object(re.jsx)("br",{}),o.email,o.email&&Object(re.jsx)("br",{}),o.phone]}),(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("td",{className:"col_edit",children:Object(re.jsx)("div",{className:"address__head",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAddressModal("mailing")},className:"btn lnk",children:"Edit"})})})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Billing"}),Object(re.jsxs)("td",{children:[r.street_1," ",r.street_1&&Object(re.jsx)("br",{}),r.street_2," ",r.street_2&&Object(re.jsx)("br",{}),[r.city,r.state_name,r.zip,r.country_name].filter((function(e){return e})).join(", ")]}),Object(re.jsxs)("td",{children:[c.first_name," ",c.last_name,Object(re.jsx)("br",{}),c.email,c.email&&Object(re.jsx)("br",{}),c.phone]}),(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("td",{className:"col_edit",children:Object(re.jsx)("div",{className:"address__head",children:Object(re.jsx)("button",{onClick:function(){return e.openEditAddressModal("billing")},className:"btn lnk",children:"Edit"})})})]})]})]})})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsx)(Sa,{title:"Club Logo",image:t.logo,alt_text:t.alt_text,minimumHeight:155,minimumWidth:155,readOnly:!this.props.canEditClub,square:!0,logo:!0,logoDescription:"The Club Logo will be used in tabular reporting.",onSave:function(t){e.saveLogo(t)},onRemove:function(){e.removeLogo()},onSetAltText:function(t){return e.setAltText(t)}})})})})]}),Object(re.jsx)(et.a,{isOpen:this.state.EditClubAccountModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Yo,{superAdmin:"super-admin"===this.props.user_type,club:this.state.club&&this.state.club.club,associationId:this.props.associationId,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.EditAddressModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Hi,{type:this.state.EditAddressModalType,for:"club",countries:this.state.countries,states:this.state.states,assoc:this.state.club,closeModal:function(t){e.closeModal(t)}})})]})}}]),s}(a.Component);Bo.defaultProps={center:{lat:40.001869,lng:-75.311804},zoom:10};var qo=Object(p.c)((function(e){return{user_type:e.user.access.user_type,clubProfile:e.club}}),(function(e){var t=Object(v.b)({updateClub:zo},e);return Object(j.a)({dispatch:e},t)}))(Bo),Vo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={membershipTypes:[],membershipLoading:!0,isAllSelected:!1,error:null},a.getMembershipTypes=a.getMembershipTypes.bind(Object(b.a)(a)),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getMembershipTypes(),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"getMembershipTypes",value:function(){var e=this;this.setState({membershipLoading:!0}),rs.getMembershipTypes(this.props.association.id).then((function(t){var s=t.membership_types.sort((function(e,t){return e.code.toString().localeCompare(t.code.toString())})).filter((function(e){return"false"!==e.active}));s.length>0&&s.map((function(t){return e.props.membershipTypes.forEach((function(e){e.id===t.id&&(t.isChecked=!0,t.is_used=e.is_used,t.isUsedInClub=!0)})),t})),e.setState({membershipLoading:!1,membershipTypes:s})})).catch((function(t){e.setState({membershipLoading:!1,membershipTypes:[]})}))}},{key:"onSubmit",value:function(e,t,s){var a=this,i=[],n=[];return this.state.isAllSelected?i=this.state.membershipTypes.map((function(e){return e.id})):this.state.membershipTypes.forEach((function(e){e.isChecked?i.push(e.id):n.push(e.id)})),n.length>0?Zt.removeMembershipType({club_ids:[this.props.clubId],membership_ids:n}).then((function(e){Zt.addMembershipType({membership_ids:i,club_ids:[a.props.clubId]}).then((function(e){a.props.addAlert({type:"success",message:"Membership type successfully added"}),a.props.closeModal("refresh")})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)})):Zt.addMembershipType({membership_ids:i,club_ids:[this.props.clubId]}).then((function(e){a.props.addAlert({type:"success",message:"Membership type successfully added"}),a.props.closeModal("refresh")})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("h2",{className:"form-section__title",children:[this.props.club.club_name," (",this.props.club.city,", ",this.props.club.state,")"]}),Object(re.jsx)("p",{className:"form-section__description",children:"Please select the Membership Type(s) to add to the club."})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("table",{className:"data__table normal-overflow",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsxs)("th",{className:"primary",children:[Object(re.jsx)(g.a,{onClick:function(){var t=e.state.membershipTypes.map((function(t){return t.isChecked=!e.state.isAllSelected,t}));e.setState({membershipTypes:t,isAllSelected:!e.state.isAllSelected})},checked:this.state.isAllSelected,id:"isAllSelected",value:!0,name:"isAllSelected",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"isAllSelected"})]}),Object(re.jsx)("th",{children:"Membership Code - Membership Description"}),Object(re.jsx)("th",{children:"Bill Rate"})]})}),Object(re.jsx)("tbody",{children:this.state.membershipTypes.length?this.state.membershipTypes.map((function(t,s){return Object(re.jsxs)("tr",{children:[Object(re.jsxs)("td",{className:"primary",children:[Object(re.jsx)(g.a,{onClick:function(){var s=e.state.membershipTypes.map((function(e){return e.id===t.id?(t.isChecked=!t.isChecked,t):e}));e.setState({membershipTypes:s,isAllSelected:!1})},checked:t.isChecked||e.state.isAllSelected,id:t.id+".is_checked",value:!0,disabled:t.is_used&&t.isUsedInClub,name:t.id+".is_checked",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:t.id+".is_checked"})]}),Object(re.jsx)("td",{children:t.code+" - "+t.description}),Object(re.jsx)("td",{children:"$"+parseFloat(t.bill_rate).toFixed(2)})]},s)})):Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:3,children:this.state.membershipLoading?Object(re.jsx)("span",{className:"data-table__loader"}):Object(re.jsx)("h1",{children:"No data available."})})})})]})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{className:"btn fill blue",disabled:i||0===this.state.membershipTypes.length,type:"submit",ref:"submit",children:"Save"})})]})]})})}}]),s}(a.Component);Vo=Object(_.a)({form:"addClubMembershipTypeForm",destroyOnUnmount:!0})(Vo);var Wo=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Vo)),Ko=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Membership Type to Club"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Wo,{association:this.props.association,club:this.props.club,membershipTypes:this.props.membershipTypes,clubId:this.props.clubId,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Jo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddMembershipTypeModalIsOpen:!1,membershipTypes:[],membershipLoading:!1,confirmationMdoalIsOpen:!1,deleteMembership:null},a.openAddMembershipTypeModal=a.openAddMembershipTypeModal.bind(Object(b.a)(a)),a.deleteMembership=a.deleteMembership.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openAddMembershipTypeModal",value:function(){this.setState({AddMembershipTypeModalIsOpen:!0})}},{key:"componentDidMount",value:function(){this.getMembershipTypes()}},{key:"getMembershipTypes",value:function(){var e=this;this.setState({membershipLoading:!0}),Zt.getMembershipTypes(this.props.club.id).then((function(t){var s=t.membership_types.filter((function(e){return e.is_used}));e.setState({membershipLoading:!1,membershipTypes:t.membership_types.map((function(e){return Object(j.a)(Object(j.a)({},e),{bill_rate:parseFloat(e.bill_rate)})})),hideRemoveAction:s.length===t.membership_types.length})})).catch((function(t){console.error(t),e.setState({membershipLoading:!1,membershipTypes:[]})}))}},{key:"closeModal",value:function(e){e&&this.getMembershipTypes(),this.setState({AddMembershipTypeModalIsOpen:!1})}},{key:"deleteMembership",value:function(){var e=this;Zt.removeMembershipType({club_ids:[this.props.club.id],membership_ids:[this.state.deleteMembership.id]}).then((function(t){e.props.addAlert({type:"success",message:"Membership type successfully removed"}),e.setState({confirmationMdoalIsOpen:!1,deleteMembership:null},(function(){return e.getMembershipTypes()}))})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Membership Code",accessor:"code",colClassName:"col_user-name"},{Header:"Membership Description",accessor:"description"},{Header:"USGA Membership Type",accessor:"type",colClassName:"col_user-name"},{Header:"Bill Rate",accessor:"bill_rate",Cell:function(e){return ui(e.original.bill_rate)}},{Header:"",show:this.props.canEditAssociation&&!this.state.hideRemoveAction,Cell:function(t){return!t.original.is_used&&Object(re.jsx)("span",{className:"col_edit-delete",children:Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({confirmationMdoalIsOpen:!0,deleteMembership:t.original})},children:"Remove"})})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Club Membership Types"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.canEditAssociation&&Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-4-of-5",style:{display:"flex",flexDirection:"row",alignItems:"center"},children:Object(re.jsxs)("p",{children:[Object(re.jsx)("strong",{children:"Note:"})," Membership Types can only be removed from a club if there are no golfers (regardless of status) currently assigned to it."]})}),Object(re.jsx)("div",{className:"col is-1-of-5 push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openAddMembershipTypeModal()},className:"btn fill green",children:"Add Membership Type"})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)($t,{idKey:"id",hidePagination:!0,columns:t,loading:this.state.membershipLoading,hideSelect:!0,data:this.state.membershipTypes,ref:function(t){return e.table=t},defaultSorted:[{id:"code",desc:!1}],sortable:!0})})})]})]})})})}),Object(re.jsx)(et.a,{isOpen:this.state.AddMembershipTypeModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ko,{association:this.props.association,club:this.props.club,membershipTypes:this.state.membershipTypes,clubId:this.props.club.id,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(ca,{question:"Are you sure you want to remove Membership Type:".concat(this.state.deleteMembership&&this.state.deleteMembership.code,"?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmationMdoalIsOpen:!1})},onConfirmAction:function(){return e.deleteMembership()},openModal:this.state.confirmationMdoalIsOpen,closeModal:function(){return e.setState({confirmationMdoalIsOpen:!1})}})]})}}]),s}(a.Component);var $o=Object(p.c)(null,(function(e){return Object(v.b)({addAlert:Pe},e)}))(Jo),Xo=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);var i=se.getState().user.user_id;return a.state={addUserModalIsOpen:!1,reinvitedSuccess:!1,loading:!0,users:[],user_id:i},a.openAddUserModal=a.openAddUserModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"getUsers",value:function(){var e=this;this.props.match.params.id&&Ee.get(this.props.match.params.id,null,null).then((function(t){e.setState({loading:!1,users:t.users.map((function(e){return Object(j.a)(Object(j.a)({},{user:e}),{},{Id:e.user.id,Name:e.user.last_name+(e.user.suffix?" "+e.user.suffix:"")+(e.user.prefix?", "+e.user.prefix:"")+", "+e.user.first_name+(e.user.middle_name?", "+e.user.middle_name:""),Role:("admin"===e.user_access.role?"Administrator":"")+("read_only"===e.user_access.role?"Admin-Read-Only":"")+("score_only"===e.user_access.role?"Admin-Rapid-Score-Entry-Only":"")+("score_maintenance"===e.user_access.role?"Admin-Score Posting & Maintenance":""),Email:e.user.email,Phone:e.user.phone,Status:"true"===e.user_access.active?"Active":"Inactive",lastLoginDate:e.user.last_sign_in_at,userAccessId:e.user_access.id})}))})})).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){this.getUsers()}},{key:"openAddUserModal",value:function(){this.setState({addUserModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({addUserModalIsOpen:!1})}},{key:"inviteUser",value:function(e){var t=this;Ee.reinvite(e.userAccessId,window.location.origin+"/auth/set/").then((function(s){"Sent"===s.user&&t.setState({reinvitedSuccess:e.Name})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state.user_id,s=[{Header:"User Name",accessor:"Name",colClassName:"col_golfer-name-short"},{Header:"Role",accessor:"Role",colClassName:"col_golfer-name-short"},{Header:"Email Address",accessor:"Email"},{Header:"Phone Number",accessor:"Phone",colClassName:"col_phone-number"},{Header:"Status",accessor:"Status",colClassName:"col_status"},{Header:"Last Login Date",accessor:"lastLoginDate",colClassName:"col_date",Cell:function(t){return t.original.lastLoginDate?ue()(t.original.lastLoginDate).format("MM/DD/YYYY"):Object(re.jsx)("button",{className:"btn small fill green",onClick:function(){return e.inviteUser(t.original)},children:"Resend Invite"})}},{Header:"",accessor:"Edit",colClassName:"col_edit",show:this.props.canEditClub,Cell:function(t){return Object(re.jsx)("button",{className:"btn lnk",onClick:function(){return e.setState({editUserModalIsOpen:!0,selectedUser:t.row._original.user})},children:"Edit"})}},{Header:"",accessor:"Delete",colClassName:"col_remove",show:this.props.canEditAssociation,Cell:function(s){return t!==s.original.user.user.id&&Object(re.jsx)("button",{className:"btn lnk",onClick:function(){return e.setState({deleteUserAccessModalIsOpen:!0,selectedUser:s.row._original.user})},children:"Delete"})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Manage Users"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.canEditClub&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-5",children:Object(re.jsx)("button",{onClick:this.openAddUserModal,disabled:"Active"!==this.props.club.status,className:"btn fill green",children:"Add User"})})}),Object(re.jsx)($t,{idKey:"Id",columns:s,loading:this.state.loading,hideSelect:!0,data:this.state.users,ref:function(t){return e.table=t},defaultSorted:[{id:"Name",desc:!1}],sortable:!0})]})]})})})}),Object(re.jsx)(et.a,{isOpen:this.state.addUserModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(gn,{clubId:this.props.match.params.id,associationId:this.props.match.params.association_id,usersList:this.state.users,closeModal:function(){e.getUsers(),e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.editUserModalIsOpen,onRequestClose:function(){e.getUsers(),e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(xn,{user:this.state.selectedUser,closeModal:function(){e.getUsers(),e.setState({editUserModalIsOpen:!1})}})}),Object(re.jsx)(et.a,{isOpen:this.state.deleteUserAccessModalIsOpen,onRequestClose:function(){e.getUsers(),e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(yn,{user:this.state.selectedUser,closeModal:function(){e.getUsers(),e.setState({deleteUserAccessModalIsOpen:!1})},deleteUserAccessModalIsOpen:this.state.deleteUserAccessModalIsOpen})}),Object(re.jsx)(Ss,{openModal:this.state.reinvitedSuccess,onMainAction:function(){e.setState({reinvitedSuccess:!1})},closeModal:function(){e.setState({reinvitedSuccess:!1})},message:"".concat(this.state.reinvitedSuccess," was successfully reinvited"),mainLabel:"Ok"})]})}}]),s}(a.Component),Qo=Object(u.o)(Xo),Zo=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"getList",value:function(e){return ne({url:"/Facilities/Search.json?name=".concat(e),method:"GET"})}},{key:"facilityHomeCourses",value:function(e){return ne({url:"/clubs/".concat(e,"/facility_home_courses.json"),method:"GET"})}},{key:"getById",value:function(e){return ne({url:"/Facilities/".concat(e,"/Courses.json"),method:"GET"})}}]),e}(),er=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={clubs:[],courses:[],showKeyboard:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getHomeCourses([{id:this.props.clubId}]),this.getAllClubs(),this.props.onRef(this)}},{key:"getAllClubs",value:function(){var e=this;rs.getAllClubs(this.props.associationId).then((function(t){var s=t.clubs;s.map((function(e){return e.value=e.id,e.label=e.club_name,e})),e.setState({clubs:s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){console.error(e)})),this.props.initialize({club_display_name:this.props.clubName,show_keyboard:"false",clubs:[{id:parseInt(this.props.clubId,10),value:parseInt(this.props.clubId,10),label:this.props.clubName}]})}},{key:"getHomeCourses",value:function(e){var t=this,s=e.map((function(e){return Zo.facilityHomeCourses(e.id)}));Promise.all(s).then((function(e){var s=[];if(e.forEach((function(e){e.facilities.length>0&&e.facilities.map((function(e){return s.push(e)}))})),s){var a,i=s.map((function(e){return e.home_courses.map((function(t){return t.value=t.course_id,t.label=t.name===e.name?t.name:"".concat(e.name," ").concat(t.name),t}))})).reduce((function(e,t){return e.concat(t)}),[]).filter((a={},function(e){return!(a[e.course_id]=e.course_id in a)}));t.setState({courses:i},(function(){1===t.state.courses.length&&t.props.change("default_course",t.state.courses[0])}))}})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.clubs=s.clubs.map((function(e){return e.id})),s.default_course=s.default_course?s.default_course.value:null,Zt.addKiosk(this.props.associationId,this.props.clubId,s).then((function(e){if(e.errors)throw new Error("URL already exists");t.props.closeModal()})).catch((function(e){throw new O.a({url:"URL already exists"})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"club_display_name",children:["Kiosk Display Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",autoComplete:"off",name:"club_display_name",id:"club_display_name"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),Object(re.jsx)(g.a,{component:ce,type:"text",autoComplete:"off",name:"nickname",id:"nickname"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"clubs",children:["Club(s) ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[me],name:"clubs",component:yt,onChange:function(t){t.length>0?e.getHomeCourses(t):e.setState({courses:[]})},className:"react-select-container",classNamePrefix:"react-select",options:this.state.clubs,isSearchable:!1,isMulti:!0})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"default-course",children:["Default Course ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"default_course",component:yt,noOptionsMessage:"Home Courses and Default Tees need to be configured prior to completing the Kiosk setup",validate:[pe],className:"react-select-container",classNamePrefix:"react-select",options:this.state.courses,isSearchable:!1,isMulti:!1})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("span",{className:"label",htmlFor:"club-name",children:"On-Screen Keyboard"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{id:"show-keyboard-yes",value:"true",onClick:function(){e.setState((function(e){return{showKeyboard:!e.showKeyboard}}))},name:"show_keyboard",component:"input",checked:this.state.showKeyboard,className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show-keyboard-yes",children:"On"}),Object(re.jsx)(g.a,{id:"show-keyboard-no",value:"false",name:"show_keyboard",onClick:function(){e.setState((function(e){return{showKeyboard:!e.showKeyboard}}))},checked:!this.state.showKeyboard,className:"simple__radio",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show-keyboard-no",children:"Off"})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);er=Object(_.a)({form:"addKioskForm",destroyOnUnmount:!0})(er);var tr=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({},e)}))(Ve(er)),sr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Kiosk"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(tr,{clubName:this.props.clubName,facility:this.props.facility,closeModal:this.props.closeModal,clubId:this.props.clubId,associationId:this.props.associationId})})]})})}}]),s}(a.Component),ar=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"searchCourses",value:function(e){return ne({url:"/crsCourseMethods.asmx/SearchCourses.json?name=".concat(e),method:"GET"})}},{key:"getCourseDetails",value:function(e){return ne({url:"/crsCourseMethods.asmx/GetCourseDetails.json?CourseId=".concat(e),method:"GET"})}}]),e}(),ir=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={facilities:[],facility:null,courses:[],isPrimary:!0,error:null,loading:!1},a.getFacilities=a.getFacilities.bind(Object(b.a)(a)),a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=this,i=this.state.courses.filter((function(t){return e[t.CourseId].is_checked})),n={facility:{is_primary:e.is_primary,facility_id:this.state.facility.FacilityId,home_courses:i.map((function(t){var s={course_id:t.CourseId};return e[t.CourseId]&&e[t.CourseId].default_male&&(s.default_male_tee_id=e[t.CourseId].default_male.value),e[t.CourseId]&&e[t.CourseId].default_female&&(s.default_female_tee_id=e[t.CourseId].default_female.value),s}))}};return Zt.addClubHomeCourses(s.clubId,n).then((function(e){s.addAlert({type:"success",message:"Home Courses successfully added!"}),a.props.closeModal(e)})).catch((function(e){"This home course was already added!"===e.data.errors&&a.setState({error:"This home course was already added!"});var t="";throw Array.isArray(e.data.errors)?e.data.errors.map((function(e){return t+=e+"<br/>",null})):t=e.data.errors,new O.a({name:t})}))}},{key:"goBack",value:function(){this.props.initialize(),this.setState({facility:null})}},{key:"getFacilities",value:function(e,t){var s=this;Zo.getList(e).then((function(e){if(e.errors)t([]);else{var a=e.map((function(e){return Object(j.a)(Object(j.a)({},e),{value:e.FacilityId,label:e.FacilityName+" "+(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):"")})}));a.sort((function(e,t){return e.label>t.label?1:-1})),s.setState({facilities:a}),t(a)}})).catch((function(e){s.setState({facilities:[]}),t([]),console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:this.state.facility?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:this.state.facility.FacilityName})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{className:"form__description",children:"Please select Home Courses and Default Tees (not required) below. If this facility is the Primary Facility, check the checkbox below."})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("table",{className:"data__table normal-overflow",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{className:"primary"}),Object(re.jsx)("th",{children:"Course Name"}),Object(re.jsx)("th",{children:"Default Male Tee"}),Object(re.jsx)("th",{children:"Default Female Tee"})]})}),Object(re.jsx)("tbody",{children:this.state.courses.length?this.state.courses.map((function(t,s){return Object(re.jsxs)("tr",{children:[Object(re.jsxs)("td",{className:"primary",children:[Object(re.jsx)(g.a,{onClick:function(){var s=e.state.courses.map((function(e){return e.CourseId===t.CourseId?(t.isChecked=!t.isChecked,t):e}));e.setState({courses:s})},checked:t.isChecked,id:t.CourseId+".is_checked",value:!0,name:t.CourseId+".is_checked",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:t.CourseId+".is_checked"})]}),Object(re.jsx)("td",{children:t.CourseName.length>20?t.CourseName.slice(0,20)+"...":t.CourseName}),Object(re.jsx)("td",{children:0===t.TeeSets.length||0===t.TeeSets.filter((function(e){return"Male"===e.Gender})).length?"No Tee Available":Object(re.jsx)(g.a,{name:t.CourseId+".default_male",id:t.CourseId+".default_male",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{label:"None",value:null}].concat(Object(We.a)(t.TeeSets.filter((function(e){return"Male"===e.Gender}))))})}),Object(re.jsx)("td",{children:0===t.TeeSets.length||0===t.TeeSets.filter((function(e){return"Female"===e.Gender})).length?"No Tee Available":Object(re.jsx)(g.a,{name:t.CourseId+".default_female",id:t.CourseId+".default_female",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{label:"None",value:null}].concat(Object(We.a)(t.TeeSets.filter((function(e){return"Female"===e.Gender}))))})})]},s)})):Object(re.jsx)("td",{colSpan:4,children:Object(re.jsx)("span",{children:"No courses at the current facility"})})})]})})}),Object(re.jsxs)("div",{className:"row",children:[this.state.error&&Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error})}),Object(re.jsxs)("div",{className:"col auto push-right",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({isPrimary:!e.state.isPrimary})},checked:this.state.isPrimary,id:"is_primary",value:!0,name:"is_primary",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"is_primary",children:"Primary Facility"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){e.goBack()},children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",disabled:i||n||0===this.state.courses.length||0===this.state.courses.filter((function(e){return e.isChecked})).length,children:"Save"})})]})]}):this.state.loading?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"facility-name",children:["Facility Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{onChange:function(t,s,a){s&&(e.setState({loading:!0}),Zo.getById(s.value).then((function(t){var a=[];Promise.all(t.map((function(e){return ar.getCourseDetails(e.CourseId).then((function(e){var t=e;t.TeeSets=e.TeeSets.map((function(e){return Object(j.a)(Object(j.a)({},e),{label:e.TeeSetRatingName,value:e.TeeSetRatingId})})).sort((function(e,t){return e.label>t.label?1:-1})),t.isChecked=!0,a.push(t)})).catch((function(e){console.error(e)}))}))).then((function(t){a.sort((function(e,t){return e.CourseName>t.CourseName?1:-1})),e.setState({facility:s,courses:a,loading:!1},(function(){e.state.courses.map((function(t){return e.props.change(t.CourseId+".is_checked",!0),null})),e.props.change("is_primary",!0)}))})).catch((function(e){console.error(e)}))})).catch((function(e){console.log(e)})))},defaultOptions:this.state.facilities,loadOptions:ho()(this.getFacilities,1e3),component:Ho,noOptionsMessage:"Please select the facility",searchable:!0,type:"text",autoComplete:"off",validate:[he],id:"name",maxMenuHeight:170,name:"name",placeholder:"Enter Facility Name"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col"})})]})})}}]),s}(a.Component);ir=Object(_.a)({form:"addHomeCourseForm",destroyOnUnmount:!0})(ir);var nr=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(ir)),or=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Home Course and Default Tees"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(nr,{assocId:this.props.assocId,clubId:this.props.clubId,closeModal:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),rr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={facility:null,courses:[],isPrimary:!0,loading:!0},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e,t,s){var a=this,i=[];this.state.courses.map((function(t){var s={};return e[t.CourseId].is_checked?(s.course_id=t.CourseId,e[t.CourseId]&&e[t.CourseId].id&&(s.id=e[t.CourseId].id),e[t.CourseId]&&e[t.CourseId].default_male&&(s.default_male_tee_id=e[t.CourseId].default_male.value),e[t.CourseId]&&e[t.CourseId].default_female&&(s.default_female_tee_id=e[t.CourseId].default_female.value)):e[t.CourseId].id&&(s={id:e[t.CourseId].id,delete:!0}),(s.course_id||s.id)&&i.push(s),null}));var n={facility:{is_primary:e.is_primary,facility_id:this.props.facility.facility_id,home_courses:i}};return Zt.updateClubHomeCourses(s.facility.id,s.clubId.id,n).then((function(e){s.addAlert({type:"success",message:"Home Courses successfully edited!"}),a.props.closeModal(e)})).catch((function(e){var t="";throw Array.isArray(e.data.errors)?e.data.errors.map((function(e){return t+=e+"<br/>",null})):t=e.data.errors,new O.a({name:t})}))}},{key:"componentDidMount",value:function(){var e=this,t=[];Zo.getById(this.props.facility.facility_id).then((function(s){Promise.all(s.map((function(s){return ar.getCourseDetails(s.CourseId).then((function(a){var i=a;i.TeeSets=a.TeeSets.map((function(e){return Object(j.a)(Object(j.a)({},e),{label:e.TeeSetRatingName,value:e.TeeSetRatingId})})).sort((function(e,t){return e.label>t.label?1:-1})),i.isChecked=e.props.facility.home_courses.filter((function(e){return s.CourseId===e.course_id})).length>0,t.push(i)})).catch((function(e){console.error(e)}))}))).then((function(s){t.sort((function(e,t){return e.CourseName>t.CourseName?1:-1})),e.setState({courses:t,loading:!1,isPrimary:e.props.facility.is_primary},(function(){var t={};e.state.courses.map((function(e){return t[e.CourseId]={is_checked:!1},null})),e.props.facility.home_courses.map((function(e){return t[e.course_id]={is_checked:!0,id:e.id,default_male:e.default_tee_male?{value:parseInt(e.default_tee_male.id),label:e.default_tee_male.name}:"",default_female:e.default_tee_female?{value:parseInt(e.default_tee_female.id),label:e.default_tee_female.name}:""},null})),e.props.initialize(Object(j.a)(Object(j.a)({},{is_primary:e.props.facility.is_primary,facility_id:e.props.facility_id}),t))}))})).catch((function(e){console.error(e)}))})).catch((function(e){console.error(e)})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:this.state.loading?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:this.props.facility.name})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("p",{className:"form__description",children:"Please select Home Courses and Default Tees (not required) below. If this facility is the Primary Facility, check the checkbox below."})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("table",{className:"data__table normal-overflow",children:[Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{className:"primary"}),Object(re.jsx)("th",{children:"Course Name"}),Object(re.jsx)("th",{children:"Default Male Tee"}),Object(re.jsx)("th",{children:"Default Female Tee"})]})}),Object(re.jsx)("tbody",{children:this.state.courses.length>0&&this.state.courses.map((function(t,s){return Object(re.jsxs)("tr",{children:[Object(re.jsxs)("td",{className:"primary",children:[Object(re.jsx)(g.a,{onClick:function(s){if(!e.props.cantRemove||1!==e.state.courses.filter((function(e){return e.isChecked})).length||!t.isChecked){var a=e.state.courses.map((function(e){return e.CourseId===t.CourseId?(t.isChecked=!t.isChecked,t):e}));e.setState({courses:a})}},onChange:function(s){e.props.cantRemove&&1===e.state.courses.filter((function(e){return e.isChecked})).length&&t.isChecked&&s.preventDefault()},checked:t.isChecked,id:t.CourseId+".is_checked",value:!0,name:t.CourseId+".is_checked",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:t.CourseId+".is_checked"})]}),Object(re.jsx)("td",{children:t.CourseName.length>20?t.CourseName.slice(0,20)+"...":t.CourseName}),Object(re.jsx)("td",{children:0===t.TeeSets.length||0===t.TeeSets.filter((function(e){return"Male"===e.Gender})).length?"No Tee Available":Object(re.jsx)(g.a,{name:t.CourseId+".default_male",id:t.CourseId+".default_male",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{label:"None",value:null}].concat(Object(We.a)(t.TeeSets.filter((function(e){return"Male"===e.Gender}))))})}),Object(re.jsx)("td",{children:0===t.TeeSets.length||0===t.TeeSets.filter((function(e){return"Female"===e.Gender})).length?"No Tee Available":Object(re.jsx)(g.a,{name:t.CourseId+".default_female",id:t.CourseId+".default_female",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{label:"None",value:null}].concat(Object(We.a)(t.TeeSets.filter((function(e){return"Female"===e.Gender}))))})})]},s)}))})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col auto push-right",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({isPrimary:!e.state.isPrimary})},checked:this.state.isPrimary,id:"is_primary",value:!0,name:"is_primary",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"is_primary",children:"Primary Facility"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){e.props.closeModal()},children:"Close"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",disabled:i||n||0===this.state.courses.length,children:"Save"})})]})]})})}}]),s}(a.Component);rr=Object(_.a)({form:"editHomeCourseForm",destroyOnUnmount:!0})(rr);var cr=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(rr)),lr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Home Course and Default Tees"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(cr,{assocId:this.props.assocId,cantRemove:this.props.cantRemove,facility:this.props.facility,clubId:this.props.clubId,closeModal:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),dr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={clubs:[],courses:[],showKeyboard:a.props.data.show_keyboard},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.data;e.clubs.map((function(e){return e.value=e.club_id,e.label=e.club_name,e.id=e.club_id,e}));var t=(e.default_course_name.length-1)/2,s=e.default_course_name.substring(0,t);s===e.default_course_name.substring(t+1,e.default_course_name.length)&&(e.default_course_name=s),e.default_course={value:e.default_course,label:e.default_course_name},this.props.initialize(e),this.getHomeCourses(e.clubs),this.getAllClubs(e),this.props.onRef(this)}},{key:"getAllClubs",value:function(e){var t=this;rs.getAllClubs(this.props.associationId).then((function(s){var a=s.clubs;a.map((function(e){return e.value=e.id,e.label=e.club_name,e})),t.setState({clubs:a.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))},(function(){t.props.change("clubs",e.clubs)}))})).catch((function(e){}))}},{key:"getHomeCourses",value:function(e){var t=this,s=this.props.data,a=e.map((function(e){return Zo.facilityHomeCourses(e.id)}));Promise.all(a).then((function(e){var a=[];if(e.forEach((function(e){e.facilities.length>0&&e.facilities.map((function(e){return a.push(e)}))})),a){var i,n=a.map((function(e){return e.home_courses.map((function(t){return t.value=t.course_id,t.label=t.name===e.name?t.name:"".concat(e.name," ").concat(t.name),t}))})).reduce((function(e,t){return e.concat(t)}),[]).filter((i={},function(e){return!(i[e.course_id]=e.course_id in i)}));t.setState({courses:n},(function(){var e=t.state.courses.filter((function(e){return e.value===s.default_course}))[0];t.props.change("default_course",e)}))}})).catch((function(e){console.log(e)}))}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.clubs=s.clubs.map((function(e){return e.id})),s.default_course=s.default_course.value,Zt.updateKiosk(this.props.associationId,this.props.clubId,this.props.data.id,s).then((function(e){t.props.closeModal()})).catch((function(e){}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"club_display_name",children:["Kiosk Display Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,type:"text",autoComplete:"off",name:"club_display_name",id:"club_display_name"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"nickname",children:"Nickname"}),Object(re.jsx)(g.a,{component:ce,type:"text",autoComplete:"off",name:"nickname",id:"nickname"})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"clubs",children:["Club(s) ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[me],name:"clubs",component:yt,onChange:function(t){t.length>0?e.getHomeCourses(t):e.setState({courses:[]})},className:"react-select-container",classNamePrefix:"react-select",options:this.state.clubs,isSearchable:!1,isMulti:!0})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"default-course",children:["Default Course ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"default_course",component:yt,noOptionsMessage:"Home Courses and Default Tees needs to be configured prior to completing the Kiosk setup.",className:"react-select-container",classNamePrefix:"react-select",options:this.state.courses,isSearchable:!1,isMulti:!1})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("span",{className:"label",htmlFor:"club-name",children:"On-Screen Keyboard"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{id:"show-keyboard-yes",value:"true",onClick:function(){e.setState((function(e){return{showKeyboard:!e.showKeyboard}}))},name:"show_keyboard",component:"input",checked:this.state.showKeyboard,className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show-keyboard-yes",children:"On"}),Object(re.jsx)(g.a,{id:"show-keyboard-no",value:"false",name:"show_keyboard",onClick:function(){e.setState((function(e){return{showKeyboard:!e.showKeyboard}}))},checked:!this.state.showKeyboard,className:"simple__radio",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"show-keyboard-no",children:"Off"})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",disabled:i,ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);dr=Object(_.a)({form:"editKioskForm",destroyOnUnmount:!0})(dr);var ur=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({},e)}))(Ve(dr)),hr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Kiosk"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(ur,{data:this.props.data,closeModal:this.props.closeModal,clubId:this.props.clubId,associationId:this.props.associationId})})]})})}}]),s}(a.Component),pr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={AddKioskModalIsOpen:!1,EditKioskModalIsOpen:!1,selectedKioskSetup:null,AddHomeCourseModalIsOpen:!1,EditHomeCourseModalIsOpen:!1,confirmKioskSetupDelete:!1,confirmKioskName:null,confirmKioskId:null,kiosk_setups:[],editingCourse:null,openDeleteConfirmation:!1,homeCourses:[],kisok_setups:[],facilities:[],editingFacility:null,toDelete:null,loading:!0},a.openAddMKioskModal=a.openAddMKioskModal.bind(Object(b.a)(a)),a.openAddHomeCourseModal=a.openAddHomeCourseModal.bind(Object(b.a)(a)),a.openEditHomeCourseModal=a.openEditHomeCourseModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openAddMKioskModal",value:function(){this.setState({AddKioskModalIsOpen:!0})}},{key:"openAddHomeCourseModal",value:function(){this.setState({AddHomeCourseModalIsOpen:!0})}},{key:"openEditHomeCourseModal",value:function(e){this.setState({editingFacility:this.state.facilities.filter((function(t){return t.id===e}))[0],EditHomeCourseModalIsOpen:!0})}},{key:"closeModal",value:function(e){this.setState({AddKioskModalIsOpen:!1,AddHomeCourseModalIsOpen:!1,EditHomeCourseModalIsOpen:!1,EditKioskModalIsOpen:!1,loading:!!e,homeCourses:e?[]:this.state.homeCourses}),e&&this.getHomeCourses()}},{key:"componentDidMount",value:function(){this.getHomeCourses(),this.getKiosks()}},{key:"getKiosks",value:function(){var e=this;Zt.getKiosks(this.props.match.params.association_id,this.props.match.params.id).then((function(t){var s=t.kiosk_setups;e.setState({kiosk_setups:s})})).catch((function(e){}))}},{key:"deleteKioskSetup",value:function(){var e=this;Zt.deleteKiosk(this.props.match.params.association_id,this.props.match.params.id,this.state.confirmKioskId).then((function(t){e.setState({confirmKioskSetupDelete:!1,confirmKioskName:null,confirmKioskId:null},(function(){e.getKiosks()}))}))}},{key:"getHomeCourses",value:function(){var e=this;Zt.getClubHomeCourses(this.props.match.params.association_id,this.props.match.params.id).then((function(t){var s=[];t.facilities.length>0&&t.facilities.map((function(e){return e.home_courses.map((function(t){return s.push(Object(j.a)(Object(j.a)({},t),{id:t.id,isPrimary:e.is_primary,facilityId:e.facility_id,facilityNumber:e.id,facilityName:e.name,courseName:t.name,city:t.city,state:t.state,defaultTeeMale:t.default_tee_male?t.default_tee_male.name:"",defaultTeeFemale:t.default_tee_female?t.default_tee_female.name:""})),null})),null})),s.sort((function(e,t){var s=e.facilityName.toUpperCase(),a=t.facilityName.toUpperCase();if(s<a)return-1;if(s>a)return 1;var i=e.courseName.toUpperCase(),n=t.courseName.toUpperCase();return i<n?-1:i>n?1:0})),e.setState({loading:!1,homeCourses:s,facilities:t.facilities})})).catch((function(e){console.error(e)}))}},{key:"removeHomeCourse",value:function(){var e=this;Zt.removeClubHomeCourses(this.state.toDelete.facilityId,this.state.toDelete.facilityNumber,this.props.club.id,this.state.toDelete.courseId).then((function(t){e.setState({openDeleteConfirmation:!1,toDelete:null,loading:!0,homeCourses:[]}),e.props.addAlert({type:"success",message:"Course successfully removed from your Home Course List!"}),e.getHomeCourses()})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Facility Name",accessor:"facilityName",colClassName:"col_email-address",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[e.value.length>25?e.value.slice(0,25)+"...":e.value," ",!0===e.original.isPrimary?Object(re.jsx)("span",{className:"fa fa-flag blue small margin-left absolute line-height-18"}):""]})}},{Header:"Course Name",accessor:"courseName"},{Header:"City",accessor:"city"},{Header:"State/Prov.",accessor:"state"},{Header:"Default Male Tee",accessor:"defaultTeeMale"},{Header:"Default Female Tee",accessor:"defaultTeeFemale"},{Header:"",accessor:"edit",colClassName:"col_edit",show:this.props.canEditClub,Cell:function(t){return Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.openEditHomeCourseModal(t.original.facilityNumber)},children:"Edit"})}},{Header:"",accessor:"remove",colClassName:"col_remove",show:this.props.canEditClub&&!("Type 1"===this.props.club.club_type&&1===this.state.homeCourses.length),Cell:function(t){return Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({toDelete:{facilityId:t.original.facilityId,facilityNumber:t.original.facilityNumber,courseId:t.original.id,courseName:t.original.courseName,facilityName:t.original.facilityName},openDeleteConfirmation:!0})},children:"Remove"})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Home Courses and Default Tee"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsxs)("span",{style:{display:"inline-flex"},children:[Object(re.jsx)("i",{className:"fa fa-flag blue big margin-right"}),Object(re.jsx)("span",{className:"fa-flag-image-text",children:"Primary Facility"})]})}),this.props.canEditClub&&Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("button",{onClick:function(){return e.openAddHomeCourseModal()},className:"btn fill green",children:"Add Home Course"})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)($t,{idKey:"id",hidePagination:!0,columns:t,loading:this.state.loading,hideSelect:!0,data:this.state.homeCourses,ref:function(t){return e.table=t},sortable:!1})})})]})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Kiosk Setup"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.canEditClub&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-5 push-right",children:Object(re.jsx)("button",{onClick:function(){return e.openAddMKioskModal()},className:"btn fill green",children:"Add Kiosk"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_nickname"}),Object(re.jsx)("col",{className:""}),Object(re.jsx)("col",{className:""}),Object(re.jsx)("col",{className:""}),Object(re.jsx)("col",{className:"col_url"}),this.props.canEditClub&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("col",{className:"col_edit"}),Object(re.jsx)("col",{className:"col_delete"})]})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Nickname"}),Object(re.jsx)("th",{children:"Club(s)"}),Object(re.jsx)("th",{children:"Kiosk Display Name"}),Object(re.jsx)("th",{children:"Default Course"}),Object(re.jsx)("th",{children:"Url"}),this.props.canEditClub&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("th",{}),Object(re.jsx)("th",{})]})]})}),Object(re.jsx)("tbody",{children:this.state.loading?Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:this.props.canEditClub?9:7,children:Object(re.jsx)("span",{className:"data-table__loader"})})}):Object(re.jsxs)(a.Fragment,{children:[0===this.state.kiosk_setups.length&&Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:"9",children:Object(re.jsx)("h1",{children:"No data available."})})}),this.state.kiosk_setups.length>0&&this.state.kiosk_setups.map((function(t){return Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:t.nickname}),Object(re.jsx)("td",{children:t.clubs.map((function(e){return Object(re.jsxs)(a.Fragment,{children:[e.club_name," ",Object(re.jsx)("br",{})]})}))}),Object(re.jsx)("td",{children:t.club_display_name}),Object(re.jsx)("td",{children:t.default_course_name}),Object(re.jsxs)("td",{children:["https://kiosk.usga.org/",t.url]}),e.props.canEditClub&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("td",{children:Object(re.jsx)("button",{className:"btn lnk",onClick:function(s){s.preventDefault(),e.setState({selectedKioskSetup:t,EditKioskModalIsOpen:!0})},children:"Edit"})}),Object(re.jsx)("td",{children:Object(re.jsx)("button",{className:"btn lnk",onClick:function(s){s.preventDefault(),e.setState({confirmKioskSetupDelete:!0,confirmKioskName:t.nickname,confirmKioskId:t.id})},children:"Delete"})})]})]},t.id)}))]})})]})})})]})]})})})]}),Object(re.jsx)(et.a,{isOpen:this.state.AddKioskModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(sr,{clubName:this.props.clubName,facility:this.state.editingFacility,clubId:this.props.match.params.id,associationId:this.props.match.params.association_id,closeModal:function(){e.closeModal(),e.getKiosks()}})}),Object(re.jsx)(et.a,{isOpen:this.state.EditKioskModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(hr,{facility:this.state.editingFacility,data:this.state.selectedKioskSetup,clubId:this.props.match.params.id,associationId:this.props.match.params.association_id,closeModal:function(){e.closeModal(),e.getKiosks()}})}),Object(re.jsx)(et.a,{isOpen:this.state.AddHomeCourseModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(or,{assocId:this.props.associationId,clubId:this.props.match.params.id,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.EditHomeCourseModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(lr,{assocId:this.props.associationId,facility:this.state.editingFacility,clubId:this.props.club,cantRemove:"Type 1"===this.props.club.club_type&&1===this.state.homeCourses.length,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(ca,{question:"Are you sure you want to delete ".concat(this.state.confirmKioskName," Kiosk Setup?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({confirmKioskSetupDelete:!1})},onConfirmAction:function(){return e.deleteKioskSetup()},openModal:this.state.confirmKioskSetupDelete,closeModal:function(){return e.setState({confirmKioskSetupDelete:!1})}}),Object(re.jsx)(ca,{question:"Confirm",bodyQuestion:"Are you sure you want to remove  ".concat(this.state.toDelete?this.state.toDelete.facilityName:""," > ").concat(this.state.toDelete?this.state.toDelete.courseName:""," from your Home Course List?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({openDeleteConfirmation:!1})},onConfirmAction:function(){e.removeHomeCourse()},openModal:this.state.openDeleteConfirmation,closeModal:function(){return e.setState({openDeleteConfirmation:!1})}})]})}}]),s}(a.Component);var mr=Object(p.c)((function(e){return{club:e.club}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Object(u.o)(pr)),br=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"vertical-tabs__container row",children:[Object(re.jsxs)("ul",{className:"vertical-tabs col",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/primary"),children:"Primary"})}),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("li",{children:Object(re.jsxs)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/home-courses-and-kiosk-setup"),children:["Home Courses & ",Object(re.jsx)("br",{})," Kiosk Setup"]})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/membership-types"),children:"Membership Types"})})]}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/manage-users"),children:"Manage Users"})})]}),Object(re.jsx)("div",{className:"vertical-tabs__panel col",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/primary")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/primary"),component:function(t){return Object(re.jsx)(qo,{canEditClub:e.props.canEditClub,canEditAssociation:e.props.canEditAssociation,associationId:e.props.associationId,association:e.props.association,club:e.props.club})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/home-courses-and-kiosk-setup"),component:function(){return Object(re.jsx)(mr,{canEditClub:e.props.canEditClub,club:e.props.club,clubName:e.props.clubName})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/membership-types"),component:function(){return Object(re.jsx)($o,{canEditClub:e.props.canEditClub,canEditAssociation:e.props.canEditAssociation,association:e.props.association,club:e.props.club})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/manage-users"),component:function(){return Object(re.jsx)(Qo,{canEditClub:e.props.canEditClub,club:e.props.club,canEditAssociation:e.props.canEditAssociation})}})]})})]})})}}]),s}(a.Component);var jr=Object(p.c)((function(e){return{user_type:e.user.access.user_type}}),null)(Object(u.o)(br)),fr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={allSelected:!1,data:[],sortKeyHistory:"name",sortDirection:"asc",lastSelectedIndex:"name"},a.handleInputChange=a.handleInputChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this.props.golfers;e&&(e=e.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),this.setState({data:e}))}},{key:"componentDidUpdate",value:function(e,t,s){if(e.golfers!==this.props.golfers){var a=this.props.golfers;a&&(a=a.sort((function(e,t){return e.name.toString().localeCompare(t.name.toString())})),this.setState({data:a}))}}},{key:"handleInputChange",value:function(e,t){var s=this;if(this.props.isMain)if(t.shiftKey){var a=this.state.lastSelectedIndex,i=this.state.data.indexOf(e);i<a&&(a=i,i=this.state.lastSelectedIndex);var n=JSON.parse(JSON.stringify(this.state.data)).slice(a,i+1);this.setState({lastSelectedIndex:null}),n.map((function(e){return s.props.toggleAvailableAssociation(e.id,!0)}))}else this.setState({lastSelectedIndex:this.state.data.indexOf(e)}),this.props.toggleAvailableAssociation(e.id,t.target.checked);else if(t.shiftKey){var o=this.state.lastSelectedIndex,r=this.state.data.indexOf(e);r<o&&(o=r,r=this.state.lastSelectedIndex);var c=JSON.parse(JSON.stringify(this.state.data)).slice(o,r+1);this.setState({lastSelectedIndex:null}),c.map((function(e){return s.props.toggleSelectedAssociation(e.id,!0)}))}else this.setState({lastSelectedIndex:this.state.data.indexOf(e)}),this.props.toggleSelectedAssociation(e.id,t.target.checked)}},{key:"handleCheckAll",value:function(e){this.props.isMain?this.props.toggleAllAvailable(e.target.checked):this.props.toggleAllSelected(e.target.checked)}},{key:"onSort",value:function(e,t){var s=this.state.data,a=this.state.sortKeyHistory,i=this.state.sortDirection;a===t?"desc"===i?(i="asc",s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})).reverse()):(i="desc",s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())}))):s.sort((function(e,s){return e[t].toString().localeCompare(s[t].toString())})),this.setState({data:s,sortKeyHistory:t,sortDirection:i})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(ia.a,{width:"100%",height:"493px",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_checkbox"}),Object(re.jsx)("col",{}),Object(re.jsx)("col",{className:"col_status"}),Object(re.jsx)("col",{className:"col_id golfers"}),Object(re.jsx)("col",{className:"col_status"}),Object(re.jsx)("col",{className:"col_status"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsxs)("th",{children:[Object(re.jsx)("input",{onChange:function(t){e.handleCheckAll(t)},checked:this.props.checkAll,type:"checkbox",name:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all"),id:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all")}),Object(re.jsx)("label",{htmlFor:"".concat(this.props.toggleSelectedAssociation?"left-":"right-","all")})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"name")},children:["Name ","name"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"handicap_index")},children:["H.I. ","handicap_index"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"id")},children:["GHIN # ","id"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"gender")},children:["Gender ","gender"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]}),Object(re.jsxs)("th",{className:"rt-resizable-header -sort-asc -cursor-pointer",onClick:function(t){return e.onSort(t,"status")},children:["Status ","status"===this.state.sortKeyHistory&&Object(re.jsx)("i",{className:"material-icons-outlined",children:"asc"===this.state.sortDirection?"arrow_drop_up":"arrow_drop_down"})]})]})}),Object(re.jsxs)("tbody",{children:[!this.state.data.length&&Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:"100%",children:"No records to display"})}),this.state.data.map((function(t){return Object(re.jsxs)("tr",{"data-checked":t.checked,children:[Object(re.jsxs)("td",{children:[Object(re.jsx)("input",{type:"checkbox",checked:t.checked,onChange:function(s){return e.handleInputChange(t,s)},name:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id),id:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id)}),Object(re.jsx)("label",{htmlFor:"".concat(e.props.toggleSelectedAssociation?"left-":"right-").concat(t.id)})]}),Object(re.jsx)("td",{children:t.name}),Object(re.jsx)("td",{children:t.handicap_index}),Object(re.jsx)("td",{children:t.id}),Object(re.jsx)("td",{children:t.gender}),Object(re.jsx)("td",{children:t.status})]},t.id)}))]})]})})}}]),s}(a.Component),Or=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100)}},{key:"onChange",value:function(){this.setState({error:!1,errors:[]})}},{key:"onSubmit",value:function(e){var t=this;Bt.createGolferGroup(this.props.clubId,e).then((function(e){t.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=e.golfer_group;s.label=s.name,s.value=s.id,t.props.selectGroup(s),t.props.closeModal()})).catch((function(e){e.data&&t.setState({error:!0,errors:e.data.errors})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Golfer Group"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Golfer Group Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"tests",validate:[he],component:ce,type:"text",name:"name",id:"name",onChange:function(t){e.onChange()}})]})}),this.state.error&&Object.keys(this.state.errors).map((function(t){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:e.state.errors[t]})})},t)})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Submit"})})]})]})})]})})}}]),s}(a.Component);Or=Object(_.a)({form:"addClubGroupForm",destroyOnUnmount:!0})(Or);var gr=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(Or),_r=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={error:!1,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize(this.props.selectedGroup),setTimeout((function(){document.getElementsByTagName("form")[0].querySelector("input").focus()}),100)}},{key:"onChange",value:function(){this.setState({error:!1,errors:[]})}},{key:"onSubmit",value:function(e){var t=this;Bt.updateGolferGroup(this.props.clubId,this.props.selectedGroup.id,{name:e.name}).then((function(e){t.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=e.golfer_group;s.label=s.name,s.value=s.id,t.props.selectGroup(s),t.props.closeModal()})).catch((function(e){e.data&&t.setState({error:!0,errors:e.data.errors})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",onClick:function(){return e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Golfer Group"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Golfer Group Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"tests",validate:[he],component:ce,type:"text",name:"name",id:"name",onChange:function(t){e.onChange()}})]})}),this.state.error&&Object.keys(this.state.errors).map((function(t){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:e.state.errors[t]})})},t)})),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",disabled:i||n,className:"btn fill blue",children:"Submit"})})]})]})})]})})}}]),s}(a.Component);_r=Object(_.a)({form:"editClubGroupForm",destroyOnUnmount:!0})(_r);var vr=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0}}),(function(e){return Object(v.b)({addAlert:Pe},e)}))(_r),xr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){a.setState({filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))},(function(){a.updateTable()}))},a.updateTable=us()((function(){var e=qs.filtersToArray(a.state.filters);a.props.updateFiltered(e)}),500),a.state={filters:{full_name:null,membership_code:[],gender:null}},a}return Object(c.a)(s,[{key:"reset",value:function(){var e=this;this.setState({filters:{full_name:null,membership_code:[],gender:null}},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.full_name||"",name:"association-name",id:"association-name",onChange:function(t){e.updateFilter("full_name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{singleChoice:!0,options:["Active","Inactive"],value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Membership Status"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:this.props.membershipTypes,value:this.state.filters.membership_code,onChange:function(t){return e.updateFilter("membership_code",t)},label:"Membership Code (MC)"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{label:"Male",value:"M"},{label:"Female",value:"F"}],value:this.state.filters.gender,onChange:function(t){return e.updateFilter("gender",t)},label:"Gender"})})]})})})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),yr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).generateGolferName=function(e){return e.last_name+(e.suffix?" "+e.suffix+", ":", ")+(e.prefix?e.prefix+" ":"")+e.first_name+" "+(e.middle_name?e.middle_name:"")},a.state={addGolferGroupModalIsOpen:!1,editGolferGroupModalIsOpen:!1,openDeleteConfirmation:!1,checkAllAvailable:!1,checkAllSelected:!1,loaded:!1,availableGolfers:[],initialGolfersState:[],selectedGolfers:[],golferGroupOptions:[],selectedGroup:null,tempMovedGolfers:[],filters:[],initialClubsLength:0,membershipTypes:[]},a.openAddGolferGroupModal=a.openAddGolferGroupModal.bind(Object(b.a)(a)),a.toggleAvailableClubs=a.toggleAvailableClubs.bind(Object(b.a)(a)),a.togleSelectedClub=a.togleSelectedClub.bind(Object(b.a)(a)),a.toggleAllAvailable=a.toggleAllAvailable.bind(Object(b.a)(a)),a.toggleAllSelected=a.toggleAllSelected.bind(Object(b.a)(a)),a.onGroupChange=a.onGroupChange.bind(Object(b.a)(a)),a.deleteGroup=a.deleteGroup.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"getMembershipTypes",value:function(){var e=this;Zt.getMembershipTypes(this.props.match.params.id).then((function(t){e.setState({membershipTypes:t.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){console.error(e)}))}},{key:"openAddGolferGroupModal",value:function(){this.setState({addGolferGroupModalIsOpen:!0})}},{key:"closeModal",value:function(){this.setState({addGolferGroupModalIsOpen:!1})}},{key:"getGroups",value:function(e){var t=this;Bt.getGroups(this.props.match.params.id).then((function(s){var a=s.golfer_groups.map((function(e){return e.value=e.id,e.label=e.name,e}));t.setState({golferGroupOptions:a},e)})).catch((function(e){}))}},{key:"deleteGroup",value:function(){var e=this;Bt.deleteGolferGroup(this.props.match.params.id,this.state.selectedGroup.id).then((function(){e.props.addAlert({type:"success",message:"Group has been successfully deleted"}),e.setState({selectedGroup:null,openDeleteConfirmation:!1}),e.getGroups(),e.onGroupChange(null)})).catch((function(e){}))}},{key:"updateGroup",value:function(){var e=this,t=this.state.selectedGolfers.map((function(e){return e.id})),s={name:this.state.selectedGroup.name,golfer_ids:t};Bt.updateGolferGroup(this.props.match.params.id,this.state.selectedGroup.id,s).then((function(t){e.props.addAlert({type:"success",message:"Group has been successfully saved"});var s=t.golfer_group;s.label=s.name,s.value=s.id,e.setState({selectedGroup:s}),e.getGroups()})).catch((function(e){console.error(e)}))}},{key:"getClubs",value:function(){var e=this,t={};t=Object(j.a)(Object(j.a)({},t),qs.filtersArrayToParams(this.state.filters)),this.state.selectedGroup&&(t.not_in_group=this.state.selectedGroup.id),Bt.getAllGolfers(this.props.match.params.id,t).then((function(t){var s=t.golfers;s.map((function(t){return t.checked=!1,t.name=e.generateGolferName(t),t})),s=Mi()(s,e.state.selectedGolfers,(function(e){return e.id})),s=St()([].concat(Object(We.a)(s),Object(We.a)(e.state.tempMovedGolfers)),(function(e){return e.id})),e.setState({loaded:!0,availableGolfers:s,initialGolfersState:s})}))}},{key:"componentDidMount",value:function(){var e=this;et.a.setAppElement("body"),this.getGroups(),this.getClubs(),this.getMembershipTypes(),Bt.getAllGolfers(this.props.match.params.id).then((function(t){var s=t.golfers;s.map((function(t){return t.checked=!1,t.name=e.generateGolferName(t),t})),e.setState({initialClubsLength:s.length})}))}},{key:"componentDidUpdate",value:function(e,t,s){if(t.selectedGolfers!==this.state.selectedGolfers){var a=ki()(this.state.availableGolfers,this.state.selectedGolfers);this.setState({availableGolfers:a})}}},{key:"toggleAvailableClubs",value:function(e,t){var s=this.state.availableGolfers;s.forEach((function(s){s.id===e&&(s.checked=t)})),this.setState({availableGolfers:s})}},{key:"togleSelectedClub",value:function(e,t){var s=this.state.selectedGolfers;s.forEach((function(s){s.id===e&&(s.checked=t)})),this.setState({selectedGolfers:s})}},{key:"toggleAllAvailable",value:function(e){var t=this.state.availableGolfers;t.map((function(t){return t.checked=e})),this.setState({availableGolfers:t,checkAllAvailable:e})}},{key:"toggleAllSelected",value:function(e,t){var s=this.state.selectedGolfers;s.map((function(t){return t.checked=e})),this.setState({selectedGolfers:s,checkAllSelected:e},t)}},{key:"moveSelectedClubs",value:function(e){if("right"===e){var t=this.state.availableGolfers.filter((function(e){return!0===e.checked})).map((function(e){return e.checked=!1,e})),s=[].concat(Object(We.a)(this.state.selectedGolfers),Object(We.a)(t)),a=this.state.availableGolfers.filter((function(e){return s.indexOf(e)<0}));this.setState({selectedGolfers:s,availableGolfers:a,checkAllAvailable:!1})}else{var i=this.state.selectedGolfers.filter((function(e){return!0!==e.checked})),n=this.state.selectedGolfers.filter((function(e){return!0===e.checked})).map((function(e){return e.checked=!1,e})),o=[].concat(Object(We.a)(this.state.availableGolfers),Object(We.a)(n)),r=St()([].concat(Object(We.a)(this.state.tempMovedGolfers),Object(We.a)(n)),(function(e){return e.id}));this.setState({availableGolfers:o,tempMovedGolfers:r,selectedGolfers:i,checkAllSelected:!1})}}},{key:"onGroupChange",value:function(e){var t=this;this.setState({availableGolfers:this.state.initialGolfersState.map((function(e){return e.checked=!1,e})),selectedGolfers:[]},(function(){e&&(e.golfers.forEach((function(e){t.toggleAvailableClubs(e.golfer_id,!0)})),t.moveSelectedClubs("right")),t.setState({selectedGroup:e})}))}},{key:"updateFilter",value:function(e){var t=this;this.setState({filters:e},(function(){t.getClubs()}))}},{key:"render",value:function(){var e=this,t=this.state.availableGolfers.filter((function(e){return e.checked})).length,s=this.state.selectedGolfers.filter((function(e){return e.checked})).length,i=this.state.selectedGolfers.length+this.state.availableGolfers.length-this.state.selectedGolfers.length;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"assoc-g__head row",children:[Object(re.jsx)("div",{className:"col is-1-of-4",children:Object(re.jsx)(gt.a,{className:"react-select-container",classNamePrefix:"react-select",onChange:this.onGroupChange,isDisabled:!this.state.loaded,options:this.state.golferGroupOptions.sort((function(e,t){return e.label>t.label?1:-1})),isSearchable:!1,value:this.state.selectedGroup})}),this.props.canEditClub&&this.state.selectedGroup&&Object(re.jsx)("div",{className:"col is-1-of-4 push-left",children:Object(re.jsxs)("ul",{className:"assoc-g__controls",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn",onClick:function(t){t.preventDefault(),e.setState({editGolferGroupModalIsOpen:!0})},children:"Edit Name"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{className:"btn",onClick:function(t){t.preventDefault(),e.setState({openDeleteConfirmation:!0})},children:"Delete"})})]})}),this.props.canEditClub&&Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:this.openAddGolferGroupModal,children:"Add Group"})})]}),Object(re.jsx)(xr,{membershipTypes:this.state.membershipTypes,updateFiltered:this.updateFilter.bind(this)}),Object(re.jsxs)("div",{className:"assoc-g__body row",children:[Object(re.jsx)("div",{className:"col is-5-of-11",children:Object(re.jsxs)("div",{className:"assoc-g__column",children:[Object(re.jsxs)("div",{className:"assoc-g__column__head",children:["Available Golfers (",i<this.state.initialClubsLength?this.state.initialClubsLength-this.state.selectedGolfers.length:i,") ",(i<this.state.initialClubsLength?this.state.initialClubsLength-this.state.selectedGolfers.length:i)>this.state.availableGolfers.length&&Object(re.jsxs)(a.Fragment,{children:[" Filtered Golfers (",this.state.availableGolfers.length,")"]})]}),Object(re.jsx)("div",{className:"assoc-g__column__body",children:Object(re.jsx)(fr,{mainLabelName:"Club",checkAll:this.state.checkAllAvailable,isMain:!0,toggleAllAvailable:this.toggleAllAvailable,toggleAvailableAssociation:this.toggleAvailableClubs,golfers:this.state.availableGolfers})})]})}),Object(re.jsx)("div",{className:"col is-1-of-11",children:this.props.canEditClub&&Object(re.jsxs)("div",{className:"assoc-g__transition-controls",children:[Object(re.jsx)("button",{disabled:!this.state.selectedGroup||!t,className:"btn fill ".concat(this.state.selectedGroup&&t?"blue":"gray"),onClick:function(){return e.moveSelectedClubs("right")},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_right"})}),Object(re.jsx)("button",{disabled:!this.state.selectedGroup||!s,className:"btn fill ".concat(this.state.selectedGroup&&s?"blue":"gray"),onClick:function(){return e.moveSelectedClubs("left")},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"chevron_left"})})]})}),Object(re.jsx)("div",{className:"col is-5-of-11",children:Object(re.jsxs)("div",{className:"assoc-g__column",children:[Object(re.jsx)("div",{className:"assoc-g__column__head",children:this.state.selectedGroup&&"".concat(this.state.selectedGroup.name," (").concat(this.state.selectedGolfers.length,")")}),Object(re.jsx)("div",{className:"assoc-g__column__body",children:Object(re.jsx)(fr,{mainLabelName:"Club",checkAll:this.state.checkAllSelected,isMain:!1,toggleAllSelected:this.toggleAllSelected,toggleSelectedAssociation:this.togleSelectedClub,golfers:this.state.selectedGolfers})})]})})]}),this.props.canEditClub&&Object(re.jsxs)("div",{className:"assoc-g__foot row",children:[Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{disabled:!this.state.selectedGroup,className:"btn outline gray",onClick:function(t){t.preventDefault(),e.onGroupChange(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-8",children:Object(re.jsx)("button",{disabled:!this.state.selectedGroup,className:"btn fill blue",onClick:function(t){t.preventDefault(),e.updateGroup()},children:"Save Group"})})]}),Object(re.jsx)(et.a,{isOpen:this.state.addGolferGroupModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Add Association Group",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(gr,{clubId:this.props.match.params.id,selectGroup:function(t){e.getGroups(e.onGroupChange(t))},closeModal:function(){e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.editGolferGroupModalIsOpen,onRequestClose:function(){e.setState({editGolferGroupModalIsOpen:!1})},contentLabel:"Add Association Group",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(vr,{clubId:this.props.match.params.id,selectGroup:function(t){e.getGroups(e.onGroupChange(t))},closeModal:function(){return e.setState({editGolferGroupModalIsOpen:!1})},selectedGroup:this.state.selectedGroup})}),Object(re.jsx)(ca,{question:"Are you sure you want to delete ".concat(this.state.selectedGroup?this.state.selectedGroup.name:"","?"),confirmLabel:"Continue",cancelLabel:"Cancel",onCancelAction:function(){return e.setState({openDeleteConfirmation:!1})},onConfirmAction:this.deleteGroup,openModal:this.state.openDeleteConfirmation,closeModal:function(){return e.setState({openDeleteConfirmation:!1})}})]})}}]),s}(a.Component);var Nr=Object(p.c)(null,(function(e){return Object(v.b)({addAlert:Pe},e)}))(yr),Sr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={page:0,pages:0,total:0,per_page:10,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getLogs()}},{key:"getRequestParams",value:function(){return{page:this.state.page+1,per_page:this.state.per_page}}},{key:"getLogs",value:function(){var e=this;this.setState({loading:!0,logs:[]});var t=this.getRequestParams();Zt.getLogs(this.props.match.params.id,t).then((function(t){e.setState({loading:!1,logs:t.club_changes.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:t,date_and_time:e.date_and_time&&ue()(ue.a.utc(e.date_and_time).toDate()).format("MM/DD/YYYY HH:mm:ss"),change_code:e.change_code,new:e.details.length>0&&e.details.map((function(e){return e[0]})),old:e.details.length>0&&e.details.filter((function(e){return 2===e.length})).map((function(e){return e[1]})),username:e.username})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Date & Time",accessor:"date_and_time",colClassName:"col_date_and_time"},{Header:"Change Code",accessor:"change_code",colClassName:"col_change_code"},{Header:"New",accessor:"new",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.new.length>0&&e.row.new.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Old",accessor:"old",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.old.length>0&&e.row.old.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Username",accessor:"username",colClassName:"col_username"}];return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.logs,hideSelect:!0,sortable:!1,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.getLogs()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.getLogs()}))}})})}}]),s}(a.Component),Cr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={association:null,club:null,AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1,updateRosterList:!1},a.openGolferAddModal=a.openGolferAddModal.bind(Object(b.a)(a)),a.openClubAddModal=a.openClubAddModal.bind(Object(b.a)(a)),a.openAssocAddModal=a.openAssocAddModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openGolferAddModal",value:function(){this.setState({AddGolferModalIsOpen:!0})}},{key:"openClubAddModal",value:function(){this.setState({AddClubModalIsOpen:!0})}},{key:"openAssocAddModal",value:function(){this.setState({AddAssocModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&"golfer"===e.type&&this.props.history.push("/manage/association/".concat(e.golfer.association_id,"/club/").concat(e.golfer.club_id,"/golfer/").concat(e.golfer.id)),e&&"club"===e.type&&(this.props.updateClub(e.club),this.props.history.push("/manage/association/".concat(e.club.club.golf_association_id,"/club/").concat(e.club.club.id,"/account"))),this.setState({AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1})}},{key:"componentDidMount",value:function(){var e=this;et.a.setAppElement("body");var t=!1,s=this.props.rawAccess.clubs.filter((function(t){return parseInt(t.user_access.association_id)===parseInt(e.props.match.params.association_id)&&parseInt(t.club.id)===parseInt(e.props.match.params.id)}));s.length>0&&(t=!0),t?this.setState({association:{name:s[0].user_access.association_name,id:this.props.match.params.association_id}}):"association-read-only"===this.props.user_type||"association-admin"===this.props.user_type||"super-admin"===this.props.user_type?rs.getAssociation(this.props.match.params.association_id).then((function(t){e.setState({association:t})})).catch((function(e){console.log(e)})):this.setState({association:{name:this.props.association_name,id:this.props.match.params.association_id}}),Zt.getClub(this.props.match.params.association_id,this.props.match.params.id).then((function(t){e.setState({club:t}),e.props.updateClub(t)})).catch((function(e){console.error(e)}))}},{key:"reloadClub",value:function(e){var t=this;Zt.getClub(e.club.club.golf_association_id,e.club.club.id).then((function(e){t.setState({club:e}),t.props.updateClub(e)}))}},{key:"render",value:function(){var e=this;if(!this.state.club)return null;if("club-admin"!==this.props.user_type&&"club-read-only"!==this.props.user_type&&!this.state.association)return null;var t=Be(this.props.rawAccess),s=qe(t,this.state.association.id,null)||"super-admin"===this.props.user_type,i=qe(t,null,this.state.club.id)||"super-admin"===this.props.user_type;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{canSeeAssociationName:s,canSeeClubName:i,association:this.state.association,club:this.state.club}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)(ii,{title:this.props.clubName,updateRosterList:function(){return e.setState({updateRosterList:!e.state.updateRosterList})},reloadClub:function(t){return e.reloadClub(t)},association:this.state.association,club:this.state.club}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/list"),children:"Roster"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/group"),children:"Golfer Group"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/account"),children:"Account"})}),Ye(this.props.user_type,"edit-association")&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/audit-log"),children:"Audit Log"})})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/list")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/list"),render:function(){return Object(re.jsx)(Go,Object(j.a)(Object(j.a)({},e.props),{},{updateRosterList:e.state.updateRosterList,canEditClub:Ye(e.props.user_type,"edit-club"),club:e.state.club}))}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/group"),render:function(){return Object(re.jsx)(Nr,Object(j.a)({canEditClub:Ye(e.props.user_type,"edit-club")},e.props))}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/account"),render:function(){return Object(re.jsx)(jr,{canEditClub:Ye(e.props.user_type,"edit-club"),canEditAssociation:Ye(e.props.user_type,"edit-association"),clubName:e.state.club.club_name,club:e.state.club,association:e.state.association,associationId:parseInt(e.props.match.params.association_id)})}}),Ye(this.props.user_type,"edit-association")&&Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/audit-log"),render:function(){return Object(re.jsx)(Sr,Object(j.a)({},e.props))}})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var kr=Object(p.c)((function(e){return{rawAccess:e.user.rawAccess,user_type:e.user.access.user_type,association_name:e.user.access.default_association_name,clubName:e.club.club_name}}),(function(e){var t=Object(v.b)({updateClub:zo},e);return Object(j.a)({dispatch:e},t)}))(Object(u.o)(Cr)),Ar=s(486),Mr=Object(le.addValidator)({validator:function(e,t,s){var a=s.low_hi_value;if(parseFloat(a)&&(t&&(t.toString().startsWith("+")?-1*parseFloat(t):parseFloat(t))-a>5))return{defaultMessage:"This value is more than 5 strokes greater than the golfers Low Handicap Index. If this is ok, press \u201cSave\u201d to submit the modification."}}}),wr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={type:"handicapIndex",adjustmentType:"upwards",mType:"modification",confirmAction:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize({adjustment:"1.0",low_hi_value:this.props.golfer.low_hi_value})}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return delete s.low_hi_value,"handicapIndex"===this.state.type?(delete s.adjustment,s.type=this.state.mType,s.expiration_date=ue()(s.expiration_date).format("YYYY-MM-DD"),Bt.handicapModification(this.props.golfer.id,s).then((function(e){t.props.addAlert({type:"success",message:"The Handicap Index modification has been successfully applied!"}),t.props.closeModal(e)})).catch((function(e){e.data.errors&&e.data.errors.handicap_index&&(t.props.addAlert({type:"error",message:e.data.errors.handicap_index}),t.props.closeModal()),console.log(e)}))):(delete s.expiration_date,s.adjustment=parseFloat(s.adjustment),s.type=this.state.adjustmentType,Bt.adjustScore(this.props.golfer.id,s).then((function(e){t.props.addAlert({type:"success",message:"The adjustment of score differentials has been successfully requested!"}),t.props.closeModal(e)})).catch((function(e){console.log(e)})))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.valid,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:n?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsx)(a.Fragment,{children:this.state.confirmAction?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("h2",{children:["Are you sure you want to modify the Handicap Index for ",this.props.golfer.player_name,"?"]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",children:"Confirm"})})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({type:"handicapIndex"})},checked:"handicapIndex"===this.state.type,id:"handicapIndex",name:"handicapIndex",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"handicapIndex",children:"Set Handicap Index"})]})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({type:"adjustmentType"})},checked:"adjustmentType"===this.state.type,id:"adjustmentType",name:"adjustmentType",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"adjustmentType",children:"Adjust Score Differentials"})]})})]}),"handicapIndex"===this.state.type?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"value",children:["Modify H.I. ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,ye],warn:[Mr()],type:"text",name:"value",id:"value"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"expiration_date",children:["Expiration Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{minDate:new Date(ue()().add(1,"days")),maxDate:new Date(ue()().add(1,"years")),className:"date",validate:[he],showMonthDropdown:!0,showYearDropdown:!0,name:"expiration_date",id:"expiration_date",component:os,placeholder:"Select ... "})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({mType:"modification"===e.state.mType?"modification-up":"modification"})},checked:"modification-up"===this.state.mType,id:"modification",name:"modification",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"modification",children:"Modify H.I. against upward movement only."})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:i&&this.props.warnings&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.props.warnings.value})})})]}):Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"adjustment",children:["Adjustment ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he,Ae(1)],type:"text",name:"adjustment",id:"adjustment"})]}),Object(re.jsx)("div",{className:"col is-1-of-2 jc-fe",children:Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({adjustmentType:"upwards"})},checked:"upwards"===this.state.adjustmentType,id:"upwards",name:"upwards",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"upwards",children:"upwards"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({adjustmentType:"downwards"})},checked:"downwards"===this.state.adjustmentType,id:"downwards",name:"downwards",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"downwards",children:"downwards"})]})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",disabled:!i,onClick:function(){e.setState({confirmAction:!0}),e.props.confirmModal()},className:"btn fill blue",children:"Save"})})]})]})})})})}}]),s}(a.Component);wr=Object(_.a)({form:"modifyHandicapIndexForm",destroyOnUnmount:!0})(wr);var Ir=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,warnings:Object(Ar.a)("modifyHandicapIndexForm")(e)}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(wr)),Tr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={isConfirmationModal:!1},a}return Object(c.a)(s,[{key:"confirmModal",value:function(){this.setState({isConfirmationModal:!0})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[this.state.isConfirmationModal?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"warning"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Are You Sure?"})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Modify Handicap Index"})]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Ir,{golfer:this.props.golfer,closeModal:function(t){return e.props.closeModal(t)},confirmModal:function(){return e.confirmModal()}})})]})})}}]),s}(a.Component),Er=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.state={confirmAction:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize({expiration_date:new Date(ue()().add(1,"days")),value:this.props.golfer.low_hi})}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.type="low_hi",s.expiration_date=ue()(s.expiration_date).format("YYYY-MM-DD"),Bt.handicapModification(this.props.golfer.id,s).then((function(e){t.props.addAlert({type:"success",message:"The Low H.I. modification has been successfully applied!"}),t.props.closeModal(e)})).catch((function(e){if(e.data){var s=ls(e.data.errors);t.props.addAlert({type:"error",message:s}),t.props.closeModal()}console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.valid,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:n?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsx)(a.Fragment,{children:this.state.confirmAction?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("h2",{children:["Are you sure you want to modify the Low H.I. for ",this.props.golfer.player_name,"?"]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",children:"Confirm"})})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"value",children:["Modify Low H.I. ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"value",id:"value"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"expiration_date",children:["Expiration Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{minDate:new Date(ue()().add(1,"days")),maxDate:new Date(ue()().add(1,"years")),className:"date",validate:[he],showMonthDropdown:!0,showYearDropdown:!0,name:"expiration_date",id:"expiration_date",component:os,placeholder:"Select ... "})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",disabled:!i,onClick:function(t){t.preventDefault(),e.setState({confirmAction:!0}),e.props.confirmModal()},className:"btn fill blue",children:"Save"})})]})]})})})})}}]),s}(a.Component);Er=Object(_.a)({form:"modifyLowHandicapIndexForm",destroyOnUnmount:!0})(Er);var Fr=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Er)),Dr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={isConfirmationModal:!1},a}return Object(c.a)(s,[{key:"confirmModal",value:function(){this.setState({isConfirmationModal:!0})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[this.state.isConfirmationModal?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"warning"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Are You Sure?"})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Set Low Handicap Index"})]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Fr,{golfer:this.props.golfer,closeModal:function(t){return e.props.closeModal(t)},confirmModal:function(){return e.confirmModal()}})})]})})}}]),s}(a.Component),Pr=s(1095),Gr=s(1096),Rr=s(1100),Hr=s(522),Ur=s(523),Lr=s(527),Yr=s(520),zr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){document.getElementsByClassName("history__chart")[0].scrollLeft=9999}},{key:"render",value:function(){var e=this.props.handicapRevisions.map((function(e){return{RevDate:ue()(e.RevDate).format("MMM DD YYYY"),Value:999===parseFloat(e.Value)?0:parseFloat(e.Value),Display:e.Display}})),t=35*e.length*3;t<1180&&(t=1180);return Object(re.jsx)("div",{className:"history__chart",children:Object(re.jsx)("div",{style:{width:t,height:300},children:Object(re.jsx)(Pr.a,{width:"100%",height:"100%",children:Object(re.jsxs)(Gr.a,{data:e,margin:{top:30,bottom:5},stackOffset:"sign",children:[Object(re.jsx)(Rr.a,{strokeDasharray:"3 3"}),Object(re.jsx)(Hr.a,{dataKey:"RevDate"}),Object(re.jsx)(Ur.a,{domain:["dataMin - 3","dataMax + 1"],tickFormatter:function(e){return"".concat(e<0?"+".concat(-1*e):e)}}),Object(re.jsx)(Lr.a,{dataKey:"Value",fill:"rgba(95, 173, 219, 0.8)",barSize:54,children:Object(re.jsx)(Yr.a,{dataKey:"Display",position:"top"})})]})})})})}}]),s}(a.PureComponent),Br=zr,qr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={confirmAction:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.props.initialize({expiration_date:new Date(ue()().add(1,"days"))})}},{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e));return s.type="withdraw",s.expiration_date=ue()(s.expiration_date).format("YYYY-MM-DD"),Bt.handicapModification(this.props.golfer.id,s).then((function(e){t.props.addAlert({type:"success",message:"Withdraw of Handicap Index has been successfully applied!"}),t.props.closeModal(e)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:i?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsx)(a.Fragment,{children:this.state.confirmAction?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("h2",{children:["Are you sure you want to withdraw the Handicap Index for  ",this.props.golfer.player_name,"?"]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",className:"btn fill blue",children:"Confirm"})})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"expiration_date",children:["Expiration Date ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{minDate:new Date(ue()().add(1,"days")),className:"date",showMonthDropdown:!0,showYearDropdown:!0,validate:[he],name:"expiration_date",id:"expiration_date",component:os,placeholder:"Select ... "})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){return e.props.closeModal()},className:"btn fill gray",children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),e.setState({confirmAction:!0}),e.props.confirmModal()},className:"btn fill blue",children:"Withdraw"})})]})]})})})})}}]),s}(a.Component);qr=Object(_.a)({form:" withdrawHandicapIndexForm",destroyOnUnmount:!0})(qr);var Vr=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(qr)),Wr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={isConfirmationModal:!1},a}return Object(c.a)(s,[{key:"confirmModal",value:function(){this.setState({isConfirmationModal:!0})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[this.state.isConfirmationModal?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"warning"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Are You Sure?"})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Withdraw Handicap Index"})]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Vr,{golfer:this.props.golfer,closeModal:function(t){return e.props.closeModal(t)},confirmModal:function(){return e.confirmModal()}})})]})})}}]),s}(a.Component),Kr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={modifyHandicapIndexModalIsOpen:!1,removeHandicapIndexModalIsOpen:!1,modifyLowHandicapIndexModalIsOpen:!1,removeLowHandicapIndexModalIsOpen:!1,specialUpdateModalIsOpen:!1,golfer:null,loading:!0,handicap_revisions:[],sort:{property:"",descending:!0},scores:[]},a.openModifyHandicapIndexModal=a.openModifyHandicapIndexModal.bind(Object(b.a)(a)),a.openRemoveHandicapIndexModal=a.openRemoveHandicapIndexModal.bind(Object(b.a)(a)),a.openModifyLowHandicapIndexModal=a.openModifyLowHandicapIndexModal.bind(Object(b.a)(a)),a.openRemoveLowHandicapIndexModal=a.openRemoveLowHandicapIndexModal.bind(Object(b.a)(a)),a.openSpecialUpdateModal=a.openSpecialUpdateModal.bind(Object(b.a)(a)),a.openWithdrawHandicapIndexModal=a.openWithdrawHandicapIndexModal.bind(Object(b.a)(a)),a.openRemoveWithdrawHandicapIndexModal=a.openRemoveWithdrawHandicapIndexModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){et.a.setAppElement("body"),this.processScores()}},{key:"processScores",value:function(){var e=this,t=this.props.props.match.params.golfer_id;t.match(/^[0-9]*$/)||(t=window.atob(t)),Bt.getScores(t).then((function(t){var s=0;t.scores.forEach((function(e){s+=e.used?e.differential:0,e.pcc=e.pcc?e.pcc:"-"})),e.setState({scores:t.scores.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{name:e.getCleanName(Object(j.a)(Object(j.a)({},t),{placeholder:!0})),sortable_date:ue()(t.played_at).unix(),course_and_slope_rating:10*t.course_rating.toFixed(1)+t.slope_rating.toFixed(1)/1e3,date:e.props.publicView?ue()(t.played_at).format("MM/YYYY"):ue()(t.played_at).format("MM/DD/YYYY")})})),totalDifference:s.toFixed(1)})})).catch((function(e){console.error(e)})),Bt.getHandicapHistoryLastYear(t).then((function(t){e.setState({handicap_revisions:t.handicap_revisions.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{Value:"99.9"===e.Value?"0":e.Value})})).reverse(),loading:!1})}))}},{key:"performSpecialUpdate",value:function(){return Bt.specialUpdate(this.props.golfer.club_id,[this.props.golfer.id])}},{key:"getCleanName",value:function(e){var t=e.ghin_course_name_display||e.course_display_value;if("C"===e.score_type&&t){if(-1!==t.indexOf(";;")){var s=t.split(";;");return e.placeholder?s[0]+" "+s[1]:Object(re.jsxs)(a.Fragment,{children:[s[0],Object(re.jsx)("br",{}),s[1]]})}return t}return t}},{key:"openModifyHandicapIndexModal",value:function(){this.setState({modifyHandicapIndexModalIsOpen:!0})}},{key:"openRemoveHandicapIndexModal",value:function(){this.setState({removeHandicapIndexModalIsOpen:!0})}},{key:"openModifyLowHandicapIndexModal",value:function(){this.setState({modifyLowHandicapIndexModalIsOpen:!0})}},{key:"openRemoveLowHandicapIndexModal",value:function(){this.setState({removeLowHandicapIndexModalIsOpen:!0})}},{key:"openWithdrawHandicapIndexModal",value:function(){this.setState({withdrawHandicapIndexModalIsOpen:!0})}},{key:"openRemoveWithdrawHandicapIndexModal",value:function(){this.setState({removeWithdrawHandicapIndexModalIsOpen:!0})}},{key:"removeModification",value:function(e){var t=this;Bt.removeHandicapModification(this.props.golfer.id,e).then((function(s){t.props.addAlert({type:"success",message:"The ".concat("low_hi"===e?"Low H.I.":"Handicap Index"," modification has been successfully removed!")}),t.props.updateGolfer()})).catch((function(e){console.log(e)}))}},{key:"openSpecialUpdateModal",value:function(){this.setState({specialUpdateModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&this.props.updateGolfer(e),this.setState({modifyHandicapIndexModalIsOpen:!1,removeHandicapIndexModalIsOpen:!1,modifyLowHandicapIndexModalIsOpen:!1,removeLowHandicapIndexModalIsOpen:!1,specialUpdateModalIsOpen:!1,withdrawHandicapIndexModalIsOpen:!1,removeWithdrawHandicapIndexModalIsOpen:!1})}},{key:"render",value:function(){var e=this,t=[{Header:"Used",accessor:"used",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.used&&Object(re.jsx)("i",{className:"material-icons-outlined blue td-align-center",children:"star_outline"})})},thClassName:"table-align-center is-1-of-4"},{Header:"Type",accessor:"score_type_display_full",className:"table-align-center",thClassName:"table-align-center is-1-of-4"},{Header:"Date",accessor:"sortable_date",Cell:function(e){return e.original.date},className:"table-align-center",thClassName:"table-align-center is-2-of-5"},{Header:"Score",accessor:"adjusted_gross_score",className:"table-align-center",thClassName:"table-align-center is-1-of-4"},{Header:"C.R./Slope",accessor:"course_and_slope_rating",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[parseFloat(e.original.course_rating).toFixed(1)," / ",e.original.slope_rating]})},className:"table-align-center",thClassName:"table-align-center is-1-of-2"},{Header:Object(re.jsxs)(a.Fragment,{children:["PCC",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"pcc",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"pcc",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Playing Conditions Calculation "}),"The playing conditions calculation determines whether playing conditions on the day differed from normal conditions to the extent that an adjustment is needed to compensate. It is a statistical procedure that compares the scores submitted by players on the day against expected scoring patterns."]})]}),Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"pcc"===e.type})).length>0?e.original.adjustments.filter((function(e){return"pcc"===e.type}))[0].display:"-"})},accessor:"pcc",sortable:!1,className:"table-align-center",thClassName:"table-align-center is-1-of-3"},{Header:Object(re.jsxs)(a.Fragment,{children:["Diff.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"diff",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"diff",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Score Differential "})," = (113/Slope Rating) * (Adjusted Gross Score \u2013 Course Rating \u2013 PCC). ESR and Committee Adjustments are applied to the previously calculated score differential."]})]}),Cell:function(e){return parseFloat(e.original.differential).toFixed(1)},accessor:"differential",className:"table-align-center",thClassName:"table-align-center is-1-of-3"},{Header:Object(re.jsxs)(a.Fragment,{children:["ESR",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"esr",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"esr",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Exceptional Score Reduction "}),"When an exceptional score is posted to a player\u2019s scoring record, the Handicap Index will be reduced in accordance with the exceptional score adjustment table."]})]}),accessor:"esr",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"esr"===e.type})).length>0?e.original.adjustments.filter((function(e){return"esr"===e.type}))[0].value:"-"})},thClassName:"table-align-center is-1-of-3",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Adj.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"adj",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"adj",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Committee Adjustment"})," When an adjustment is applied by the Handicap Committee, it is intended to provide a better reflection of a player\u2019s demonstrated ability."]})]}),accessor:"adj",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"committee"===e.type})).length>0?e.original.adjustments.filter((function(e){return"committee"===e.type}))[0].value:"-"})},thClassName:"table-align-center is-1-of-3",className:"table-align-center "},{Header:"Course Name / Tee",accessor:"name",show:!this.props.publicView,thClassName:"table-align-center",Cell:function(t){return Object(re.jsx)(a.Fragment,{children:e.getCleanName(t.original)})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:[this.props.golfer.club_name," - ",this.props.golfer.association_name,Object(re.jsx)("div",{className:"panel__end",children:Object(re.jsx)("span",{className:"status-state info"})})]}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[!this.props.publicView&&!this.props.archived&&this.props.canEditClub&&Object(re.jsxs)("div",{className:"row",children:[this.props.golfer.hi_modified?Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openRemoveHandicapIndexModal,className:"btn fill green",children:"Remove H.I. Modification"})}):Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openModifyHandicapIndexModal,className:"btn fill green",children:"Modify H.I."})}),"-"!==this.props.golfer.low_hi&&"WD"!==this.props.golfer.low_hi&&(this.props.golfer.low_hi_modified?Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("button",{onClick:this.openRemoveLowHandicapIndexModal,className:"btn fill green",children:"Remove Low H.I. Modification"})}):Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("button",{onClick:this.openModifyLowHandicapIndexModal,className:"btn fill green",children:"Modify Low H.I."})})),this.props.golfer.hi_withdrawn?Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("button",{onClick:this.openRemoveWithdrawHandicapIndexModal,className:"btn fill green",children:"Remove Withdraw H.I."})}):Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("button",{onClick:this.openWithdrawHandicapIndexModal,className:"btn fill green",children:"Withdraw H.I."})}),Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("button",{onClick:this.openSpecialUpdateModal,className:"btn fill green",children:"Special Update"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h2",{className:"section__title",children:"Revision Scores"})}),Object(re.jsxs)("div",{className:"col jc-c auto white-space push-right",children:["Total Differential: ",this.state.totalDifference]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)($t,{loading:this.state.loading,columns:t,ref:function(t){return e.table=t},hideSelect:!0,hidePagination:!0,data:this.state.scores,sortable:!0}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("ul",{className:"table__legend",children:Object(re.jsxs)("li",{children:["Score Type: ",Object(re.jsx)("span",{children:"H"})," - Home, ",Object(re.jsx)("span",{children:"A"})," - Away, ",Object(re.jsx)("span",{children:"C"})," - Competition, ",Object(re.jsx)("span",{children:"N"})," - Combined 9-Hole Rounds, ",Object(re.jsx)("span",{children:"P"})," - Penalty, ",Object(re.jsx)("span",{children:"E"})," - Exceptional"]})})})})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h2",{className:"section__title",children:"Handicap Index History"})}),Object(re.jsx)("div",{className:"col auto-size",children:Object(re.jsx)("div",{className:"panel__end",children:Object(re.jsxs)("span",{className:"status-state info",style:{justifyContent:"flex-end"},children:[Object(re.jsx)("i",{className:"material-icons v-mid small red",children:"star"}),Object(re.jsx)("span",{children:"Handicap History displays the Handicap Index of golfers based on the Date Played for each score in the player's record."})]})})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",style:{maxWidth:"100%"},children:this.state.handicap_revisions.length>0?Object(re.jsx)(Br,{handicapRevisions:this.state.handicap_revisions}):Object(re.jsx)("span",{children:"No Handicap History"})})})]})})})]}),Object(re.jsx)(et.a,{isOpen:this.state.modifyHandicapIndexModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Tr,{golfer:this.props.golfer,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.modifyLowHandicapIndexModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Dr,{golfer:this.props.golfer,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.withdrawHandicapIndexModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Wr,{golfer:this.props.golfer,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(ca,{openModal:this.state.removeHandicapIndexModalIsOpen,onConfirmAction:function(){return e.removeModification("modification")},onCancelAction:function(){e.closeModal()},closeModal:function(){e.closeModal()},question:"Are You Sure?",bodyQuestion:"Are you sure you want to remove the Handicap Index Modification for ".concat(this.props.golfer.player_name,"?"),cancelLabel:"Cancel",confirmLabel:"Confirm"}),Object(re.jsx)(ca,{openModal:this.state.removeLowHandicapIndexModalIsOpen,onConfirmAction:function(){return e.removeModification("low_hi")},onCancelAction:function(){e.closeModal()},closeModal:function(){e.closeModal()},question:"Are you sure?",bodyQuestion:"Are you sure you want to remove the Low H.I. Modification for ".concat(this.props.golfer.player_name,"?"),cancelLabel:"Cancel",confirmLabel:"Confirm"}),Object(re.jsx)(ca,{openModal:this.state.removeWithdrawHandicapIndexModalIsOpen,onConfirmAction:function(){return e.removeModification("withdraw")},onCancelAction:function(){e.closeModal()},closeModal:function(){e.closeModal()},question:"Are you sure?",bodyQuestion:"Are you sure you want to remove the Withdraw for ".concat(this.props.golfer.player_name,"?"),longQuestion:!0,cancelLabel:"Cancel",confirmLabel:"Confirm"}),Object(re.jsx)(et.a,{isOpen:this.state.specialUpdateModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(ji,{closeModal:function(t){e.closeModal(t)},confirmAction:function(){return e.performSpecialUpdate()},golferScreen:!0,title:"Special Update golfer: ".concat(this.props.golfer.first_name?this.props.golfer.first_name:""," ").concat(this.props.golfer.middle_name?this.props.golfer.middle_name:""," ").concat(this.props.golfer.last_name?this.props.golfer.last_name:""),description:"You are about to perform a Special Update."})})]})}}]),s}(a.Component);var Jr=Object(p.c)(null,(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Kr),$r=function(e){var t=e.fieldName,s=e.options,i=e.parentClassName;return Object(re.jsx)("div",{className:i,children:Object(re.jsx)(g.a,{component:function(e){var t=e.input,s=e.options;return s.map((function(e){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("input",Object(j.a)(Object(j.a)({disabled:e.isDisabled||s.disabled,className:e.className||"",id:e.id,type:"radio"},t),{},{value:e.value,checked:e.isNumber?parseInt(e.value)===parseInt(t.value):e.value===t.value})),Object(re.jsx)("label",{htmlFor:e.id,children:e.label})]},e.id)}))},name:t,options:s})})},Xr=function(){function e(){Object(r.a)(this,e)}return Object(c.a)(e,null,[{key:"postAdjusted",value:function(e){return ne({url:"/scores/adjusted.json",method:"POST",data:e})}},{key:"post18h9and9",value:function(e){return ne({url:"/scores/18h9and9.json",method:"POST",data:e})}},{key:"editScore",value:function(e,t){return ne({url:"/scores/".concat(t,"/update.json"),method:"PATCH",data:e})}},{key:"postHoleByHole",value:function(e){return ne({url:"scores/hbh.json",method:"POST",data:e})}},{key:"confirmScore",value:function(e,t){return ne({url:"/scores/".concat(e,"/confirm.json?golfer_id=").concat(t),method:"POST"})}},{key:"editHoleByHole",value:function(e,t){return ne({url:"scores/hbh/".concat(e,".json"),method:"PATCH",data:t})}},{key:"deleteScore",value:function(e,t){return ne({url:"/scores/".concat(e,".json"),method:"DELETE",data:{scores:t}})}},{key:"exportToCSV",value:function(e){return ne({url:"/scores/export_to_excel.json",method:"GET",params:e})}},{key:"getAll",value:function(e){return ne({url:"/scores/get_all.json",params:e})}},{key:"getChildScores",value:function(e,t){return ne({url:"/scores/".concat(e,"/get_child_scores.json"),params:t})}},{key:"getOverrideSatus",value:function(e){return ne({url:"/scores/".concat(e,"/esr_override_status"),method:"GET"})}},{key:"overrideScore",value:function(e){return ne({url:"/scores/".concat(e,"/perform_esr_override"),method:"POST"})}},{key:"getLogs",value:function(e){return ne({url:"/scores/".concat(e,"/logs.json"),method:"GET"})}}]),e}(),Qr=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date,courses:!a.props.selectedTee&&a.props.homeCourses.length>0&&(9===a.props.score.number_of_holes?a.props.homeCourses.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side})):a.props.homeCourses.filter((function(e){return"All18"===e.tee_set_side}))),teeSetsOptions:9===a.props.score.number_of_holes?a.props.teeSetsOptions.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side})):a.props.teeSetsOptions.filter((function(e){return"All18"===e.tee_set_side})),teeOptions:[],golfer:a.props.golfer,overrideModal:!1,errors:[],confirmScoreDifferentialsRemoval:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.getHomeCourses=a.getHomeCourses.bind(Object(b.a)(a)),a.setErrors=a.setErrors.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.initializeScoreFromProps()}},{key:"initializeScoreFromProps",value:function(){if(this.props.score){var e=JSON.parse(JSON.stringify(this.props.score));e.played_at=new Date(ue()(e.played_at,"YYYY-MM-DD")),this.props.selectedTee?e.course_tee_lookup_method="search_courses":e.course_tee_lookup_method="home_courses",this.props.selectedTee?(e.course_name=this.props.selectedCourse,e.tee_set_id=this.props.selectedTee):e.course_name=this.props.selectedCourse,this.props.initialize(e)}}},{key:"getHomeCourses",value:function(){"9"===this.state.nrHoles?this.setState({courses:this.props.homeCourses.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side}))}):this.setState({courses:this.props.homeCourses.filter((function(e){return"All18"===e.tee_set_side}))})}},{key:"componentDidUpdate",value:function(e,t,s){this.props.score!==e.score?this.initializeScoreFromProps():(e.score_type&&this.props.score_type!==e.score_type&&this.props.score.course_id&&this.props.score.tee_set_id&&("H"===this.props.score_type&&"T"!==e.score_type&&(this.props.change("course_tee_lookup_method","home_courses"),this.getHomeCourses()),"A"===this.props.score_type&&"T"!==e.score_type&&(this.setState({courses:[],errors:[]}),this.props.change("course_name",null),this.props.change("course_tee_lookup_method","search_courses"),this.props.untouch("course_name"))),e.course_tee_lookup_method&&this.props.course_tee_lookup_method!==e.course_tee_lookup_method&&("home_courses"===this.props.course_tee_lookup_method?(this.props.change("course_name",null),this.props.untouch("course_name"),this.getHomeCourses()):(this.props.change("course_name",null),this.props.change("tee_set_id",null),this.props.untouch("tee_set_id"),this.props.untouch("course_name"),this.setState({courses:[],errors:[]}))))}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"getCourseDetails",value:function(e,t,s,a){var i=this;ar.getCourseDetails(e).then((function(e){var t=i.parseCourse(e);i.props.change("tee_set_id",null),i.setState({teeSetsOptions:9===i.props.number_of_holes?t.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side})):t.filter((function(e){return"All18"===e.tee_set_side}))})})).catch((function(e){e.data&&e.data.errors&&"is invalid"===e.data.errors.course_id&&(i.props.change("slope",i.props.score.slope_rating),i.props.change("cr",parseFloat(i.props.score.course_rating)),i.props.change("tee_set_id",{label:i.props.score.tee_name,value:-1}),i.props.change("course_name_label",i.props.score.course_name),i.props.change("course_name",{label:t,value:null}),i.props.untouch("course_name"))}))}},{key:"parseCourse",value:function(e,t){var s=this,a=e.TeeSets.filter((function(e){return e.Gender.charAt(0)===s.props.golfer.gender})).map((function(t){var s=t.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],a=t.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],i=t.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:t.TeeSetRatingName,holes:t.Holes,value:t.TeeSetRatingId,courseId:e.CourseId,ratingTotal:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingFront:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating),ratingBack:i&&"".concat(parseFloat(i.CourseRating).toFixed(1)," / ").concat(i.SlopeRating),totalCourseRating:s&&s.CourseRating,frontCourseRating:a&&a.CourseRating,backCourseRating:i&&i.CourseRating,totalSlopeRating:s&&s.SlopeRating,frontSlopeRating:a&&a.SlopeRating,backSlopeRating:i&&i.SlopeRating}}));return a=a.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.holes.reduce((function(e,t,s){return e+t.Par}),0),n={label:"".concat(t.label," F9 (").concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"F9",course_rating:t.frontCourseRating,slope_rating:t.frontSlopeRating},o={label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"B9",course_rating:t.backCourseRating,slope_rating:t.backSlopeRating},r={label:"".concat(t.label," (").concat(t.ratingTotal," / ").concat(i,")"),value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"All18",course_rating:t.frontCourseRating,slope_rating:t.frontSlopeRating};return e.concat([r,n,o])}),[])}},{key:"onSubmit",value:function(e){var t=this,s={golfer_id:this.props.score.golfer_id,course_id:"home_courses"===this.props.course_tee_lookup_method?e.course_name.courseId:e.course_name.value,course_name:e.course_name.label,course_rating:e.course_rating,slope_rating:e.slope_rating,tee_set_id:"home_courses"===this.props.course_tee_lookup_method?e.course_name.teeSetID:this.props.tee_set_id.value,tee_set_side:"home_courses"===this.props.course_tee_lookup_method?e.course_name.tee_set_side:this.props.tee_set_id.tee_set_side,played_at:ue()(e.played_at).format("YYYY-MM-DD"),score_type:this.props.emptyCombined?"C":this.props.score_type,number_of_holes:this.props.number_of_holes,gender:this.state.golfer.gender,adjusted_gross_score:e.adjusted_gross_score,front9_adjusted:e.front9_adjusted,back9_adjusted:e.back9_adjusted};return this.props.combined_score_id&&(s.combined_score_id=this.props.combined_score_id,s.score_index=this.props.selectedScoreIndex,s.combined_9_hole_score=this.props.combined_9_hole_score),Xr.editScore({score:Object(j.a)({},s)},this.props.score.id).then((function(e){e.errors?t.setErrors({data:e}):(t.props.closeModal(!0),t.props.setOutdatedScoreModalOpen(!e.score.is_recent))})).catch((function(e){console.log(e);var s=[];e&&e.data&&e.data.errors&&Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})}))}},{key:"setErrors",value:function(e){var t=[];e.data.errors&&Object.keys(e.data.errors).map((function(s){var a=e.data.errors[s],i=a.includes("No TeeSet found")?"No TeeSet found":a;return t.push(i),null})),this.setState({errors:t})}},{key:"removeScoreDifferentials",value:function(){var e=this;Bt.removeScoreDifferentials(this.props.score.golfer_id,this.props.score.id).then((function(){e.props.closeModal(!0,!0)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return this.props.score?Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{children:["Date Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,minDate:new Date("1/1/1990"),showMonthDropdown:!0,showYearDropdown:!0,component:os,selected:this.state.startDate,onChange:this.handleChange,dropdownMode:"select",name:"played_at"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{children:"Score Type"}),Object(re.jsx)(g.a,{component:$r,parentClassName:"custom-radio__container",fieldName:"score_type",options:[{id:"home",label:"Home",value:"H",isDisabled:this.props.migrated_combined||!1},{id:"away",label:"Away",value:"A",isDisabled:this.props.migrated_combined||!1},{id:"tournament",label:"Competition",value:"T",isDisabled:this.props.migrated_combined||!1}]})]}),Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Holes"}),Object(re.jsx)(g.a,{component:$r,parentClassName:"custom-radio__container",fieldName:"number_of_holes",options:[{id:"18",label:"18",value:18,isNumber:!0,isDisabled:!0},{id:"9",label:"9",value:9,isNumber:!0,isDisabled:!0}]})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2 jc-fs",children:[Object(re.jsx)("label",{children:"Choose Course / Tee Lookup Method"}),Object(re.jsx)(g.a,{component:$r,parentClassName:"radio__container",fieldName:"course_tee_lookup_method",options:[{id:"home_coursess-tees",label:"Home Courses/Tees",value:"home_courses",className:"simple__radio",isDisabled:this.props.migrated_combined||!1},{id:"course-tee-search",label:"Course/Tee Search",value:"search_courses",className:"simple__radio",isDisabled:this.props.migrated_combined||!1}]})]}),Object(re.jsx)("div",{className:"col is-".concat("home_courses"===this.props.course_tee_lookup_method?"2":"1","-of-").concat("home_courses"===this.props.course_tee_lookup_method?"2":"4"),children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("label",{htmlFor:"course-played",children:["Course","home_courses"===this.props.course_tee_lookup_method?"/Tee":""," Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",hideErrorMessages:!0,validate:[Me({fieldName:"Course Played"})],defaultOptions:this.state.courses,loadOptions:"home_courses"===this.props.course_tee_lookup_method?null:us()(this.getCoursesOptions,1e3),component:Ho,onChange:function(t,s,a){s?("home_courses"===e.props.course_tee_lookup_method?e.getCourseDetails(s.courseId,s.label,s.teeSetID):e.getCourseDetails(s.value,s.label,null,!0),e.props.change("course_id",s)):(e.props.change("tee_set_id",null),e.setState({teeSetsOptions:[]}))},className:"react-select-container",classNamePrefix:"react-select",disabled:this.props.migrated_combined||!1})]})}),"search_courses"===this.props.course_tee_lookup_method&&Object(re.jsxs)("div",{className:"col is-1-of-4 jc-fs",children:[Object(re.jsxs)("label",{children:["Tee ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"react-select-container",component:yt,name:"tee_set_id",classNamePrefix:"react-select",disabled:this.props.migrated_combined||this.props.emptyCombined||!1,options:this.state.teeSetsOptions})]})]}),Object(re.jsxs)("div",{className:"row",children:[18===this.props.number_of_holes&&Object(re.jsxs)("div",{className:"col is-1-of-9 push-right",children:[Object(re.jsx)("label",{htmlFor:"front9",children:"Front 9"}),Object(re.jsx)(g.a,{type:"text",component:ce,name:"front9_adjusted",disabled:18===this.props.number_of_holes&&!this.props.front9_adjusted&&!this.props.back9_adjusted&&this.props.adjusted_gross_score,onChange:function(t,s,a){if(a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.back9_adjusted)||0;e.props.change("adjusted_gross_score",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.back9_adjusted)||0;e.props.change("adjusted_gross_score",n+parseInt(s))}if(s.length>2)t.preventDefault();else if(2===s.length){var o=parseInt(e.props.back9_adjusted)||0;e.props.change("adjusted_gross_score",o+parseInt(s)),document.getElementsByClassName("back9_adjusted")[0].focus()}}})]}),18===this.props.number_of_holes&&Object(re.jsxs)("div",{className:"col is-1-of-9",children:[Object(re.jsx)("label",{htmlFor:"back9",children:"Back 9"}),Object(re.jsx)(g.a,{type:"text",component:ce,name:"back9_adjusted",className:"back9_adjusted",disabled:18===this.props.number_of_holes&&!this.props.back9_adjusted&&!this.props.front9_adjusted&&this.props.adjusted_gross_score,onChange:function(t,s,a){if(a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.front9_adjusted)||0;e.props.change("adjusted_gross_score",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.front9_adjusted)||0;e.props.change("adjusted_gross_score",n+parseInt(s))}if(s.length>2&&t.preventDefault(),2===s.length){var o=parseInt(e.props.front9_adjusted)||0;e.props.change("adjusted_gross_score",o+parseInt(s))}}})]}),Object(re.jsxs)("div",{className:"col is-1-of-9 ".concat(18!==this.props.number_of_holes?"push-right":""),children:[Object(re.jsxs)("label",{htmlFor:"adjusted_gross_score",children:["Total ",18===this.props.number_of_holes?18:9,Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{hideErrorMessages:!0,validate:[Me({fieldName:"Total Score"}),xe,Ie()],type:"text",component:ce,disabled:this.props.back9_adjusted||this.props.front9_adjusted,name:"adjusted_gross_score"})]})]}),this.props.formValuesErrors&&this.props.formFields&&Object(re.jsx)("p",{children:Object.entries(this.props.formValuesErrors).map((function(t){var s=Object(ss.a)(t,2),a=s[0],i=s[1];return e.props.formFields[a]&&e.props.formFields[a].touched?Object(re.jsx)("span",{className:"validation__message is-error",children:i}):null}))}),this.state.errors.length>0&&Object(re.jsx)("p",{children:this.state.errors.map((function(e,t){return Object(re.jsx)("span",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)},t)}))}),Object(re.jsxs)("div",{className:"row align-right",children:[this.props.score.exceptional&&Object(re.jsx)("div",{className:"col is-1-of-4 ai-fe jc-c",style:{height:"40px"},children:this.props.overriden?"ESR Adjustment Overriden":Object(re.jsx)("button",{onClick:function(){return e.setState({overrideModal:!0})},type:"button",className:"btn fill gray",children:"Override ESR Adjustments"})}),this.props.score.committee_master_score&&Object(re.jsx)("div",{className:"col is-2-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.setState({confirmScoreDifferentialsRemoval:!0})},type:"button",className:"btn fill gray",children:"Remove Score Differentials"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.props.closeModal()},type:"button",className:"btn fill gray",children:"Close"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Edit Score"})})]}),this.state.overrideModal&&Object(re.jsx)(cs,{openModal:this.state.overrideModal,wideClass:"narrow",onConfirmAction:function(){e.props.overrideScore(),e.setState({overrideModal:!1})},modalIcon:"error_outline",onCancelAction:function(){e.setState({overrideModal:!1})},closeModal:function(){e.setState({overrideModal:!1})},infoText:["Please confirm that you would like to override the ESR adjustments of this score"],cancelLabel:"Close",confirmLabel:"Confirm"}),this.state.confirmScoreDifferentialsRemoval&&Object(re.jsx)(cs,{openModal:!0,wideClass:"narrow",onConfirmAction:function(){e.removeScoreDifferentials(),e.setState({confirmScoreDifferentialsRemoval:!1})},modalIcon:"error_outline",onCancelAction:function(){e.setState({confirmScoreDifferentialsRemoval:!1})},closeModal:function(){e.setState({confirmScoreDifferentialsRemoval:!1})},infoText:["Please confirm that you would like to remove the score differentials adjustments."],cancelLabel:"Close",confirmLabel:"Confirm"})]}):null}}]),s}(a.Component);Qr=Object(_.a)({form:"editScoreForm",destroyOnUnmount:!0,touchOnChange:!0})(Qr);var Zr=Object(u.o)(Object(p.c)((function(e){var t=Object(es.a)("editScoreForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,score_type:t(e,"score_type"),number_of_holes:t(e,"number_of_holes"),course_tee_lookup_method:t(e,"course_tee_lookup_method"),course_name:t(e,"course_name"),tee_set_id:t(e,"tee_set_id"),front9_adjusted:t(e,"front9_adjusted"),back9_adjusted:t(e,"back9_adjusted"),adjusted_gross_score:t(e,"adjusted_gross_score"),formValuesErrors:e.form.editScoreForm?e.form.editScoreForm.syncErrors:{},formFields:e.form.editScoreForm?e.form.editScoreForm.fields:{},dynamicSelector:function(s){return t(e,s)}}}),(function(e){return Object(v.b)({},e)}))(Ve(Qr))),ec=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"changeTotal",value:function(e,t,s,a,i){if(s&&(1===s.length||2===s.length)&&0===t.length){var n=parseFloat(this.props.dynamicSelector(a))||0;this.props.change(i,n)}if(1===t.length){if(0===parseFloat(t)||!parseFloat(t))return void e.preventDefault();var o=parseFloat(this.props.dynamicSelector(a))||0;this.props.change(i,o+parseFloat(t))}if("backSlope"!==a&&"frontSlope"!==a&&"slope"!==a){if(t&&(3===t.length&&!/^[0-9]{1,2}([.])?$/.test(t)||2===t.length&&!/^\d+$/.test(t)||t.length>3&&!/^[0-9]{1,2}([.][0-9]{1})?$/.test(t)))e.preventDefault();else if(t>=2&&(/^[0-9]{1,2}([.])?$/.test(t)||/^[0-9]{1,2}([.][0-9]{1})?$/.test(t))){var r=parseFloat(this.props.dynamicSelector(a))||0;r=parseInt(r+parseFloat(t))===parseFloat(r+parseFloat(t))?parseInt(r+parseFloat(t)):parseFloat(r+parseFloat(t)).toFixed(1),this.props.change(i,r)}}else if(t&&(t.length>3||!/^[0-9]{1,3}?$/.test(t))&&e.preventDefault(),t.length>=1&&t.length<=3){var c=parseFloat(this.props.dynamicSelector(a))||0;this.props.change(i,Math.floor((c+parseFloat(t))/2))}}},{key:"componentDidMount",value:function(){this.props.change("asd","asd")}},{key:"render",value:function(){var e=this,t=this.props.formValues;return t?Object(re.jsxs)(a.Fragment,{children:[!this.props.asyncSelect&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Course Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,disabled:!!this.props.course||this.props.forcedManual,type:"text",name:"course_name_label",id:"course_name_label"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col "}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:"Score"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:"CR"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:"Slope"})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-c ai-fe ",children:"Front 9"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:9!==this.props.score.number_of_holes&&(t.adjusted_gross_score&&!t.front9&&!t.back9)||this.props.forcedManual,component:ce,type:"text",name:9===this.props.score.number_of_holes&&this.props.score.is_manual?"adjusted_gross_score":"front9",id:9===this.props.score.number_of_holes&&this.props.score.is_manual?"total":"front9",onChange:function(t,s,a){if(9===e.props.score.number_of_holes&&e.props.score.is_manual)s&&!/^[0-9]{1,2}?$/.test(s)&&t.preventDefault();else{if(a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.dynamicSelector("back9"))||0;9===e.props.score.number_of_holes&&e.props.score.is_manual?e.props.change("adjusted_gross_score",s):e.props.change("adjusted_gross_score",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.dynamicSelector("back9"))||0;9===e.props.score.number_of_holes&&e.props.score.is_manual||e.props.change("adjusted_gross_score",n+parseInt(s))}if(s.length>2)return void t.preventDefault();if(2===s.length){var o=parseInt(e.props.dynamicSelector("back9"))||0;9===e.props.score.number_of_holes&&e.props.score.is_manual||e.props.change("adjusted_gross_score",o+parseInt(s))}}}})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){9===e.props.score.number_of_holes&&e.props.score.is_manual?s&&!/^[0-9]{1,2}\.?[0-9]*$/.test(s)&&t.preventDefault():e.changeTotal(t,s,a,"backCr","cr",null)},disabled:9!==this.props.score.number_of_holes&&(t.cr&&!t.frontCr&&!t.backCr)||this.props.forcedManual,component:ce,type:"text",name:9===this.props.score.number_of_holes&&this.props.score.is_manual?"cr":"frontCr",id:"frontCr"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){9===e.props.score.number_of_holes&&e.props.score.is_manual?s&&!/^[0-9]{1,3}?$/.test(s)&&t.preventDefault():e.changeTotal(t,s,a,"backSlope","slope",null)},disabled:9!==this.props.score.number_of_holes&&(t.slope&&!t.frontSlope&&!t.backSlope)||this.props.forcedManual,component:ce,type:"text",name:9===this.props.score.number_of_holes&&this.props.score.is_manual?"slope":"frontSlope",id:"frontSlope"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-c ai-fe ",children:"Back 9"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:(9===this.props.score.number_of_holes?"F9"!==t.tee_set_side:t.adjusted_gross_score&&!t.front9&&!t.back9)||this.props.forcedManual||9===this.props.score.number_of_holes&&this.props.score.is_manual,className:"back9",component:ce,type:"text",name:"back9",id:"asd",onChange:function(t,s,a){if(a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.dynamicSelector("front9"))||0;e.props.change("adjusted_gross_score",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.dynamicSelector("front9"))||0;e.props.change("adjusted_gross_score",n+parseInt(s))}if(s.length>2&&t.preventDefault(),2===s.length){var o=parseInt(e.props.dynamicSelector("front9"))||0;e.props.change("adjusted_gross_score",o+parseInt(s))}}})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){return e.changeTotal(t,s,a,"frontCr","cr",null)},disabled:9===this.props.score.number_of_holes||t.cr&&!t.frontCr&&!t.backCr||9===this.props.score.number_of_holes&&this.props.score.is_manual||this.props.forcedManual,component:ce,type:"text",name:"backCr",id:"backCr"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){return e.changeTotal(t,s,a,"frontSlope","slope",null)},disabled:9===this.props.score.number_of_holes||t.slope&&!t.frontSlope&&!t.backSlope||9===this.props.score.number_of_holes&&this.props.score.is_manual||this.props.forcedManual,component:ce,type:"text",name:"backSlope",id:"backSlope"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-c ai-fe",children:"Total 18"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:t.front9||t.back9||9===this.props.score.number_of_holes&&this.props.score.is_manual,component:ce,onChange:function(e,t,s){t&&!/^[0-9]{1,3}?$/.test(t)&&e.preventDefault()},hideErrorMessages:!0,validate:!(9===this.props.score.number_of_holes&&this.props.score.is_manual)&&[Me({fieldName:"Total Score"}),Ne,Ie()],type:"text",name:9===this.props.score.number_of_holes&&this.props.score.is_manual?"score":"adjusted_gross_score",id:"adjusted_gross_score"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:t.frontCr||t.backCr||9===this.props.score.number_of_holes&&this.props.score.is_manual||this.props.forcedManual,validate:!(9===this.props.score.number_of_holes&&this.props.score.is_manual)&&[Me({fieldName:"Total CR"}),Ne],component:ce,onChange:function(e,t,s){t&&!/^[0-9]{1,3}\.?[0-9]*$/.test(t)&&e.preventDefault()},hideErrorMessages:!0,type:"text",name:9===this.props.score.number_of_holes&&this.props.score.is_manual?"courseRating":"cr",id:"cr"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:t.frontSlope||t.backSlope||9===this.props.score.number_of_holes&&this.props.score.is_manual||this.props.forcedManual,validate:!(9===this.props.score.number_of_holes&&this.props.score.is_manual)&&[Me({fieldName:"Total Slope"}),Ne],component:ce,onChange:function(e,t,s){t&&!/^[0-9]{1,3}?$/.test(t)&&e.preventDefault()},hideErrorMessages:!0,type:"text",name:9===this.props.score.number_of_holes&&this.props.score.is_manual?"slopeRating":"slope",id:"slope"})})]}),Object(re.jsx)("div",{className:"row"})]}):null}}]),s}(a.Component);var tc=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,formValues:Object(Lt.a)("editScoreForm")(e)}}),null)(ec),sc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date,courses:[],teeSetsOptions:[],teeOptions:[],golfer:a.props.golfer,errors:[],missingTeeOrCourse:!1,overrideModal:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.setErrors=a.setErrors.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.initializeScoreFromProps()}},{key:"initializeScoreFromProps",value:function(){if(this.props.score){var e=JSON.parse(JSON.stringify(this.props.score));e.played_at=new Date(ue()(e.played_at,"YYYY-MM-DD")),e.course_tee_lookup_method="search_courses",this.props.initialize(Object(j.a)(Object(j.a)({},e),{},{slope:this.props.score.slope_rating,cr:parseFloat(this.props.score.course_rating),front9:this.props.score.front9_adjusted,frontCr:this.props.score.front9_course_rating,frontSlope:this.props.score.front9_slope_rating,back9:this.props.score.back9_adjusted,backCr:this.props.score.back9_course_rating,backSlope:this.props.score.back9_slope_rating,course_name_label:e.course_display_value,course_name:{label:e.course_display_value,value:-1},course_id:this.props.selectedAwayCourse?this.props.selectedAwayCourse:"",tee_set_id:this.props.selectedTee?this.props.emptyCombined?{label:this.props.selectedTee.teeName+"("+parseFloat(this.props.score.course_rating).toFixed(1)+"/"+this.props.score.slope_rating+"/"+this.props.selectedTee.par+")",value:this.props.selectedTee.value}:this.props.selectedTee:{label:e.tee_name,value:-1}}))}}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"onSubmit",value:function(e){var t=this,s={golfer_id:this.props.score.golfer_id,course_id:this.props.selectedAwayCourse?parseInt(e.course_id.value):null,course_name:this.props.combinedScore?e.course_name_label:this.props.selectedAwayCourse?e.course_id.label:e.course_name_label,played_at:ue()(e.played_at).format("YYYY-MM-DD"),score_type:this.props.combinedScore?"C":this.props.score_type,number_of_holes:this.props.score.number_of_holes,gender:this.state.golfer.gender,adjusted_gross_score:e.adjusted_gross_score,tee_name:"Manual / ".concat(e.cr," / ").concat(e.slope),tee_set_side:e.tee_set_side?e.tee_set_side:18===this.props.score.number_of_holes?"All18":"F9",course_rating:parseFloat(e.cr),is_manual:!0,slope_rating:parseFloat(e.slope)};return-1!==e.course_name.value&&(s.is_manual=!1),this.props.emptyCombined&&(this.props.selectedTee||(s.is_manual=!0),s.tee_name="",s.course_rating=this.props.score.course_rating,s.slope_rating=this.props.score.slope_rating,s.course_id=this.props.score.course_id,s.course_name=this.props.score.course_name,s.tee_set_side="All18",s.tee_set_id=this.props.score.tee_set_id),this.props.combined_score_id&&!this.props.emptyCombined&&(s.combined_score_id=this.props.combined_score_id,s.score_index=this.props.selectedScoreIndex,s.combined_9_hole_score=this.props.combined_9_hole_score),e.backCr&&e.frontCr&&(s.front9_adjusted=parseFloat(e.front9),s.front9_course_rating=parseFloat(e.frontCr),s.front9_slope_rating=parseFloat(e.frontSlope),s.back9_adjusted=parseFloat(e.back9),s.back9_course_rating=parseFloat(e.backCr),s.back9_slope_rating=parseFloat(e.backSlope)),Xr.editScore({score:Object(j.a)({},s)},this.props.score.id).then((function(e){e.errors?t.setErrors({data:e}):(t.props.closeModal(!0),t.props.setOutdatedScoreModalOpen(!e.score.is_recent))})).catch((function(e){t.setErrors(e)}))}},{key:"setErrors",value:function(e){var t=[];e.data.errors&&Object.keys(e.data.errors).map((function(s){var a=e.data.errors[s],i=a.includes("No TeeSet found")?"No TeeSet found":a;return t.push(i),null})),this.setState({errors:t})}},{key:"removeScoreDifferentials",value:function(){var e=this;Bt.removeScoreDifferentials(this.props.score.golfer_id,this.props.score.id).then((function(){e.props.closeModal(!0,!0)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return this.props.score?Object(re.jsxs)("form",{onSubmit:s(this.onSubmit),children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{children:["Date Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,minDate:new Date("1/1/1990"),showMonthDropdown:!0,showYearDropdown:!0,component:os,selected:this.state.startDate,onChange:this.handleChange,dropdownMode:"select",name:"played_at"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{children:"Score Type"}),Object(re.jsx)(g.a,{component:$r,parentClassName:"custom-radio__container",fieldName:"score_type",options:[{id:"home",label:"Home",value:"H"},{id:"away",label:"Away",value:"A"},{id:"tournament",label:"Competition",value:"T"}]})]}),Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsx)("label",{children:"Holes"}),Object(re.jsx)(g.a,{component:$r,parentClassName:"custom-radio__container",fieldName:"number_of_holes",options:[{id:"18",label:"18",value:18,isNumber:!0,isDisabled:!0},{id:"9",label:"9",value:9,isNumber:!0,isDisabled:!0}]})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2 jc-fs",children:[Object(re.jsx)("label",{children:"Choose Course / Tee Lookup Method"}),Object(re.jsx)(g.a,{component:$r,parentClassName:"radio__container",fieldName:"course_tee_lookup_method",options:[{id:"home-courses-tees",label:"Home Courses/Tees",value:"home_courses",className:"simple__radio",isDisabled:!0},{id:"course-tee-search",label:"Course/Tee Search",value:"search_courses",className:"simple__radio",isDisabled:!0}]})]}),Object(re.jsx)("div",{className:"col is-2-of-4",children:this.props.selectedAwayCourse?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"course-played",children:["Course Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"course_id",id:"course_id",hideErrorMessages:!0,disabled:this.props.emptyCombined,validate:[Me({fieldName:"Course Played"})],defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),component:Ho,onChange:function(t,s,a){s?e.props.change("course_id",s):e.props.change("course_id",null)},className:"react-select-container",classNamePrefix:"react-select"})]}),this.props.emptyCombined&&this.props.selectedTee&&Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{children:["Tee ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{className:"react-select-container",component:yt,disabled:!0,name:"tee_set_id",classNamePrefix:"react-select",options:this.state.teeSetsOptions})]})]}),this.props.emptyCombined&&this.props.selectedTee?Object(re.jsxs)("div",{className:"row",children:[18===this.props.score.number_of_holes&&Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"front9",children:"Front 9"}),Object(re.jsx)(g.a,{type:"text",component:ce,name:"front9",disabled:18===this.props.score.number_of_holes})]}),18===this.props.score.number_of_holes&&Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"back9",children:"Back 9"}),Object(re.jsx)(g.a,{type:"text",component:ce,name:"back9",disabled:18===this.props.score.number_of_holes})]}),Object(re.jsxs)("div",{className:"col is-1-of-3 ".concat(18!==this.props.score.number_of_holes?"push-right":""),children:[Object(re.jsxs)("label",{htmlFor:"adjusted_gross_score",children:["Total ",18===this.props.score.number_of_holes?18:9,Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{hideErrorMessages:!0,validate:[Me({fieldName:"Total Score"}),xe,Ie()],type:"text",component:ce,name:"adjusted_gross_score"})]})]}):Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)(tc,{score:this.props.score,change:this.props.change,asyncSelect:!0,dynamicSelector:this.props.dynamicSelector})})})]}):Object(re.jsx)(tc,{score:this.props.score,forcedManual:this.props.forcedManual&&this.props.combinedScore,change:this.props.change,dynamicSelector:this.props.dynamicSelector})})]}),this.props.formValuesErrors&&this.props.formFields&&Object(re.jsx)("p",{children:Object.entries(this.props.formValuesErrors).map((function(t){var s=Object(ss.a)(t,2),a=s[0],i=s[1];return e.props.formFields[a]&&e.props.formFields[a].touched?Object(re.jsx)("span",{className:"validation__message is-error",children:i}):null}))}),this.state.errors.length>0&&Object(re.jsx)("p",{children:this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e})}))}),Object(re.jsxs)("div",{className:"row align-right",children:[this.props.score.exceptional&&Object(re.jsx)("div",{className:"col is-1-of-4 ai-fe jc-c",style:{height:"40px"},children:this.props.overriden?"ESR Adjustment Overriden":Object(re.jsx)("button",{onClick:function(){return e.setState({overrideModal:!0})},type:"button",className:"btn fill gray",children:"Override ESR Adjustments"})}),this.props.score.committee_master_score&&Object(re.jsx)("div",{className:"col is-2-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.setState({confirmScoreDifferentialsRemoval:!0})},type:"button",className:"btn fill gray",children:"Remove Score Differentials"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.props.closeModal()},type:"button",className:"btn fill gray",children:"Close"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Edit Score"})})]}),this.state.overrideModal&&Object(re.jsx)(cs,{openModal:this.state.overrideModal,wideClass:"narrow",onConfirmAction:function(){e.props.overrideScore(),e.setState({overrideModal:!1})},modalIcon:"error_outline",onCancelAction:function(){e.setState({overrideModal:!1})},closeModal:function(){e.setState({overrideModal:!1})},infoText:["Please confirm that you would like to override the ESR adjustments of this score"],cancelLabel:"Close",confirmLabel:"Confirm"}),this.state.confirmScoreDifferentialsRemoval&&Object(re.jsx)(cs,{openModal:!0,wideClass:"narrow",onConfirmAction:function(){e.removeScoreDifferentials(),e.setState({confirmScoreDifferentialsRemoval:!1})},modalIcon:"error_outline",onCancelAction:function(){e.setState({confirmScoreDifferentialsRemoval:!1})},closeModal:function(){e.setState({confirmScoreDifferentialsRemoval:!1})},infoText:["Please confirm that you would like to remove the score differentials adjustments."],cancelLabel:"Close",confirmLabel:"Confirm"})]}):null}}]),s}(a.Component);sc=Object(_.a)({form:"editScoreForm",destroyOnUnmount:!0,touchOnChange:!0})(sc);var ac=Object(u.o)(Object(p.c)((function(e){var t=Object(es.a)("editScoreForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,score_type:t(e,"score_type"),formValuesErrors:e.form.editScoreForm?e.form.editScoreForm.syncErrors:{},formFields:e.form.editScoreForm?e.form.editScoreForm.fields:{},dynamicSelector:function(s){return t(e,s)}}}),(function(e){return Object(v.b)({},e)}))(Ve(sc))),ic=s(487),nc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={scoreType:"home",nrHoles:"18",method:"home-course",scoreId:null,courses:9===a.props.score.number_of_holes&&a.props.homeCourses.length>0?a.props.homeCourses.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side})):a.props.homeCourses.filter((function(e){return"All18"===e.tee_set_side})),errors:[],overrideModal:!1,agsMax:null,teeSetsOptions:9===a.props.score.number_of_holes?a.props.teeSetsOptions.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side})):a.props.teeSetsOptions.filter((function(e){return"All18"===e.tee_set_side})),golfer:a.props.golfer,selectedCourse:null,loading:!1},a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){for(var t=this,s=[],a=1;a<19;a++){var i=e.holes["hole"+a];void 0===i?s.push({}):"X"===this.customParseInt(i)?s.push({hole_number:a,x_hole:!0,raw_score:10}):"X"===i[0]?s.push({hole_number:a,most_likely_score:this.customParseInt(i),raw_score:this.customParseInt(i)}):s.push({hole_number:a,raw_score:parseInt(i)})}var n={},o="home"===this.state.scoreType?"H":"away"===this.state.scoreType?"A":"T";return"home-course"===this.state.method?("9"===this.state.nrHoles&&(s="F9"===e.course_name.tee_set_side?s.slice(0,9):s.slice(9,18)),n={golfer_id:this.state.golfer.id,course_id:e.course_name.courseId,tee_set_id:e.course_name.teeSetID,tee_set_side:9===parseInt(this.state.nrHoles)?e.course_name.tee_set_side:"All18",played_at:ue()(e.date).format("YYYY-MM-DD"),score_type:o,hole_details:s,override_confirmation:!1,is_manual:!1,number_of_holes:this.state.nrHoles,gender:this.state.golfer.gender}):("9"===this.state.nrHoles&&(s="F9"===e.tee_set_id.tee_set_side?s.slice(0,9):s.slice(9,18)),n={golfer_id:this.state.golfer.id,course_id:e.course_name.value,tee_set_id:e.tee_set_id.value,tee_set_side:9===parseInt(this.state.nrHoles)?e.tee_set_id.tee_set_side:"All18",played_at:ue()(e.date).format("YYYY-MM-DD"),score_type:o,hole_details:s,override_confirmation:!1,is_manual:!1,number_of_holes:this.state.nrHoles,gender:this.state.golfer.gender}),this.props.combined_score_id&&(n.combined_score_id=this.props.combined_score_id,n.score_index=this.props.selectedScoreIndex,n.combined_9_hole_score=this.props.combined_9_hole_score),Xr.editHoleByHole(this.props.score.id,n).then((function(e){"UnderReview"===e.score.status||t.props.addAlert({type:"success",message:"Hole by hole score has been successfully edited"}),t.props.closeModal(!0),t.props.setOutdatedScoreModalOpen(!e.score.is_recent)})).catch((function(e){console.log(e);var s=[];e&&e.data&&e.data.errors&&Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})}))}},{key:"getHomeCourses",value:function(){"9"===this.state.nrHoles?this.setState({courses:this.props.homeCourses.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side}))}):this.setState({courses:this.props.homeCourses.filter((function(e){return"All18"===e.tee_set_side}))})}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"componentDidMount",value:function(){this.initializeScoreFromProps()}},{key:"initializeScoreFromProps",value:function(){var e=this;this.props.initialize(Object(j.a)(Object(j.a)({},this.props.score),{},{date:new Date(ue()(this.props.score.played_at,"YYYY-MM-DD")),score_type:this.props.selectedTee?"A"===this.props.score.score_type?"away":"competition":"home",nrHoles:this.props.score.number_of_holes.toString()})),this.setState({scoreType:"H"===this.props.score.score_type?"home":"A"===this.props.score.score_type?"away":"competition",nrHoles:this.props.score.number_of_holes.toString(),method:this.props.selectedTee?"course":"home-course"},(function(){e.props.selectedTee?(e.props.change("course_name",e.props.selectedCourse),e.props.change("tee_set_id",e.props.selectedTee),e.changeCourse(e.props.selectedCourse,e.props.selectedTee.value,e.props.selectedTee.tee_set_side)):(e.props.change("course_name",e.props.selectedCourse),e.changeHomeCourse(e.props.selectedCourse))}))}},{key:"componentDidUpdate",value:function(e,t,s){this.props.score!==e.score?this.initializeScoreFromProps():(this.state.method!==t.method&&(this.setState({courses:[],errors:[]}),"home-course"===this.state.method&&this.getHomeCourses()),this.state.nrHoles!==t.nrHoles&&(this.setState({errors:[]}),"home-course"===this.state.method&&this.getHomeCourses()))}},{key:"returnTotal",value:function(e,t,s,a){for(var i=0,n=s;n<=a;n++)i+="hole"===t||"holes.hole"===t?e[t+n]?isNaN(this.customParseInt(e[t+n]))?this.state.agsMax[n-1].net_par:this.customParseInt(e[t+n]):0:e[n]?e[n][t]:0;return 0===i?"":i}},{key:"generateCells",value:function(e,t){var s=this,a=[];a="front"===e?[1,2,3,4,5,6,7,8,9]:[10,11,12,13,14,15,16,17,18];var i=this.state.selectedCourse.holes;return a.map((function(a){if(t){if("yards"===t)return Object(re.jsx)("div",{className:"hbh_cell",children:i[a-1]?i[a-1].Length:0},a);if("par"===t)return Object(re.jsx)("div",{className:"hbh_cell",children:i[a-1]?i[a-1].Par:0},a);if("stroke"===t)return Object(re.jsx)("div",{className:"hbh_cell",children:i[a-1]?i[a-1].Allocation:0},a);if("hole"===t){var n=null,o=s.props.score.hole_details;if(o){var r=o.filter((function(e){return e.hole_number===a}))[0];r&&(n=r.putts)}return Object(re.jsx)("div",{className:"hbh_cell",children:Object(re.jsx)(g.a,{component:ce,type:"text",hideErrorMessages:!0,name:"holes.hole".concat(a),validate:o&&n&&[(c=n,Object(le.numericality)({int:!0,">":c,msg:{">=":"The score can't be smaller or equal to the hole putts."}}))],disabled:"front"===e?"9"===s.state.nrHoles&&"B9"===s.state.selectedCourse.tee_set_side:"9"===s.state.nrHoles&&"F9"===s.state.selectedCourse.tee_set_side,onChange:function(e){if(/^[xX]?[0-9]*$/.test(e.target.value)&&0!==s.customParseInt(e.target.value)){var t="B9"===s.state.selectedCourse.tee_set_side?11:2;s.checkValue(e,a+1,t)}else e.preventDefault()},normalize:function(e){return e.toUpperCase()},className:"hbh-score-input",id:"holes.hole".concat(a)})},a)}return"ags"===t?Object(re.jsx)("div",{className:"hbh_cell",children:s.props.formValues.ags["hole"+a]},a):null}return Object(re.jsx)("div",{className:"hbh_cell",children:a},a);var c}))}},{key:"getTeeAGS",value:function(e,t,s){var a=this,i={golfer_id:this.state.golfer.id,tee_set_id:e,include_net_pars:!0,played_at:ue()(t).format("YYYY-MM-DD")};Zt.getTeeAGS(i,s).then((function(e){e.maximum_scores&&e.maximum_scores.length>0&&a.setState({agsMax:e.maximum_scores,errors:[]},(function(){var e={},t={},s="B9"===a.state.selectedCourse.tee_set_side?10:1;a.props.score.hole_details.forEach((function(i){i.x_hole?(t["hole"+i.hole_number]="X",e["hole"+i.hole_number]=a.state.agsMax[i.hole_number-s].net_par):i.most_likely_score?(t["hole"+i.hole_number]="X".concat(i.most_likely_score),e["hole"+i.hole_number]=Math.min(i.most_likely_score,a.state.agsMax[i.hole_number-s].maximum_score)):(t["hole"+i.hole_number]=i.raw_score,e["hole"+i.hole_number]=Math.min(i.raw_score,a.state.agsMax[i.hole_number-s].maximum_score))})),a.props.change("holes",t),a.props.change("ags",e),a.setState({loading:!1})}))})).catch((function(e){var t=[];Object.keys(e.data.errors).forEach((function(s){e.data.errors[s].length>1?e.data.errors[s].forEach((function(e){t.push(s.replace(/_/g," ")+" "+e)})):t.push(e.data.errors[s][0])})),a.setState({errors:t,loading:!1})}))}},{key:"customParseInt",value:function(e){return"x"===e||"X"===e?"X":("x"!==e[0]&&"X"!==e[0]||(e=e.substring(1)),parseInt(e))}},{key:"checkValue",value:function(e,t,s){var a=e.target&&e.target.value,i=e.target&&e.target.name,n=this.props.formValues.holes,o=this.props.formValues.ags,r=null;if(-1!==i.indexOf("holes.")&&(i=i.slice(6)),isNaN(this.customParseInt(a))?"X"===this.customParseInt(a)?(n[i]="X",o[i]=this.state.agsMax[t-2].net_par):(n[i]="",o[i]=""):this.customParseInt(a)<30&&(n[i]=a,0!==this.customParseInt(a)&&(o[i]=Math.min(this.customParseInt(a),this.state.agsMax[t-s].maximum_score)),o[i]||(o[i]="")),r=n["hole"+t]?(r=Object.keys(n).find((function(e){return!n[e]&&e.slice(4)>t?e:null})))?r.slice(4):20:t,!/^[xX]?\d*$/.test(a)&&a||0===this.customParseInt(a)||!(isNaN(this.customParseInt(a))||this.customParseInt(a)<30))e.preventDefault();else if(1!==this.customParseInt(a)&&!isNaN(this.customParseInt(a))&&t)if(this.props.formValues.holes["hole"+r])isNaN(this.customParseInt(a))||this.blurInput(t-1);else switch(r){case 10:"9"===this.state.nrHoles&&"F9"===this.state.selectedCourse.tee_set_side?this.blurInput(9):this.focusInput(r);break;case 19:this.blurInput(18);break;case 20:break;default:this.focusInput(r)}this.props.change({holes:n}),this.props.change({ags:o}),this.forceUpdate()}},{key:"changeHomeCourse",value:function(e){9===e.holesNumber&&this.props.change("nrHoles","9"),this.setState({selectedCourse:Object(j.a)(Object(j.a)({},e),{tee_set_side:9===e.holesNumber?"F9":e.tee_set_side}),nrHoles:9===e.holesNumber?e.holesNumber.toString():this.state.nrHoles,agsMax:null}),this.getTeeAGS(e.teeSetID,this.props.formValues.date,e.tee_set_side)}},{key:"changeCourse",value:function(e,t,s){var a=this;e?(this.props.change("course_name.courseId",e),ar.getCourseDetails(e.value).then((function(e){var i=a.parseCourse(e),n=(i="18"===a.state.nrHoles?i.filter((function(e){return"All18"===e.tee_set_side})):i.filter((function(e){return"F9"===e.tee_set_side||"B9"===e.tee_set_side}))).filter((function(e){return parseInt(e.value)===parseInt(t)&&e.tee_set_side===s}))[0];n?(a.props.change("tee_set_id",n),a.setState({teeSetsOptions:i,selectedCourse:n,agsMax:null},(function(){a.getTeeAGS(n.value,a.props.formValues.date,s)}))):(a.props.change("tee_set_id",null),a.props.change("tee_set_id",null),a.setState({teeSetsOptions:i,agsMax:null}))}))):(this.props.change("tee_set_id",null),this.setState({teeSetsOptions:[],agsMax:null})),this.props.change("ags",{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""})}},{key:"parseCourse",value:function(e,t){var s=this,a=e.TeeSets.filter((function(e){return e.Gender.charAt(0)===s.props.golfer.gender})).map((function(t){var s=t.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],a=t.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],i=t.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:t.TeeSetRatingName,holes:t.Holes,holesNumber:t.HolesNumber,value:t.TeeSetRatingId,courseId:e.CourseId,ratingTotal:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingFront:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating),ratingBack:i&&"".concat(parseFloat(i.CourseRating).toFixed(1)," / ").concat(i.SlopeRating),totalCourseRating:s&&s.CourseRating,frontCourseRating:a&&a.CourseRating,backCourseRating:i&&i.CourseRating,totalSlopeRating:s&&s.SlopeRating,frontSlopeRating:a&&a.SlopeRating,backSlopeRating:i&&i.SlopeRating}}));return a=a.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.holes.reduce((function(e,t,s){return e+t.Par}),0),n={label:"".concat(t.label," F9 (").concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"F9",course_rating:t.frontCourseRating,slope_rating:t.frontSlopeRating},o=9!==t.holesNumber&&{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"B9",course_rating:t.backCourseRating,slope_rating:t.backSlopeRating},r=9!==t.holesNumber&&{label:"".concat(t.label," (").concat(t.ratingTotal," / ").concat(i,")"),value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"All18",course_rating:t.frontCourseRating,slope_rating:t.frontSlopeRating};return e.concat([r,n,o])}),[])}},{key:"focusInput",value:function(e){document.getElementsByName("holes.hole"+e)[0].focus()}},{key:"blurInput",value:function(e){document.getElementsByName("holes.hole"+e)[0].blur()}},{key:"removeScoreDifferentials",value:function(){var e=this;Bt.removeScoreDifferentials(this.props.score.golfer_id,this.props.score.id).then((function(){e.props.closeModal(!0,!0)})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=!0;this.state.selectedCourse&&this.props.formValues&&this.props.formValues.holes&&("All18"===this.state.selectedCourse.tee_set_side?18!==Object.keys(this.props.formValues.holes).length&&(o=!1):9!==Object.keys(this.props.formValues.holes).length&&(o=!1));var r=!1;return this.props.errors&&this.props.errors.holes&&Object.keys(this.props.errors.holes).forEach((function(t){["This field is required","is not a number"].includes(e.props.errors.holes[t])||(r=!0)})),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"row with-padding-vertical ",children:[Object(re.jsxs)("div",{className:"col  is-1-of-5",children:[Object(re.jsxs)("label",{htmlFor:"date",children:["Date Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,minDate:new Date("1/1/1990"),className:"date",showMonthDropdown:!0,showYearDropdown:!0,value:new Date,name:"date",id:"date",component:os,placeholder:"Select ...",onChange:function(t){e.setState({loading:!0}),e.getTeeAGS(e.state.selectedCourse.value,t,e.state.selectedCourse.tee_set_side)}})]}),Object(re.jsxs)("div",{className:"col  is-3-of-5",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Score Type"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){var t=e.state.scoreType,s=e.state.method;e.setState({scoreType:"home",method:"competition"!==t||"home-course"!==s?"home-course":e.state.method,selectedCourse:"competition"!==t||"home-course"!==s?null:e.state.selectedCourse}),e.props.change("scoreType","home"),"competition"===t&&"home-course"===s||(e.props.change("course_name",null),e.props.change("method","home-course"))},checked:"home"===this.state.scoreType,id:"home",name:"home",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"home",children:"Home"}),Object(re.jsx)(g.a,{onClick:function(){var t=e.state.scoreType,s=e.state.method;e.setState({scoreType:"away",method:"competition"!==t||"course"!==s?"course":e.state.method,course:null,selectedCourse:"competition"!==t||"course"!==s?null:e.state.selectedCourse}),"competition"===t&&"course"===s||(e.props.change("course_name",null),e.props.change("tee_set_id",null),e.props.change("method","course")),e.props.change("scoreType","away")},checked:"away"===this.state.scoreType,id:"away",name:"away",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"away",children:"Away"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"competition"}),e.props.change("scoreType","competition")},checked:"competition"===this.state.scoreType,id:"competition",name:"competition",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"competition",children:"Competition"})]})]}),Object(re.jsxs)("div",{className:"col  is-1-of-5",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Holes"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"18",selectedCourse:null,agsMax:null}),e.props.change("nrHoles","18"),e.props.change("course_name",null),"home"!==e.state.scoreType&&e.props.change("tee_set_id",null)},checked:"18"===this.state.nrHoles,disabled:!0,id:"18",name:"18",component:"input",type:"radio"}),Object(re.jsx)("label",{className:"disabled",htmlFor:"18",children:"18"}),Object(re.jsx)(g.a,{onClick:function(){if("competition"===e.state.scoreType)return!1;e.setState({nrHoles:"9",selectedCourse:null,agsMax:null}),e.props.change("nrHoles","9"),e.props.change("course_name",null),"home"!==e.state.scoreType&&e.props.change("tee_set_id",null)},disabled:!0,checked:"9"===this.state.nrHoles,id:"9",name:"9",component:"input",type:"radio"}),Object(re.jsx)("label",{className:"disabled",htmlFor:"9",children:"9"})]})]})]}),Object(re.jsxs)("div",{className:"row with-padding-vertical ",children:[Object(re.jsxs)("div",{className:"col  is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Choose Course/Tee Lookup Method:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({method:"home-course",scoreType:"competition"===e.state.scoreType?"competition":"home",selectedCourse:null}),e.props.change("method","home-course"),e.props.change("course_name",null),e.props.untouch("course_name"),"competition"!==e.state.scoreType&&e.props.change("scoreType","home")},checked:"home-course"===this.state.method,id:"home-course",name:"home-course",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"home-course",children:"Home Courses/Tees"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({method:"course",scoreType:"competition"===e.state.scoreType?"competition":"away",selectedCourse:null}),e.props.change("method","course"),e.props.change("course_name",null),e.props.untouch("course_name"),"competition"!==e.state.scoreType&&e.props.change("scoreType","away")},checked:"course"===this.state.method,id:"course",name:"course",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"course",children:"Course/Tee Search"})]})]}),"home-course"===this.state.method?Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("label",{htmlFor:"course_name",children:"Course/Tee Played"}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",onChange:function(t){e.setState({loading:!0}),e.changeHomeCourse(t)},component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.courses})]})}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-2-of-8",children:[Object(re.jsxs)("label",{htmlFor:"tee",children:["Course Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",validate:[pe],defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),component:Ho,onChange:function(t,s,a){e.changeCourse(s)},className:"react-select-container",classNamePrefix:"react-select"})]}),Object(re.jsxs)("div",{className:"col is-2-of-8",children:[Object(re.jsxs)("label",{htmlFor:"tee",children:["Tee (C.R. / Slope / Par) ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"tee_set_id",id:"tee_set_id",validate:[pe],onChange:function(t){e.setState({selectedCourse:{tee_set_side:t.tee_set_side,value:t.value,holes:t.holes},loading:!0,agsMax:null},(function(){e.getTeeAGS(t.value,e.props.formValues.date,t.tee_set_side)}))},options:this.state.teeSetsOptions,component:yt,className:"react-select-container",classNamePrefix:"react-select"})]})]})]}),this.state.loading?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):this.state.selectedCourse&&this.state.agsMax&&this.props.formValues&&this.props.formValues.holes&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("ul",{className:"table__legend",children:Object(re.jsx)("li",{children:"Hole Is Not Played: Enter X | Hole Not Completed: Enter X + Most Likely Score (ex: X5)"})})})}),Object(re.jsx)("div",{className:"row align-right ",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"hbh-container ".concat("9"===this.state.nrHoles&&"B9"===this.state.selectedCourse.tee_set_side?"disabled":""),children:Object(re.jsx)("div",{className:"hbh",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"hbh_row hole",children:[Object(re.jsx)("div",{className:"hbh_cell label"}),this.generateCells("front"),Object(re.jsx)("div",{className:"hbh_cell",children:"OUT"})]}),Object(re.jsxs)("div",{className:"hbh_row yards",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Yards"}),this.generateCells("front","yards"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Length",0,8)})]}),Object(re.jsxs)("div",{className:"hbh_row par",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Par"}),this.generateCells("front","par"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Par",0,8)})]}),Object(re.jsxs)("div",{className:"hbh_row",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Stroke Index"}),this.generateCells("front","stroke"),Object(re.jsx)("div",{className:"hbh_cell"})]}),Object(re.jsxs)("div",{className:"hbh_row score",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Score"}),this.generateCells("front","hole"),Object(re.jsx)("div",{className:"hbh_cell gray",children:this.returnTotal(this.props.formValues.holes,"hole",1,9)})]}),Object(re.jsxs)("div",{className:"hbh_row esc_score ",children:[Object(re.jsx)("div",{className:"hbh_cell label ",children:"Adj. Score"}),this.generateCells("front","ags"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.props.formValues.ags,"hole",1,9)})]})]})})}),Object(re.jsx)("div",{className:"hbh-container ".concat("9"===this.state.nrHoles&&"F9"===this.state.selectedCourse.tee_set_side?"disabled":""),children:Object(re.jsx)("div",{className:"hbh",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"hbh_row hole",children:[Object(re.jsx)("div",{className:"hbh_cell label"}),this.generateCells("back"),Object(re.jsx)("div",{className:"hbh_cell",children:"IN"}),Object(re.jsx)("div",{className:"hbh_cell",children:"TOT"})]}),Object(re.jsxs)("div",{className:"hbh_row yards",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Yards"}),this.generateCells("back","yards"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Length",9,17)}),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Length",0,17)})]}),Object(re.jsxs)("div",{className:"hbh_row par",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Par"}),this.generateCells("back","par"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Par",9,17)}),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Par",0,17)})]}),Object(re.jsxs)("div",{className:"hbh_row",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Stroke Index"}),this.generateCells("back","stroke"),Object(re.jsx)("div",{className:"hbh_cell"}),Object(re.jsx)("div",{className:"hbh_cell"})]}),Object(re.jsxs)("div",{className:"hbh_row score",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Score"}),this.generateCells("back","hole"),Object(re.jsx)("div",{className:"hbh_cell gray",children:this.returnTotal(this.props.formValues.holes,"hole",10,18)}),Object(re.jsx)("div",{className:"hbh_cell gray",children:this.returnTotal(this.props.formValues.holes,"hole",1,18)})]}),Object(re.jsxs)("div",{className:"hbh_row esc_score ",children:[Object(re.jsx)("div",{className:"hbh_cell label ",children:"Adj. Score"}),this.generateCells("back","ags"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.props.formValues.ags,"hole",10,18)}),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.props.formValues.ags,"hole",1,18)})]})]})})})]})})]}),this.state.errors.length>0&&Object(re.jsx)("p",{children:this.state.errors.map((function(e,t){return Object(re.jsx)("span",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)},t)}))}),r&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object(re.jsx)("p",{className:"validation__message is-error",children:"A hole score must be greater than the number of putts."})})}),Object(re.jsxs)("div",{className:"row with-padding-vertical align-right",children:[this.props.score.exceptional&&Object(re.jsx)("div",{className:"col is-1-of-4 ai-fe jc-c",style:{height:"40px"},children:this.props.overriden?"ESR Adjustment Overriden":Object(re.jsx)("button",{onClick:function(){return e.setState({overrideModal:!0})},type:"button",className:"btn fill gray",children:"Override ESR Adjustments"})}),this.props.score.committee_master_score&&Object(re.jsx)("div",{className:"col is-2-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.setState({confirmScoreDifferentialsRemoval:!0})},type:"button",className:"btn fill gray",children:"Remove Score Differentials"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.props.closeModal()},type:"button",className:"btn fill gray",children:"Close"})}),Object(re.jsx)("div",{className:"col is-1-of-6 ",children:Object(re.jsx)("button",{disabled:i||n||!o,type:"submit",ref:"submit",className:"btn fill blue",children:"Edit Score"})})]})]})})}),this.state.overrideModal&&Object(re.jsx)(cs,{openModal:this.state.overrideModal,wideClass:"narrow",onConfirmAction:function(){e.props.overrideScore(),e.setState({overrideModal:!1})},modalIcon:"error_outline",onCancelAction:function(){e.setState({overrideModal:!1})},closeModal:function(){e.setState({overrideModal:!1})},infoText:["Please confirm that you would like to override the ESR adjustments of this score"],cancelLabel:"Close",confirmLabel:"Confirm"}),this.state.confirmScoreDifferentialsRemoval&&Object(re.jsx)(cs,{openModal:!0,wideClass:"narrow",onConfirmAction:function(){e.removeScoreDifferentials(),e.setState({confirmScoreDifferentialsRemoval:!1})},modalIcon:"error_outline",onCancelAction:function(){e.setState({confirmScoreDifferentialsRemoval:!1})},closeModal:function(){e.setState({confirmScoreDifferentialsRemoval:!1})},infoText:["Please confirm that you would like to remove the score differentials adjustments."],cancelLabel:"Close",confirmLabel:"Confirm"})]})}}]),s}(a.Component);nc=Object(_.a)({form:"editHBHScore",destroyOnUnmount:!0})(nc);var oc=Object(u.o)(Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,formValues:Object(Lt.a)("editHBHScore")(e),errors:Object(ic.a)("editHBHScore")(e)}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(nc)),rc=s(79),cc=s.n(rc),lc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={scores:[],homeCourses:[],selectedScoreIndex:0,forcedManual:!1,emptyCombined:!1,selectedCourse:!1,selectedAwayCourse:!1,selectedAwayTee:!1,loading:!0,loadingStatus:!1,overriden:!1,overrided:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=Object(fa.a)(ja.a.mark((function e(){var t,s=this;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=this.props.selectedScore).exceptional&&this.getStatus(t.id),"C"!==t.score_type){e.next=6;break}return e.abrupt("return",Xr.getChildScores(t.id,{golfer_id:this.props.selectedScore.golfer_id}).then((function(e){var a=e.scores;a.length>1?(a[0].played_at!==a[1].played_at?a.sort((function(e,t){return ue()().valueOf(e.played_at)-ue()().valueOf(t.played_at)})):a.sort((function(e,t){return e.score_day_order-t.score_day_order})),t.exceptional&&(a=a.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{exceptional:!0})}))),s.setState({scores:a},(function(){return s.changeCombined(0)}))):s.findCourse(t).then((function(){s.setState({forcedManual:!0,loading:!1,emptyCombined:!0})}))})).catch((function(e){console.log(e)})));case 6:if(!t.is_manual){e.next=12;break}return e.next=9,this.findCourse(t);case 9:this.setState({loading:!1}),e.next=14;break;case 12:return e.next=14,this.getData(t);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getStatus",value:function(e){var t=this;this.setState({loadingStatus:!0}),Xr.getOverrideSatus(e).then((function(e){"exceptional score - not overriden"===e.Score&&t.setState({overriden:!1,loadingStatus:!1}),"exceptional score - overriden"===e.Score&&t.setState({overriden:!0,loadingStatus:!1}),"not exceptional"===e.Score&&t.setState({overriden:!0,loadingStatus:!1})})).catch((function(e){console.log(e)}))}},{key:"getData",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s=this;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Zt.getClubHomeCourses(null,this.props.clubId).then(function(){var e=Object(fa.a)(ja.a.mark((function e(a){var i;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a.facilities.length>0)){e.next=7;break}return e.next=3,Promise.all(a.facilities.map(function(){var e=Object(fa.a)(ja.a.mark((function e(t){var a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.home_courses.map((function(e){var s=t.name===e.name?e.name:t.name+" "+e.name;return{req:ar.getCourseDetails(e.course_id),courseName:s,courseId:e.course_id}})).map(function(){var e=Object(fa.a)(ja.a.mark((function e(t){var a,i;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.req;case 2:return a=e.sent,i=s.parseCourse(a,t.courseName),e.abrupt("return",i);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 2:return a=e.sent,e.abrupt("return",cc()(a));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:i=e.sent,s.setState({homeCourses:cc()(i)},Object(fa.a)(ja.a.mark((function e(){var a;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=s.state.homeCourses.filter((function(e){return parseInt(e.teeSetID)===parseInt(t.tee_set_id)&&(e.tee_set_side===t.tee_set_side||!t.tee_set_side&&"All18"===e.tee_set_side)}))[0])){e.next=5;break}t.is_manual?s.setState({selectedAwayCourse:a,forcedManual:!1,loading:!1}):s.setState({selectedHomeCourse:a,forcedManual:!1,loading:!1}),e.next=8;break;case 5:return e.next=7,s.findCourse(t);case 7:t.is_manual||s.state.selectedAwayCourse&&s.state.selectedAwayTee?s.setState({forcedManual:!1,loading:!1}):s.setState({forcedManual:!0,loading:!1});case 8:case"end":return e.stop()}}),e)})))),e.next=10;break;case 7:return e.next=9,s.findCourse(t);case 9:s.state.selectedAwayCourse&&s.state.selectedAwayTee||t.is_manual?s.setState({forcedManual:!1,loading:!1}):s.setState({forcedManual:!0,loading:!1});case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.log(e)}));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"findCourse",value:function(){var e=Object(fa.a)(ja.a.mark((function e(t){var s=this;return ja.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ar.getCourseDetails(t.course_id).then((function(e){var a=s.parseCourse(e);s.setState({teeSetsOptions:a},(function(){var e={value:t.course_id,label:t.course_display_value},i=a.filter((function(e){return parseInt(e.value)===parseInt(t.tee_set_id)&&(e.tee_set_side===t.tee_set_side||!t.tee_set_side&&"All18"===e.tee_set_side)}))[0];i?s.setState({selectedAwayCourse:e,selectedAwayTee:i}):s.setState({selectedAwayCourse:e})}))})).catch((function(e){console.log(e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"overrideScore",value:function(){var e=this;Xr.overrideScore(this.props.selectedScore.id).then((function(t){e.setState({overrided:!0},(function(){return e.getStatus(e.props.selectedScore.id)}))})).catch((function(e){console.log(e)}))}},{key:"parseCourse",value:function(e,t){var s=this,a=e.TeeSets.filter((function(e){return e.Gender.charAt(0)===s.props.golfer.gender})).map((function(s){var a=s.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],i=s.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],n=s.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:t?t+" "+s.TeeSetRatingName:s.TeeSetRatingName,holes:s.Holes,value:s.TeeSetRatingId,courseId:e.CourseId,ratingTotal:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating),ratingFront:i&&"".concat(parseFloat(i.CourseRating).toFixed(1)," / ").concat(i.SlopeRating),ratingBack:n&&"".concat(parseFloat(n.CourseRating).toFixed(1)," / ").concat(n.SlopeRating),totalCourseRating:a&&a.CourseRating,frontCourseRating:i&&i.CourseRating,backCourseRating:n&&n.CourseRating,totalSlopeRating:a&&a.SlopeRating,frontSlopeRating:i&&i.SlopeRating,backSlopeRating:n&&n.SlopeRating,teeName:s.TeeSetRatingName}}));return a=a.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.holes.reduce((function(e,t,s){return e+t.Par}),0),n={label:"".concat(t.label," F9 (").concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"F9",course_rating:t.frontCourseRating,slope_rating:t.frontSlopeRating,teeName:t.teeName,par:s},o={label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"B9",course_rating:t.backCourseRating,slope_rating:t.backSlopeRating,teeName:t.teeName,par:a},r={label:"".concat(t.label," (").concat(t.ratingTotal," / ").concat(i,")"),value:t.value,holes:t.holes,courseId:t.courseId,teeSetID:t.value,tee_set_side:"All18",course_rating:t.frontCourseRating,slope_rating:t.frontSlopeRating,teeName:t.teeName,par:i};return e.concat([r,n,o])}),[])}},{key:"changeCombined",value:function(e){var t=this;this.setState({selectedScoreIndex:e,selectedAwayCourse:null,selectedAwayTee:null,selectedHomeCourse:null,loading:!0},(function(){t.getData(t.state.scores[t.state.selectedScoreIndex])}))}},{key:"render",value:function(){var e=this;return console.log(this.state),Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container wide",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Score"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.state.overrided?e.props.closeModal(!0):e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[this.props.selectedScore&&"C"===this.props.selectedScore.score_type&&!this.state.emptyCombined&&Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-3-of-4 jc-c",children:"You are editing a combined score. Please choose which score you wish to edit."}),Object(re.jsx)("div",{className:"col is-1-of-4",children:Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)("input",{onChange:function(t){e.changeCombined(0)},type:"radio",id:"score1",name:"score1",checked:0===this.state.selectedScoreIndex}),Object(re.jsx)("label",{htmlFor:"score1",children:"Edit Score 1"}),Object(re.jsx)("input",{onChange:function(t){e.changeCombined(1)},type:"radio",id:"score2",name:"score2",checked:1===this.state.selectedScoreIndex}),Object(re.jsx)("label",{htmlFor:"score2",children:"Edit Score 2"})]})})]}),this.state.loading||this.state.loadingStatus?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):Object(re.jsx)(a.Fragment,{children:this.props.selectedScore.is_manual||this.state.forcedManual?0!==this.state.scores.length||"N"!==this.props.selectedScore.score_type_display_short?Object(re.jsx)(ac,{score:"C"!==this.props.selectedScore.score_type||this.state.emptyCombined?this.props.selectedScore:this.state.scores.length>0&&this.state.scores[this.state.selectedScoreIndex],closeModal:function(t,s){e.state.overrided?e.props.closeModal(!0,s):e.props.closeModal(t,s)},emptyCombined:this.state.emptyCombined,forcedManual:this.state.forcedManual,overriden:this.state.overriden,overrideScore:function(){e.overrideScore()},combinedScore:"C"===this.props.selectedScore.score_type,combined_score_id:"C"===this.props.selectedScore.score_type&&this.props.selectedScore.id,combined_9_hole_score:this.state.scores.length>0?1===this.state.selectedScoreIndex?this.state.scores[0].id:this.state.scores[1].id:null,golfer:this.props.golfer,selectedTee:this.state.selectedAwayTee,selectedAwayCourse:this.state.selectedAwayCourse,setOutdatedScoreModalOpen:this.props.setOutdatedScoreModalOpen}):Object(re.jsx)(Zr,{score:"C"!==this.props.selectedScore.score_type||this.state.emptyCombined?this.props.selectedScore:this.state.scores.length>0&&this.state.scores[this.state.selectedScoreIndex],closeModal:function(t,s){e.state.overrided?e.props.closeModal(!0,s):e.props.closeModal(t,s)},combinedScore:"C"===this.props.selectedScore.score_type,golfer:this.props.golfer,overrideScore:function(){e.overrideScore()},overriden:this.state.overriden,homeCourses:this.state.homeCourses,teeSetsOptions:this.state.selectedAwayTee?this.state.teeSetsOptions:[],selectedCourse:this.state.selectedAwayCourse||this.state.selectedHomeCourse,selectedTee:this.state.selectedAwayTee,selectedScoreIndex:"C"===this.props.selectedScore.score_type&&this.state.selectedScoreIndex+1,combined_9_hole_score:this.state.scores.length>0?1===this.state.selectedScoreIndex?this.state.scores[0].id:this.state.scores[1].id:null,combined_score_id:"C"===this.props.selectedScore.score_type&&this.props.selectedScore.id,setOutdatedScoreModalOpen:this.props.setOutdatedScoreModalOpen,migrated_combined:!0}):"C"===this.props.selectedScore.score_type&&!this.state.emptyCombined&&0!==this.state.scores[this.state.selectedScoreIndex].hole_details.length||0!==this.props.selectedScore.hole_details.length&&!this.props.selectedScore.is_manual&&!this.state.forcedManual?Object(re.jsx)(oc,{score:"C"!==this.props.selectedScore.score_type||this.state.emptyCombined?this.props.selectedScore:this.state.scores.length>0&&this.state.scores[this.state.selectedScoreIndex],closeModal:function(t,s){e.state.overrided?e.props.closeModal(!0,s):e.props.closeModal(t,s)},combinedScore:"C"===this.props.selectedScore.score_type,golfer:this.props.golfer,overriden:this.state.overriden,homeCourses:this.state.homeCourses,overrideScore:function(){e.overrideScore()},teeSetsOptions:this.state.selectedAwayTee?this.state.teeSetsOptions:[],selectedCourse:this.state.selectedAwayCourse||this.state.selectedHomeCourse,selectedTee:this.state.selectedAwayTee,combined_score_id:"C"===this.props.selectedScore.score_type&&this.props.selectedScore.id,selectedScoreIndex:"C"===this.props.selectedScore.score_type&&this.state.selectedScoreIndex+1,combined_9_hole_score:this.state.scores.length>0?1===this.state.selectedScoreIndex?this.state.scores[0].id:this.state.scores[1].id:null,setOutdatedScoreModalOpen:this.props.setOutdatedScoreModalOpen}):Object(re.jsx)(Zr,{score:"C"!==this.props.selectedScore.score_type||this.state.emptyCombined?this.props.selectedScore:this.state.scores.length>0&&this.state.scores[this.state.selectedScoreIndex],closeModal:function(t,s){e.state.overrided?e.props.closeModal(!0,s):e.props.closeModal(t,s)},combinedScore:"C"===this.props.selectedScore.score_type,golfer:this.props.golfer,overrideScore:function(){e.overrideScore()},overriden:this.state.overriden,homeCourses:this.state.homeCourses,teeSetsOptions:this.state.selectedAwayTee?this.state.teeSetsOptions:[],selectedCourse:this.state.selectedAwayCourse||this.state.selectedHomeCourse,selectedTee:this.state.selectedAwayTee,selectedScoreIndex:"C"===this.props.selectedScore.score_type&&this.state.selectedScoreIndex+1,combined_9_hole_score:this.state.scores.length>0?1===this.state.selectedScoreIndex?this.state.scores[0].id:this.state.scores[1].id:null,combined_score_id:"C"===this.props.selectedScore.score_type&&this.props.selectedScore.id,setOutdatedScoreModalOpen:this.props.setOutdatedScoreModalOpen})})]})]})})}}]),s}(a.Component),dc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_pico"}),Object(re.jsx)("col",{className:"col_date"}),Object(re.jsx)("col",{className:"col_score"}),Object(re.jsx)("col",{className:"col_slope"}),Object(re.jsx)("col",{className:"col_course-name"}),Object(re.jsx)("col",{className:"col_date_edited"}),Object(re.jsx)("col",{className:""})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{className:"table-align-center",children:"..."}),Object(re.jsx)("th",{children:"Date Played"}),Object(re.jsx)("th",{children:"Score"}),Object(re.jsx)("th",{children:"C.R./Slope"}),Object(re.jsx)("th",{children:"Course Name / Tee"}),Object(re.jsx)("th",{children:"Date Edited"}),Object(re.jsx)("th",{children:"Edited By"})]})}),Object(re.jsx)("tbody",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{className:"table-align-center",children:"H"}),Object(re.jsx)("td",{className:"table-align-center",children:"07/25/2018"}),Object(re.jsx)("td",{className:"table-align-center",children:"78"}),Object(re.jsx)("td",{className:"table-align-center",children:"73.2/132"}),Object(re.jsx)("td",{children:"GLENLAKES GOLF CLUB - VISTA-DU"}),Object(re.jsx)("td",{children:"08-08-2018 03:35:37 PM"}),Object(re.jsx)("td",{})]})})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-4 push-right",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",children:"Close"})})})]})}}]),s}(a.Component),uc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container wide",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"bookmark"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Round Audit History"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(dc,{})})]})})}}]),s}(a.Component),hc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={loading:!0,logs:[]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Xr.getLogs(this.props.score.id).then((function(t){e.setState({loading:!1,logs:t.scores.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{played_at:ue()(e.played_at).format("MM/DD/YYYY"),edited_date:ue()(e.edited_date).format("MM/DD/YY HH:mm:ss"),cr_and_slope:e.course_rating+"/"+e.slope_rating,course_and_tee:e.course_display_name+(e.tee_name?" - "+e.tee_name:"")})}))})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Type",accessor:"score_type_display_full",thClassName:"table-align-center",className:"table-align-center",colClassName:"col_id"},{Header:"Date Played",accessor:"played_at",colClassName:"col_date",className:"table-align-center"},{Header:"Score",accessor:"adjusted_gross_score",thClassName:"table-align-center",className:"table-align-center",colClassName:"col_date"},{Header:"C.R./Slope",accessor:"cr_and_slope",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[parseFloat(e.original.course_rating).toFixed(1)," / ",e.original.slope_rating]})},thClassName:"table-align-center",className:"table-align-center",colClassName:"col_date"},{Header:Object(re.jsxs)(a.Fragment,{children:["PCC",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"pcc",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"pcc",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Playing Conditions Calculation "}),"The playing conditions calculation determines whether playing conditions on the day differed from normal conditions to the extent that an adjustment is needed to compensate. It is a statistical procedure that compares the scores submitted by players on the day against expected scoring patterns."]})]}),Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"pcc"===e.type})).length>0?e.original.adjustments.filter((function(e){return"pcc"===e.type}))[0].display:"-"})},accessor:"pcc",sortable:!1,className:"table-align-center",thClassName:"table-align-center",colClassName:"col_status"},{Header:Object(re.jsxs)(a.Fragment,{children:["Diff.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"diff",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"diff",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Score Differential "})," = (113/Slope Rating) * (Adjusted Gross Score \u2013 Course Rating \u2013 PCC). ESR and Committee Adjustments are applied to the previously calculated score differential."]})]}),Cell:function(e){return parseFloat(e.original.differential).toFixed(1)},accessor:"differential",className:"table-align-center",thClassName:"table-align-center",colClassName:"col_status"},{Header:Object(re.jsxs)(a.Fragment,{children:["ESR",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"esr",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"esr",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Exceptional Score Reduction "}),"When an exceptional score is posted to a player\u2019s scoring record, the Handicap Index will be reduced in accordance with the exceptional score adjustment table."]})]}),accessor:"esr",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"esr"===e.type})).length>0?e.original.adjustments.filter((function(e){return"esr"===e.type}))[0].display:"N/A"})},className:"table-align-center",thClassName:"table-align-center",colClassName:"col_status"},{Header:Object(re.jsxs)(a.Fragment,{children:["Adj.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"adj",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"adj",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Committee Adjustment"})," When an adjustment is applied by the Handicap Committee, it is intended to provide a better reflection of a player\u2019s demonstrated ability."]})]}),accessor:"adj",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"committee"===e.type})).length>0?e.original.adjustments.filter((function(e){return"committee"===e.type}))[0].display:"-"})},className:"table-align-center",thClassName:"table-align-center",colClassName:"col_status"},{Header:"Course Name / Tee",accessor:"course_and_tee"},{Header:"Date Edited",accessor:"edited_date",colClassName:"col_date_and_time"},{Header:"Edited By User",accessor:"edited_by"}];return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container ultra-wide",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"bookmark"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Score Edit Log"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)($t,{idKey:"id",style:this.state.logs.length>10&&{height:"452px",overflowY:"auto"},columns:t,loading:this.state.loading,hideSelect:!0,data:this.state.logs,ref:function(t){return e.table=t},hidePagination:!0,defaultSorted:[{id:"Name",desc:!1}],sortable:!0}),Object(re.jsx)("div",{className:"row margin-top-16",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("p",{children:[Object(re.jsx)("strong",{children:"Note:"}),' ESR data is not available for scores posted prior to 09/23/2020 and will display as "N/A".']})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col push-right is-1-of-6",children:Object(re.jsx)("button",{onClick:function(){return e.props.closeModal()},className:"btn fill blue",children:"Close"})})})]})]})})}}]),s}(a.Component),pc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){a.setState({filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))},(function(){a.updateTable()}))},a.updateTable=us()((function(){var e=JSON.parse(JSON.stringify(a.state.filters));Object.keys(e).forEach((function(t){if(null!==e[t]){if(Array.isArray(e[t])){var s=e[t];s=s.map((function(e){return e.value})).join(","),e[t]=s}"object"===typeof e[t]&&(e[t]=e[t].value)}})),a.props.updateFiltered(e)}),500),a.state={filters:{course_name:"",score_type:null,days_of_week:[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:7}],date_ranges:[{label:"Date Played",value:"played_at"}],from_date_played:null,to_date_played:null}},a}return Object(c.a)(s,[{key:"setInitialState",value:function(){var e=this;this.setState({filters:{course_name:null,score_type:null,days_of_week:[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:7}],date_ranges:[{label:"Date Played",value:"played_at"}],from_date_played:null,to_date_played:null}},(function(){return e.updateTable()}))}},{key:"componentDidMount",value:function(){this.updateFilter()}},{key:"reset",value:function(){this.setInitialState()}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Course Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.course_name,name:"course_name",id:"course_name",onChange:function(t){e.updateFilter("course_name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:[{label:"H",value:"H"},{label:"A",value:"A"},{label:"C",value:"T"},{label:"N",value:"C"},{label:"P",value:"P"},{label:"E",value:"E"}],value:this.state.filters.score_type,onChange:function(t){e.updateFilter("score_type",t)},label:"Score Type"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:[{label:"Monday",value:1},{label:"Tuesday",value:2},{label:"Wednesday",value:3},{label:"Thursday",value:4},{label:"Friday",value:5},{label:"Saturday",value:6},{label:"Sunday",value:7}],value:this.state.filters.days_of_week,onChange:function(t){e.updateFilter("days_of_week",t)},label:"Days of Week"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{label:"Date Played",value:"played_at"},{label:"Date Posted",value:"posted_at"}],value:this.state.filters.date_ranges,onChange:function(t){e.updateFilter("date_ranges",t)},label:"Date Range"})}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{children:"From"}),Object(re.jsx)(is.a,{selected:this.state.filters.from_date_played?new Date(this.state.filters.from_date_played):null,className:"date",dropdownMode:"select",dateFormat:"MM/dd/yyyy",showMonthDropdown:!0,showYearDropdown:!0,onKeyDown:function(e){ns(e)},onChange:function(t){if(t){var s=ue()(t).format("MM/DD/YYYY");e.updateFilter("from_date_played",s)}else e.updateFilter("from_date_played",null)}})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{children:"To"}),Object(re.jsx)(is.a,{selected:this.state.filters.to_date_played?new Date(this.state.filters.to_date_played):null,className:"date",dropdownMode:"select",dateFormat:"MM/dd/yyyy",showMonthDropdown:!0,showYearDropdown:!0,onKeyDown:function(e){ns(e)},onChange:function(t){if(t){var s=ue()(t).format("MM/DD/YYYY");e.updateFilter("to_date_played",s)}else e.updateFilter("to_date_played",null)}})]})]})})})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),mc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editScoreModalIsOpen:!1,deleteScoreModalIsOpen:!1,roundAuditHistoryModalIsOpen:!1,scoreLogsModal:!1,scores:[],scores9Holes:[],loading:!1,loading9Holes:!1,sorted:[{id:"date_played",desc:!1}],total:0,total9Holes:0,pages:0,pages9Holes:0,selectedScore:null,isExportDataOpened:!1,filtersHidden:!1,outdatedScoreModalOpen:!1,params:{golfer_id:null,page:1,per_page:25,days_of_week:"1,2,3,4,5,6,7"}},a.openEditScoreModal=a.openEditScoreModal.bind(Object(b.a)(a)),a.openDeleteScoreModal=a.openDeleteScoreModal.bind(Object(b.a)(a)),a.openRoundAuditHistoryModal=a.openRoundAuditHistoryModal.bind(Object(b.a)(a)),a.getScores=a.getScores.bind(Object(b.a)(a)),a.getCleanName=a.getCleanName.bind(Object(b.a)(a)),a.updateFilter=a.updateFilter.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"getScores",value:function(){var e=this,t=JSON.parse(JSON.stringify(this.state.params));this.state.sorted.length>0&&(t.sorting_criteria=this.state.sorted[0].id,t.order=this.state.sorted[0].desc?"desc":"asc"),t&&t.from_date_played&&(t.from_date_played=ue()(t.from_date_played,["MM-DD-YYYY","YYYY-MM-DD"]).format("YYYY-MM-DD")),t&&t.to_date_played&&(t.to_date_played=ue()(t.to_date_played,["MM-DD-YYYY","YYYY-MM-DD"]).format("YYYY-MM-DD")),t.statuses="Validated",t.number_of_holes="18",this.setState({loading:!0,scores:[]}),Xr.getAll(Object(j.a)({},t)).then((function(t){e.setState({scores:t.Scores.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{course_display_name:e.getCleanName(Object(j.a)(Object(j.a)({},t),{placeholder:!0}))})})),loading:!1,params:Object(j.a)(Object(j.a)({},e.state.params),{},{per_page:parseInt(t["per-page"],10)}),total:parseInt(t["total-count"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(e){console.log(e)})),t.number_of_holes="9",this.setState({loading9Holes:!0,scores9Holes:[]}),Xr.getAll(Object(j.a)({},t)).then((function(t){e.setState({scores9Holes:t.Scores.map((function(t){return Object(j.a)(Object(j.a)({},t),{},{course_display_name:e.getCleanName(Object(j.a)(Object(j.a)({},t),{placeholder:!0}))})})),loading9Holes:!1,params:Object(j.a)(Object(j.a)({},e.state.params),{},{per_page:parseInt(t["per-page"],10)}),total9Holes:parseInt(t["total-count"],10),pages9Holes:parseInt(t["total-pages"],10)})})).catch((function(e){}))}},{key:"updateFilter",value:function(e){var t=this;this.setState({params:Object(j.a)(Object(j.a)(Object(j.a)({},this.state.params),e),{},{page:1})},(function(){t.getScores()}))}},{key:"componentDidMount",value:function(){var e;et.a.setAppElement("body"),e=this.props.match.params.golfer_id.match(/^[0-9]*$/)?this.props.match.params.golfer_id:window.atob(this.props.match.params.golfer_id),this.setState({params:Object(j.a)(Object(j.a)({},this.state.params),{},{golfer_id:e})})}},{key:"openEditScoreModal",value:function(){}},{key:"openRoundAuditHistoryModal",value:function(){this.setState({roundAuditHistoryModalIsOpen:!0})}},{key:"openDeleteScoreModal",value:function(){this.setState({deleteScoreModalIsOpen:!0})}},{key:"closeModal",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.setState({editScoreModalIsOpen:!1,deleteScoreModalIsOpen:!1,roundAuditHistoryModalIsOpen:!1,selectedScore:null,scoreLogsModal:!1},(function(){t&&e.getScores()}))}},{key:"getCleanName",value:function(e){var t=e.ghin_course_name_display||e.course_display_value;if("C"===e.score_type&&t){if(-1!==t.indexOf(";;")){var s=t.split(";;");return e.placeholder?s[0]+" "+s[1]:Object(re.jsxs)(a.Fragment,{children:[s[0],Object(re.jsx)("br",{}),s[1]]})}return t}return t}},{key:"getCSV",value:function(){return Xr.exportToCSV(this.state.params).then((function(e){window.open(e.url,"_blank")})).catch((function(e){}))}},{key:"deleteScore",value:function(){var e=this;Xr.deleteScore(this.state.selectedScore.id,this.state.selectedScore).then((function(t){e.setState({deleteScoreModalIsOpen:!1,selectedScore:null},(function(){e.getScores()}))})).catch((function(e){console.error(e)}))}},{key:"getDeleteModalBody",value:function(){var e=this.state.selectedScore;return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_pico"}),Object(re.jsx)("col",{className:"col_date"}),Object(re.jsx)("col",{className:"col_score"}),Object(re.jsx)("col",{className:"col_slope"}),Object(re.jsx)("col",{className:""})]}),Object(re.jsx)("tbody",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{className:"table-align-center",children:e.score_type_display_full}),Object(re.jsx)("td",{className:"table-align-center",children:ue()(e.played_at).format("MM/DD/YYYY")}),Object(re.jsx)("td",{className:"table-align-center",children:e.adjusted_gross_score}),Object(re.jsxs)("td",{className:"table-align-center",children:[e.course_rating,"/",e.slope_rating]}),Object(re.jsx)("td",{children:this.getCleanName(e)})]})})]})})})}},{key:"setOutdatedScoreModalOpen",value:function(e){this.setState({outdatedScoreModalOpen:e})}},{key:"render",value:function(){var e=this,t=[{accessor:"revision",show:!1},{Header:"Used",accessor:"used",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.used&&Object(re.jsx)("i",{className:"material-icons-outlined blue td-align-center",children:"star_border"})})},thClassName:"table-align-center is-1-of-4"},{Header:"Score Type",accessor:"score_type_display_full",thClassName:"table-align-center is-4-of-10",className:"table-align-center"},{Header:"Date Played",accessor:"played_at",Cell:function(t){return e.props.publicView?ue()(t.original.played_at,"YYYY-MM-DD").format("MM/YYYY"):ue()(t.original.played_at,"YYYY-MM-DD").format("MM/DD/YYYY")},className:"table-align-center",thClassName:"table-align-center is-5-of-10"},{Header:"Score",accessor:"adjusted_gross_score",Cell:function(t){return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("span",{children:[t.original.adjusted_gross_score," ",t.original.edited&&Object(re.jsx)("i",{onClick:function(){e.setState({scoreLogsModal:!0,selectedScore:t.original})},className:"material-icons-outlined blue",children:"bookmark"})]})})},highlightColumn:!0,highlightConditionKey:"revision",className:"table-align-center",thClassName:"table-align-center is-1-of-3"},{Header:"C.R./Slope",accessor:"course_and_slope_rating",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[parseFloat(e.original.course_rating).toFixed(1)," / ",e.original.slope_rating]})},className:"table-align-center",thClassName:"table-align-center is-1-of-2"},{Header:Object(re.jsxs)(a.Fragment,{children:["PCC",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"pcc",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"pcc",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Playing Conditions Calculation "}),"The playing conditions calculation determines whether playing conditions on the day differed from normal conditions to the extent that an adjustment is needed to compensate. It is a statistical procedure that compares the scores submitted by players on the day against expected scoring patterns."]})]}),accessor:"pcc",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"pcc"===e.type})).length>0?e.original.adjustments.filter((function(e){return"pcc"===e.type}))[0].display:"-"})},thClassName:"table-align-center is-1-of-3",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Diff.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"diff",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"diff",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Score Differential "})," = (113/Slope Rating) * (Adjusted Gross Score \u2013 Course Rating \u2013 PCC). ESR and Committee Adjustments are applied to the previously calculated score differential."]})]}),Cell:function(e){return parseFloat(e.original.differential).toFixed(1)},accessor:"differential",thClassName:"table-align-center is-1-of-3",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["ESR",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"esr",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"esr",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Exceptional Score Reduction "}),"When an exceptional score is posted to a player\u2019s scoring record, the Handicap Index will be reduced in accordance with the exceptional score adjustment table."]})]}),accessor:"esr",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"esr"===e.type})).length>0?e.original.adjustments.filter((function(e){return"esr"===e.type}))[0].value:"-"})},thClassName:"table-align-center is-1-of-3",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Adj.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"adj",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"adj",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Committee Adjustment"})," When an adjustment is applied by the Handicap Committee, it is intended to provide a better reflection of a player\u2019s demonstrated ability."]})]}),accessor:"adj",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"committee"===e.type})).length>0?e.original.adjustments.filter((function(e){return"committee"===e.type}))[0].value:"-"})},thClassName:"table-align-center is-1-of-3",className:"table-align-center "},{Header:"Course Name / Tee",accessor:"course_display_name",show:!this.props.publicView,Cell:function(t){return Object(re.jsx)(a.Fragment,{children:e.getCleanName(t.original)})}},{Header:"Date Posted",accessor:"posted_at",Cell:function(t){return Object(re.jsxs)(a.Fragment,{children:[e.props.publicView?ue()(t.value).format("MM/YYYY"):ue()(t.value).format("MM/DD/YYYY HH:mm:ss")," "]})},className:"table-align-center",thClassName:"table-align-center is-9-of-12"},{Header:"",sortable:!1,show:!this.props.publicView&&!this.props.archived&&Ye(this.props.user_type,"manage-scores"),thClassName:"is-6-of-10",Cell:function(t){return Object(re.jsxs)("span",{className:"col_edit-delete",children:["P"!==t.original.score_type&&Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({editScoreModalIsOpen:!0,selectedScore:t.original})},children:"Edit"}),Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({deleteScoreModalIsOpen:!0,selectedScore:t.original})},children:"Delete"})]})}}],s=[{accessor:"revision",show:!1},{Header:"Score Type",accessor:"score_type_display_full",colClassName:"col_type",thClassName:"table-align-center is-small",className:"table-align-center"},{Header:"Date Played",accessor:"played_at",Cell:function(t){return e.props.publicView?ue()(t.original.played_at,"YYYY-MM-DD").format("MM/YYYY"):ue()(t.original.played_at,"YYYY-MM-DD").format("MM/DD/YYYY")},className:"table-align-center",thClassName:"table-align-center is-7-of-10"},{Header:"Score",accessor:"adjusted_gross_score",Cell:function(t){return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("span",{children:[t.original.adjusted_gross_score," ",t.original.edited&&Object(re.jsx)("i",{onClick:function(){e.setState({scoreLogsModal:!0,selectedScore:t.original})},className:"material-icons-outlined blue",children:"bookmark"})]})})},highlightColumn:!0,highlightConditionKey:"revision",className:"table-align-center",thClassName:"table-align-center is-6-of-10"},{Header:"C.R./Slope",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[parseFloat(e.original.course_rating).toFixed(1)," / ",e.original.slope_rating]})},className:"table-align-center",thClassName:"table-align-center is-3-of-4"},{Header:Object(re.jsxs)(a.Fragment,{children:["PCC",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"pcc",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"pcc",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Playing Conditions Calculation "}),"The playing conditions calculation determines whether playing conditions on the day differed from normal conditions to the extent that an adjustment is needed to compensate. It is a statistical procedure that compares the scores submitted by players on the day against expected scoring patterns."]})]}),accessor:"pcc",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"pcc"===e.type})).length>0?e.original.adjustments.filter((function(e){return"pcc"===e.type}))[0].display:"-"})},thClassName:"table-align-center is-1-of-2",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Diff.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"diff",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"diff",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Score Differential "})," = (113/Slope Rating) * (Adjusted Gross Score \u2013 Course Rating \u2013 PCC). ESR and Committee Adjustments are applied to the previously calculated score differential."]})]}),Cell:function(e){return parseFloat(e.original.differential).toFixed(1)},accessor:"differential",thClassName:"table-align-center is-6-of-10",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["ESR",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"esr",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"esr",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Exceptional Score Reduction "}),"When an exceptional score is posted to a player\u2019s scoring record, the Handicap Index will be reduced in accordance with the exceptional score adjustment table."]})]}),accessor:"esr",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"esr"===e.type})).length>0?e.original.adjustments.filter((function(e){return"esr"===e.type}))[0].value:"-"})},thClassName:"table-align-center is-1-of-2",className:"table-align-center"},{Header:Object(re.jsxs)(a.Fragment,{children:["Adj.",Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"adj",children:Object(re.jsx)("i",{className:"material-icons v-mid m-left white",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"adj",className:"table-head__tooltip",type:"light",place:"top",effect:"float",children:[Object(re.jsx)("strong",{children:"Committee Adjustment"})," When an adjustment is applied by the Handicap Committee, it is intended to provide a better reflection of a player\u2019s demonstrated ability."]})]}),accessor:"adj",sortable:!1,Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.original.adjustments.filter((function(e){return"committee"===e.type})).length>0?e.original.adjustments.filter((function(e){return"committee"===e.type}))[0].value:"-"})},thClassName:"table-align-center is-1-of-2",className:"table-align-center "},{Header:"Course Name / Tee",accessor:"course_display_name",show:!this.props.publicView,Cell:function(t){return Object(re.jsx)(a.Fragment,{children:e.getCleanName(t.original)})}},{Header:"Date Posted",accessor:"posted_at",Cell:function(t){return Object(re.jsxs)(a.Fragment,{children:[e.props.publicView?ue()(t.value).format("MM/YYYY"):ue()(t.value).format("MM/DD/YYYY HH:mm:ss")," "]})},className:"table-align-center",thClassName:"table-align-center is-medium-large"},{Header:"",sortable:!1,show:!this.props.publicView&&!this.props.archived&&("super-admin"===this.props.user_type||"association-admin"===this.props.user_type||"club-admin"===this.props.user_type),thClassName:"is-6-of-10",Cell:function(t){return Object(re.jsxs)("span",{className:"col_edit-delete",children:["P"!==t.original.score_type&&Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({editScoreModalIsOpen:!0,selectedScore:t.original})},children:"Edit"}),Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({deleteScoreModalIsOpen:!0,selectedScore:t.original})},children:"Delete"})]})}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.outdatedScoreModalOpen,onConfirmAction:function(){e.setState({outdatedScoreModalOpen:!1})},closeModal:function(){e.setState({outdatedScoreModalOpen:!1})},infoText:["This 9-hole score is older than the twentieth oldest 18-hole score inthe golfer's scoring record and will not be combined. The score has beenposted successfully, but will not display in the scoring record and willnot be considered when calculating the golfer's Handicap Index.","For historical purposes, the score can be found in the Audit Logs."],confirmLabel:"OK",modalIcon:"check_circle"}),!this.state.filtersHidden&&Object(re.jsx)(pc,{updateFiltered:this.updateFilter.bind(this),club_groups:this.state.club_groups}),Object(re.jsx)("div",{className:"pre__table",children:Object(re.jsxs)("div",{className:"row",children:[!this.props.publicView&&Object(re.jsx)("div",{className:"col auto",children:Object(re.jsx)("ul",{className:"action__list push-left",children:Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){e.getCSV(t)},className:"btn fill green",children:"Export to Excel"})})})}),Object(re.jsx)("div",{className:"col auto push-left",children:Object(re.jsxs)("ul",{className:"table__legend",children:[Object(re.jsxs)("li",{children:[Object(re.jsx)("i",{className:"material-icons-outlined blue",children:"star_border"})," Used in Current Revision"]}),Object(re.jsxs)("li",{children:[Object(re.jsx)("span",{className:"legend-item yellow_highlight"}),"Considered in Current Revision"]}),Object(re.jsxs)("li",{children:[Object(re.jsx)("i",{className:"material-icons-outlined blue",children:"bookmark"}),"Edited Score"]})]})}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("ul",{className:"association__status",children:Object(re.jsxs)("li",{children:["Total Rounds = ",Object(re.jsx)("strong",{children:this.state.total})]})})}),Object(re.jsx)("div",{className:"col auto",children:Object(re.jsxs)("button",{onClick:function(){return e.setState({filtersHidden:!e.state.filtersHidden})},className:"btn fill gray",children:[this.state.filtersHidden?"Show":"Hide"," Filters ",Object(re.jsx)("i",{className:"material-icons-outlined",children:this.state.filtersHidden?"add":"remove"})]})})]})}),Object(re.jsx)($t,{loading:this.state.loading,columns:t,hideSelect:!0,pages:this.state.pages,page:this.state.params.page-1,manual:!0,total:this.state.total,pageSize:this.state.params.per_page,data:this.state.scores,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({params:Object(j.a)(Object(j.a)({},e.state.params),{},{page:t+1})},(function(){return e.getScores()}))},onPageSizeChange:function(t,s){return e.setState({params:Object(j.a)(Object(j.a)({},e.state.params),{},{per_page:t,page:s+1})},(function(){return e.getScores()}))},sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t},(function(){e.getScores()}))}}),0===this.state.scores9Holes.length?null:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h2",{className:"section__title",style:{paddingTop:"15px"},children:"9-Hole Scores"})})}),Object(re.jsx)($t,{sortable:!1,loading:this.state.loading,columns:s,hideSelect:!0,pages:this.state.pages,showPagination:!1,manual:!0,total:this.state.total,pageSize:this.state.params.per_page,data:this.state.scores9Holes,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({params:Object(j.a)(Object(j.a)({},e.state.params),{},{page:t+1})},(function(){return e.getScores()}))},onPageSizeChange:function(t,s){return e.setState({params:Object(j.a)(Object(j.a)({},e.state.params),{},{per_page:t,page:s+1})},(function(){return e.getScores()}))}})]}),Object(re.jsx)("div",{className:"col auto push-left",style:{marginTop:8},children:Object(re.jsx)("ul",{className:"table__legend",children:Object(re.jsxs)("li",{children:["Score Type: ",Object(re.jsx)("span",{children:"H"})," - Home, ",Object(re.jsx)("span",{children:"A"})," - Away, ",Object(re.jsx)("span",{children:"C"})," - Competition, ",Object(re.jsx)("span",{children:"N"})," - Combined 9-Hole Rounds, ",Object(re.jsx)("span",{children:"P"})," - Penalty, ",Object(re.jsx)("span",{children:"E"})," - Exceptional"]})})}),this.state.editScoreModalIsOpen&&Object(re.jsx)(et.a,{isOpen:this.state.editScoreModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(lc,{clubId:this.props.match.params.id,golfer:this.props.golfer,selectedScore:this.state.selectedScore,setOutdatedScoreModalOpen:function(t){return e.setOutdatedScoreModalOpen(t)},closeModal:function(t,s){e.closeModal(t),e.setState({successModalIsOpen:s})}})}),this.state.successModalIsOpen&&Object(re.jsx)(Ss,{openModal:!0,onMainAction:function(){e.setState({successModalIsOpen:!1})},closeModal:function(){e.setState({successModalIsOpen:!1})},message:this.state.successModalIsOpen,mainLabel:"Ok"}),this.state.deleteScoreModalIsOpen&&Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.deleteScoreModalIsOpen,onConfirmAction:function(){return e.deleteScore()},onCancelAction:function(){e.setState({deleteScoreModalIsOpen:!1})},closeModal:function(){e.setState({deleteScoreModalIsOpen:!1})},bodyQuestion:this.getDeleteModalBody(),question:"Are you sure you want to delete the following score?",cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(et.a,{isOpen:this.state.roundAuditHistoryModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(uc,{closeModal:function(){e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.scoreLogsModal,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(hc,{score:this.state.selectedScore,closeModal:function(){e.closeModal()}})})]})}}]),s}(a.Component),bc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=JSON.parse(JSON.stringify(e));"9"===this.props.nrHoles&&(this.props.changeWithForm("totalForm","total",parseInt(t.front9)),t["total-cr"]=t["front-cr"],t["total-slope"]=t["front-slope"]),this.props.setManualValues(t)}},{key:"componentDidMount",value:function(){this.props.course&&("9"===this.props.nrHoles?this.props.initialize({course_name:this.props.course,front9:this.props.front9,"front-cr":this.props.frontCr,"front-slope":this.props.frontSlope}):this.props.initialize({course_name:this.props.course,front9:this.props.front,back9:this.props.back,total:this.props.total,"front-cr":this.props.frontCr,"back-cr":this.props.backCr,"total-cr":this.props.totalCr,"front-slope":this.props.frontSlope,"back-slope":this.props.backSlope,"total-slope":this.props.totalSlope})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"changeTotal",value:function(e,t,s,a,i,n){if(s&&(1===s.length||2===s.length)&&0===t.length){var o=parseFloat(this.props[a])||0;this.props.change(i,o)}if(0!==t.length){if(1===t.length){if(0===parseFloat(t)||!parseFloat(t))return void e.preventDefault();var r=parseFloat(this.props[a])||0;this.props.change(i,r+parseFloat(t))}if("backSlope"!==a&&"frontSlope"!==a){if(t&&(3===t.length&&!/^[0-9]{1,2}([.])?$/.test(t)||2===t.length&&!/^\d+$/.test(t)||t.length>3&&!/^[0-9]{1,2}([.][0-9]{1})?$/.test(t)))e.preventDefault();else if(t>=2&&(/^[0-9]{1,2}([.])?$/.test(t)||/^[0-9]{1,2}([.][0-9]{1})?$/.test(t))){var c=parseFloat(this.props[a])||0;c=parseInt(c+parseFloat(t))===parseFloat(c+parseFloat(t))?parseInt(c+parseFloat(t)):parseFloat(c+parseFloat(t)).toFixed(1),this.props.change(i,c)}}else if(t&&(t.length>3||!/^[0-9]{1,3}?$/.test(t))&&e.preventDefault(),t.length>=1&&t.length<=3){var l=parseFloat(this.props[a])||0;this.props.change(i,Math.floor((l+parseFloat(t))/2))}}else this.props.change(i,"")}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.submitting,n="18"===this.props.nrHoles&&(this.props.total&&this.props.total.length||this.props.totalCr&&this.props.totalCr.length||this.props.totalSlope&&this.props.totalSlope.length),o=this.props.front||this.props.back||this.props.frontCr||this.props.backCr||this.props.backSlope||this.props.frontSlope,r=!this.props.front&&!this.props.back&&!this.props.total&&!this.props.frontCr&&!this.props.backCr&&!this.props.totalCr&&!this.props.backSlope&&!this.props.frontSlope&&!this.props.totalSlope;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form-manual-entry",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Course Name Played",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{validate:[he],component:ce,disabled:!!this.props.course,type:"text",name:"course_name",id:"course_name"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col "}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:"Score"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:"CR"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:"Slope"})]}),Object(re.jsxs)("div",{className:"row relative",children:[Object(re.jsx)("div",{className:"col jc-c ai-fe ",children:"Front 9"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:!o&&n&&!r,validate:!(!o&&n&&!r)&&[he,we([27,90,"Score"])],hideErrorMessages:!0,component:ce,type:"text",name:"front9",onChange:function(t,s,a){if("18"===e.props.nrHoles){if(0===s.length)return e.props.changeWithForm("totalForm","total",""),void("18"===e.props.nrHoles&&e.props.change("total",""));if(e.props.changeWithForm("totalForm","front9",s),a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.back)||0;"18"===e.props.nrHoles&&e.props.change("total",i),e.props.changeWithForm("totalForm","total",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.back)||0;"18"===e.props.nrHoles&&e.props.change("total",n+parseInt(s)),e.props.changeWithForm("totalForm","total",n+parseInt(s))}if(s.length>2)return void t.preventDefault();if(2===s.length){var o=parseInt(e.props.back)||0;"18"===e.props.nrHoles&&e.props.change("total",o+parseInt(s)),e.props.changeWithForm("totalForm","total",o+parseInt(s))}}else s&&!/^[0-9]{1,2}?$/.test(s)&&t.preventDefault()}})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){"18"===e.props.nrHoles?e.changeTotal(t,s,a,"backCr","total-cr",null):s&&!/^[0-9]{1,2}\.?[0-9]*$/.test(s)&&t.preventDefault()},disabled:!o&&n&&!r,validate:!(!o&&n&&!r)&&[he,we([20,45,"Course rating",!0])],hideErrorMessages:!0,component:ce,type:"text",name:"front-cr",id:"front-cr"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){"18"===e.props.nrHoles?e.changeTotal(t,s,a,"backSlope","total-slope",null):s&&!/^[0-9]{1,3}?$/.test(s)&&t.preventDefault()},validate:!(!o&&n&&!r)&&[he,we([55,155,"Slope"])],hideErrorMessages:!0,disabled:!o&&n&&!r,component:ce,type:"text",name:"front-slope",id:"front-slope"})}),(!n&&!r||r)&&Object(re.jsx)("label",{className:"absolute-centered",children:Object(re.jsx)("span",{children:"*"})})]}),Object(re.jsxs)("div",{className:"row relative",children:[Object(re.jsx)("div",{className:"col jc-c ai-fe ",children:"Back 9"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:!o&&n&&!r||"9"===this.props.nrHoles,className:"back9",validate:!(!o&&n&&!r||"9"===this.props.nrHoles)&&[he,we([27,90,"Score"])],hideErrorMessages:!0,component:ce,type:"text",name:"back9",id:"asd",onChange:function(t,s,a){if(e.props.changeWithForm("totalForm","back9",s),0===s.length)return e.props.changeWithForm("totalForm","total",""),void("18"===e.props.nrHoles&&e.props.change("total",""));if(a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.front)||0;"18"===e.props.nrHoles&&e.props.change("total",i),e.props.changeWithForm("totalForm","total",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.front)||0;"18"===e.props.nrHoles&&e.props.change("total",n+parseInt(s)),e.props.changeWithForm("totalForm","total",n+parseInt(s))}if(s.length>2&&t.preventDefault(),2===s.length){var o=parseInt(e.props.front)||0;"18"===e.props.nrHoles&&e.props.change("total",o+parseInt(s)),e.props.changeWithForm("totalForm","total",o+parseInt(s))}}})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){"18"===e.props.nrHoles&&e.changeTotal(t,s,a,"frontCr","total-cr",null)},validate:!(!o&&n&&!r||"9"===this.props.nrHoles)&&[he,we([20,45,"Course rating",!0])],hideErrorMessages:!0,disabled:!o&&n&&!r||"9"===this.props.nrHoles,component:ce,type:"text",name:"back-cr",id:"back-cr"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){"18"===e.props.nrHoles&&e.changeTotal(t,s,a,"frontSlope","total-slope",null)},validate:!(!o&&n&&!r||"9"===this.props.nrHoles)&&[he,we([55,155,"Slope"])],hideErrorMessages:!0,disabled:!o&&n&&!r||"9"===this.props.nrHoles,component:ce,type:"text",name:"back-slope",id:"back-slope"})}),(!n&&!r&&"18"===this.props.nrHoles||"18"===this.props.nrHoles&&r)&&Object(re.jsx)("label",{className:"absolute-centered",children:Object(re.jsx)("span",{children:"*"})})]}),Object(re.jsxs)("div",{className:"row relative",children:[Object(re.jsx)("div",{className:"col jc-c ai-fe  ",children:"Total 18"}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{onChange:function(t,s,a){s&&!/^[0-9]{1,3}?$/.test(s)?t.preventDefault():e.props.changeWithForm("totalForm","total",s)},disabled:o||!n&&!r||"9"===this.props.nrHoles,component:ce,validate:!r&&"9"!==this.props.nrHoles&&[he,we([54,180,"Score"])],hideErrorMessages:!0,type:"text",name:"total",id:"total"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:o||!n&&!r||"9"===this.props.nrHoles,validate:!r&&"9"!==this.props.nrHoles&&[he,we([45.1,90,"Course rating",!0])],hideErrorMessages:!0,onChange:function(e,t,s){t&&!/^[0-9]{1,3}\.?[0-9]*$/.test(t)&&e.preventDefault()},component:ce,type:"text",name:"total-cr",id:"total-cr"})}),Object(re.jsx)("div",{className:"col  is-1-of-4",children:Object(re.jsx)(g.a,{disabled:o||!n&&!r||"9"===this.props.nrHoles,validate:!r&&"9"!==this.props.nrHoles&&[he,we([55,155,"Slope"])],hideErrorMessages:!0,onChange:function(e,t,s){t&&!/^[0-9]{1,3}?$/.test(t)&&e.preventDefault()},component:ce,type:"text",name:"total-slope",id:"total-slope"})}),o||!n||r?null:Object(re.jsx)("label",{className:"absolute-centered",children:Object(re.jsx)("span",{children:"*"})})]}),this.props.errors&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col ",children:Object.keys(this.props.errors).map((function(t){return"course_name"!==t&&"This field is required"!==e.props.errors[t]?Object(re.jsxs)("p",{className:"validation__message is-error",children:[t.indexOf("total")>-1?"Total":"",t.indexOf("front")>-1?"Front":"",t.indexOf("back")>-1?"Back":"",": ",e.props.errors[t]]}):null}))})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);bc=Object(_.a)({form:"manualCourseForm",destroyOnUnmount:!1})(bc);var jc=Object(p.c)((function(e){var t=Object(es.a)("manualCourseForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,total:t(e,"total"),front:t(e,"front9"),back:t(e,"back9"),frontCr:t(e,"front-cr"),backCr:t(e,"back-cr"),totalCr:t(e,"total-cr"),frontSlope:t(e,"front-slope"),backSlope:t(e,"back-slope"),totalSlope:t(e,"total-slope"),errors:Object(ic.a)("manualCourseForm")(e)}}),(function(e){var t=Object(v.b)({addAlert:Pe,changeWithForm:ts.a,destroy:ts.b},e);return Object(j.a)({dispatch:e},t)}))(Ve(bc)),fc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container very-narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsxs)("h2",{className:"modal__title",children:["Manual ",this.props.course?"Rating":"Course"," Entry"]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(jc,{clear:this.props.clear,nrHoles:this.props.nrHoles,setManualValues:this.props.setManualValues,course:this.props.course,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Oc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={scoreType:"home",nrHoles:"18",method:"home-course",penaltyMethod:"auto",penaltyType:"low",manualCourseModal:!1,manualRatingModal:!1,courses:[],teeSetsOptions:[],golfer:null,savedEntry:null,course:{courseName:"test course"},isManual:!1,errors:[],clearManualForm:!1,outdatedScoreModalOpen:!1},a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.getHomeCourses=a.getHomeCourses.bind(Object(b.a)(a)),a.setTees=a.setTees.bind(Object(b.a)(a)),a.confirmScore=a.confirmScore.bind(Object(b.a)(a)),a.setManualValues=a.setManualValues.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=this,s=JSON.parse(JSON.stringify(e)),a={},i="home"===this.state.scoreType?"H":"away"===this.state.scoreType?"A":"T";"home-course"!==this.state.method||"penalty"===this.state.scoreType&&"auto"===this.state.penaltyMethod?"penalty"===this.state.scoreType&&"auto"===this.state.penaltyMethod?a={golfer_id:this.props.golfer.id,played_at:ue()(s.date).format("YYYY-MM-DD"),number_of_holes:parseInt(this.state.nrHoles),gender:this.props.golfer.gender,penalty:!0,penalty_method:this.state.penaltyMethod,penalty_type:this.state.penaltyType}:(a=this.state.isManual?{is_manual:!0,golfer_id:this.props.golfer.id,course_name:s.course_name.label,course_id:s.course_id?s.course_id.value:null,tee_name:"Manual / ".concat(s.tee_set_id.label),course_rating:s.tee_set_id.label.split(" /")[0],slope_rating:s.tee_set_id.label.split("/ ")[1],tee_set_side:9===parseInt(this.state.nrHoles)?s.tee_set_id.tee_set_side:"All18",played_at:ue()(s.date).format("YYYY-MM-DD"),score_type:i,number_of_holes:parseInt(this.state.nrHoles),adjusted_gross_score:parseInt(s.total||0),gender:this.props.golfer.gender}:{golfer_id:this.props.golfer.id,course_id:s.course_name.value,tee_set_id:s.tee_set_id.value,tee_set_side:9===parseInt(this.state.nrHoles)?s.tee_set_id.tee_set_side:"All18",played_at:ue()(s.date).format("YYYY-MM-DD"),score_type:i,number_of_holes:parseInt(this.state.nrHoles),adjusted_gross_score:parseInt(s.total||0),gender:this.props.golfer.gender},"penalty"===this.state.scoreType&&(a.penalty=!0,delete a.score_type,a.penalty_method="manual")):(a={golfer_id:this.props.golfer.id,course_id:s.course_name.courseId,tee_set_id:s.course_name.teeSetID,tee_set_side:9===parseInt(this.state.nrHoles)?s.course_name.tee_set_side:"All18",played_at:ue()(s.date).format("YYYY-MM-DD"),score_type:i,number_of_holes:parseInt(this.state.nrHoles),adjusted_gross_score:parseInt(s.total||0),gender:this.props.golfer.gender},"penalty"===this.state.scoreType&&(a.penalty=!0,delete a.score_type,a.penalty_method="manual")),parseInt(e.front9)&&parseInt(e.back9)?(a.front9_adjusted=e.front9,a.back9_adjusted=e.back9,delete a.adjusted_gross_score,this.state.isManual&&(a.front9_course_rating=e.manual_values["front-cr"],a.front9_slope_rating=e.manual_values["front-slope"],a.back9_course_rating=e.manual_values["back-cr"],a.back9_slope_rating=e.manual_values["back-slope"],delete a.slope_rating,delete a.course_rating),Xr.post18h9and9(a).then((function(e){"UnderReview"===e.score.status?t.setState({savedEntry:e.score,errors:[],confirmationModalOpen:!0}):(t.props.change("front9",null),t.props.change("back9",null),t.props.change("total",null),t.props.change("course_id",null),t.props.change("course_name",null),t.props.change("tee_set_id",null),t.props.untouch("tee_set_id"),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),t.props.externalDestroy("manualCourseForm"),t.setState({isManual:!1,errors:[]}),t.props.addAlert({type:"success",message:"Score has been posted successfully"})),t.setState({outdatedScoreModalOpen:!e.score.is_recent&&"UnderReview"!==e.score.status})})).catch((function(e){console.error(e);var s=[];e.data.errors?(Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})):t.props.addAlert({type:"error",message:"Score can't be posted at this moment. Please try again."})}))):Xr.postAdjusted(a).then((function(e){"UnderReview"===e.score.status?t.setState({savedEntry:e.score,errors:[],confirmationModalOpen:!0}):(t.props.change("front9",null),t.props.change("back9",null),t.props.change("total",null),t.props.change("course_id",null),t.props.change("course_name",null),t.props.change("tee_set_id",null),t.props.untouch("tee_set_id"),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),t.props.externalDestroy("manualCourseForm"),t.setState({isManual:!1,errors:[]}),t.props.addAlert({type:"success",message:"Score has been posted successfully"})),t.setState({outdatedScoreModalOpen:!e.score.is_recent&&"UnderReview"!==e.score.status})})).catch((function(e){console.error(e);var s=[];e.data.errors?(Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})):t.props.addAlert({type:"error",message:"Score can't be posted at this moment. Please try again."})}))}},{key:"confirmScore",value:function(){var e=this;Xr.confirmScore(this.state.savedEntry.id,this.state.savedEntry.golfer_id).then((function(t){e.setState({confirmationModalOpen:!1,savedEntry:null}),e.props.untouch("front9"),e.props.untouch("back9"),e.props.untouch("total"),e.props.change("front9",null),e.props.change("back9",null),e.props.change("total",null),e.setState({isManual:!1}),e.props.addAlert({type:"success",message:"Score has been posted successfully"}),e.setState({outdatedScoreModalOpen:!t.score.is_recent})})).catch((function(t){e.setState({confirmationModalOpen:!1,savedEntry:null})}))}},{key:"getHomeCourses",value:function(){var e=this;this.setState({courses:[]}),Zt.getClubHomeCourses(this.props.match.params.association_id,this.props.match.params.id).then(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==s.facilities.length){t.next=5;break}e.setState({method:"course"}),e.props.change("method","course"),t.next=9;break;case 5:return t.next=7,Promise.all(s.facilities.map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.home_courses.map((function(e){var t=s.name===e.name?e.name:s.name+" "+e.name;return{req:ar.getCourseDetails(e.course_id),courseName:t,courseId:e.course_id}})).map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a,i;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.req;case 2:return a=t.sent,i=a.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.state.golfer.gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],i=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,holesNumber:e.HolesNumber,courseId:s.courseId,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating),ratingBack:i&&"".concat(parseFloat(i.CourseRating).toFixed(1)," / ").concat(i.SlopeRating),teeId:e.TeeSetRatingId}})),i="18"===e.state.nrHoles?i.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(s.courseName," / ").concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value,teeSetID:e.value,courseId:e.courseId}})):i.reduce((function(e,t){var a=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),i=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),n=t.ratingFront?{label:"".concat(s.courseName," / ")+t.label+" F9 (".concat(t.ratingFront," / ").concat(a,")"),unparsedLabel:t.label+" F9",value:t.value,courseId:t.courseId,tee_set_side:"F9",teeSetID:t.teeId}:null,o=t.ratingBack?{label:"".concat(s.courseName," / ")+t.label+" B9 (".concat(t.ratingBack," / ").concat(i,")"),unparsedLabel:t.label+" B9",value:t.value,courseId:t.courseId,tee_set_side:"B9",teeSetID:t.teeId}:null;return n&&o?e.concat([n,o]):n?e.concat([n]):o?e.concat([o]):null}),[]),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return a=t.sent,t.abrupt("return",cc()(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:a=t.sent,e.setState({courses:cc()(a)});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;et.a.setAppElement("body"),this.setState({golfer:this.props.golfer},(function(){e.getHomeCourses()})),this.props.initialize({date:new Date})}},{key:"setTees",value:function(){var e=this;this.props.course_name&&this.props.course_name.value&&ar.getCourseDetails(this.props.course_name.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.state.golfer.gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,holesNumber:e.HolesNumber,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}}));s="18"!==e.state.nrHoles?s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]):s.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),e.setState({teeSetsOptions:s},(function(){if(e.props.tee_set_id&&e.props.tee_set_id.value){var t=e.state.teeSetsOptions.filter((function(t){return t.value===e.props.tee_set_id.value}));t.length?(e.props.change("tee_set_id",t[0]),e.props.untouch("tee_set_id")):(e.props.change("tee_set_id",null),e.props.untouch("tee_set_id"))}}))}))}},{key:"componentDidUpdate",value:function(e,t,s){this.state.scoreType!==t.scoreType&&(this.props.change("course_name",null),this.props.untouch("course_name"),this.props.change("tee_set_id",null),this.props.untouch("tee_set_id"),this.props.change("front9",null),this.props.change("back9",null),this.props.change("total",null),this.setState({errors:[]})),this.state.method!==t.method&&(this.setState({courses:[],errors:[]}),"home-course"===this.state.method?this.getHomeCourses():this.props.untouch("tee_set_id")),this.state.nrHoles!==t.nrHoles&&(this.setState({errors:[]}),"home-course"===this.state.method?this.getHomeCourses():this.setTees())}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"setManualValues",value:function(e){this.props.change("course_name",{value:-1,label:e.course_name}),this.props.change("tee_set_id",{value:-1,tee_set_side:"9"===this.state.nrHoles?"F9":"All18",label:"".concat(e["total-cr"]," / ").concat(e["total-slope"])}),this.props.change("manual_values",e),this.setState({manualCourseModal:!1,manualRatingModal:!1,isManual:!0})}},{key:"closeManualModal",value:function(){this.state.isManual||(this.props.externalDestroy("manualCourseForm"),this.props.changeWithForm("totalForm","front9",null),this.props.changeWithForm("totalForm","back9",null),this.props.changeWithForm("totalForm","total",null)),this.setState({manualCourseModal:!1,manualRatingModal:!1})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.outdatedScoreModalOpen&&!this.state.confirmationModalOpen,onConfirmAction:function(){e.setState({outdatedScoreModalOpen:!1})},closeModal:function(){e.setState({outdatedScoreModalOpen:!1})},infoText:["This 9-hole score is older than the twentieth oldest 18-hole score inthe golfer's scoring record and will not be combined. The score has beenposted successfully, but will not display in the scoring record and willnot be considered when calculating the golfer's Handicap Index.","For historical purposes, the score can be found in the Audit Logs."],confirmLabel:"OK",modalIcon:"check_circle"}),Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row with-padding-vertical ",children:[Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsxs)("label",{htmlFor:"date",children:["Date Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,minDate:new Date("1/1/1990"),className:"date",showMonthDropdown:!0,showYearDropdown:!0,name:"date",id:"date",component:os,placeholder:"Select ..."})]}),Object(re.jsxs)("div",{className:"col  is-3-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Score Type"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"home",method:"home-course"}),e.props.change("method","home"),e.props.change("scoreType","home")},checked:"home"===this.state.scoreType,id:"home",name:"home",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"home",children:"Home"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"away",method:"course"}),e.props.change("scoreType","away"),e.props.change("method","course")},checked:"away"===this.state.scoreType,id:"away",name:"away",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"away",children:"Away"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"tournament"}),e.props.change("scoreType","tournament")},checked:"tournament"===this.state.scoreType,id:"tournament",name:"tournament",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"tournament",children:"Competition"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"penalty",penaltyMethod:"auto"}),e.props.change("scoreType","penalty"),e.props.change("penaltyMethod","auto")},checked:"penalty"===this.state.scoreType,id:"penalty",name:"penalty",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"penalty",children:"Penalty"})]})]}),"penalty"===this.state.scoreType?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Penalty Method"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({penaltyMethod:"auto"}),e.props.change("penaltyMethod","auto")},checked:"auto"===this.state.penaltyMethod,id:"auto",name:"auto",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"auto",children:"Auto"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({penaltyMethod:"manual"}),e.props.change("penaltyMethod","manual")},checked:"manual"===this.state.penaltyMethod,id:"manual",name:"manual",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"manual",children:"Manual"})]})]}),Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Holes"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"18"}),e.props.change("nrHoles","18"),"home-course"===e.state.method&&e.props.change("course_name",null)},checked:"18"===this.state.nrHoles,id:"18",name:"18",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"18",children:"18"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"9"}),e.props.change("nrHoles","9"),"home-course"===e.state.method&&e.props.change("course_name",null)},checked:"9"===this.state.nrHoles,id:"9",name:"9",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"9",children:"9"})]})]})]}):Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Holes"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"18"}),e.props.change("number_of_holes","18"),"home-course"===e.state.method&&e.props.change("course_name",null)},checked:"18"===this.state.nrHoles,id:"18",name:"18",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"18",children:"18"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"9"}),e.props.change("number_of_holes","9"),"home-course"===e.state.method&&e.props.change("course_name",null)},checked:"9"===this.state.nrHoles,id:"9",name:"9",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"9",children:"9"})]})]})]}),Object(re.jsx)("div",{className:"row with-padding-vertical ",children:"penalty"!==this.state.scoreType||"penalty"===this.state.scoreType&&"manual"===this.state.penaltyMethod?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col  is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Choose Course/Tee Lookup Method:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({method:"home-course"}),e.props.change("method","home-course")},checked:"home-course"===this.state.method,id:"home-course",name:"home-course",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"home-course",children:"Home Courses/Tees"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({method:"course"}),e.props.change("method","course"),e.props.change("course_name",null)},checked:"course"===this.state.method,id:"course",name:"course",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"course",children:"Course/Tee Search"})]})]}),"home-course"===this.state.method?Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("label",{htmlFor:"course_name",children:"Course/Tee Played"}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.courses})]})}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-2-of-6",children:[Object(re.jsxs)("label",{htmlFor:"tee",children:["Course Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),component:Ho,onChange:function(t,s,a){s?(e.props.change("course_id",s),ar.getCourseDetails(s.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.state.golfer.gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,holesNumber:e.HolesNumber,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}}));s="18"!==e.state.nrHoles?s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]):s.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),e.props.change("tee_set_id",null),e.setState({teeSetsOptions:s}),e.props.untouch("tee_set_id")}))):(e.props.change("tee_set_id",null),e.setState({teeSetsOptions:[]}),e.props.untouch("tee_set_id"))},className:"react-select-container",classNamePrefix:"react-select",placeholder:"Enter Course Name",grayPlaceholder:!0}),Object(re.jsxs)("button",{type:"button",className:"btn label",onClick:function(t){t.preventDefault(),e.setState({manualCourseModal:!0})},children:[Object(re.jsx)("span",{children:"Manual Course Entry"})," (Not recommended)"]})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsxs)("label",{htmlFor:"tee",children:["Tee (C.R. / Slope / Par) ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"tee_set_id",disabled:!this.props.course_name,validate:[pe],id:"tee_set_id",options:this.state.teeSetsOptions,component:yt,className:"react-select-container",classNamePrefix:"react-select"}),Object(re.jsx)("button",{type:"button",className:"btn label",disabled:!this.props.course_name,onClick:function(t){t.preventDefault(),e.setState({manualRatingModal:!0})},children:Object(re.jsx)("span",{children:"Manual Rating Entry"})})]})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"col  is-5-of-6"}),Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Penalty Type"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({penaltyType:"high"}),e.props.change("penaltyType","high")},checked:"high"===this.state.penaltyType,id:"high",name:"high",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"high",children:"High"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({penaltyType:"low"}),e.props.change("penaltyType","low")},checked:"low"===this.state.penaltyType,id:"low",name:"low",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"low",children:"Low"})]})]})]})}),"penalty"!==this.state.scoreType||"penalty"===this.state.scoreType&&"manual"===this.state.penaltyMethod?Object(re.jsx)("div",{className:"row with-padding-vertical align-right ",children:"18"===this.state.nrHoles?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-1-of-6 ",children:[Object(re.jsx)("label",{htmlFor:"front9",children:"Front 9"}),Object(re.jsx)(g.a,{disabled:this.props.total&&this.props.total.length,component:ce,type:"text",name:"front9",id:"front9",onChange:function(t,s,a){if(e.state.errors.length>0&&e.setState({errors:[]}),a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.back)||0;e.props.change("total",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.back)||0;e.props.change("total",n+parseInt(s))}if(s.length>2)t.preventDefault();else if(2===s.length){var o=parseInt(e.props.back)||0;e.props.change("total",o+parseInt(s)),document.getElementsByClassName("back9")[0].focus()}}})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"back9",children:"Back 9"}),Object(re.jsx)(g.a,{disabled:this.props.total&&this.props.total.length,className:"back9",component:ce,type:"text",name:"back9",id:"back9",onChange:function(t,s,a){if(e.state.errors.length>0&&e.setState({errors:[]}),a&&(1===a.length||2===a.length)&&0===s.length){var i=parseInt(e.props.front)||0;e.props.change("total",i)}if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var n=parseInt(e.props.front)||0;e.props.change("total",n+parseInt(s))}if(s.length>2&&t.preventDefault(),2===s.length){var o=parseInt(e.props.front)||0;e.props.change("total",o+parseInt(s))}}})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"total",children:"Total 18"}),Object(re.jsx)(g.a,{disabled:this.props.front&&this.props.front.length||this.props.back&&this.props.back.length,onChange:function(){e.state.errors.length>0&&e.setState({errors:[]})},component:ce,type:"text",name:"total",id:"total"})]})]}):Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"total",children:"Total 9"}),Object(re.jsx)(g.a,{component:ce,type:"text",onChange:function(){e.state.errors.length>0&&e.setState({errors:[]})},name:"total",id:"total"})]})}):Object(re.jsx)("div",{className:"row with-padding-vertical",children:Object(re.jsx)("div",{className:"col"})}),this.state.errors.length>0&&Object(re.jsx)("p",{children:this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)})}))}),Object(re.jsx)("div",{className:"row with-padding-vertical",children:Object(re.jsx)("div",{className:"col is-1-of-6 push-right",children:Object(re.jsx)("button",{disabled:i||n||("penalty"!==this.state.scoreType||"auto"!==this.state.penaltyMethod)&&!this.props.course_name,type:"submit",className:"btn fill blue",children:"Post Score"})})})]})})})})}),Object(re.jsx)(et.a,{isOpen:this.state.manualCourseModal||this.state.manualRatingModal,onRequestClose:function(){e.closeManualModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,shouldReturnFocusAfterClose:!1,children:Object(re.jsx)(fc,{setManualValues:this.setManualValues,alreadySaved:this.state.isManual,nrHoles:this.state.nrHoles,course:this.state.manualRatingModal&&this.props.course_name.label,closeModal:function(){e.closeManualModal()}})}),Object(re.jsx)(cs,{openModal:this.state.confirmationModalOpen,onConfirmAction:function(){return e.confirmScore()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmationModalOpen:!1,savedEntry:null})},closeModal:function(){e.setState({confirmationModalOpen:!1,savedEntry:null})},question:"Duplicate Score Found",bodyQuestion:"This score may already exist in the golfers score history.",infoText:['Press "Continue" to post the score anyway','Press "Cancel" to review the score prior to posting'],cancelLabel:"Cancel",confirmLabel:"Continue"})]})}}]),s}(a.Component);Oc=Object(_.a)({form:"totalForm",destroyOnUnmount:!0,touchOnChange:!0})(Oc);var gc=Object(u.o)(Object(p.c)((function(e){var t=Object(es.a)("totalForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,total:t(e,"total"),front:t(e,"front9"),back:t(e,"back9"),course_name:t(e,"course_name"),tee_set_id:t(e,"tee_set_id")}}),(function(e){var t=Object(v.b)({addAlert:Pe,changeWithForm:ts.a,externalDestroy:ts.b},e);return Object(j.a)({dispatch:e},t)}))(Oc)),_c=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={no_hi_x_score_modal_is_open:!1,scoreType:"home",nrHoles:"18",method:"home-course",confirmationModal:!1,scoreId:null,courses:[],errors:[],agsMax:null,golfer:null,selectedCourse:null,loading:!1,outdatedScoreModalOpen:!1,emptyHoles:{holes:{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""},ags:{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""}}},a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.getHomeCourses=a.getHomeCourses.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){for(var t=this,s=!1,a=[],i=1;i<19;i++){var n=e.holes["hole"+i];void 0===n?a.push({}):"X"===this.customParseInt(n)?(s=!0,a.push({hole_number:i,x_hole:!0,raw_score:10})):"X"===n[0]?(s=!0,a.push({hole_number:i,most_likely_score:this.customParseInt(n),raw_score:this.customParseInt(n)})):a.push({hole_number:i,raw_score:parseInt(n)})}if("NH"!==this.state.golfer.handicap_index||!s){var o="home"===this.state.scoreType?"H":"away"===this.state.scoreType?"A":"T",r={};return"home-course"===this.state.method?("9"===this.state.nrHoles&&(a="F9"===e.course_name.tee_set_side?a.slice(0,9):a.slice(9,18)),r={golfer_id:this.props.golfer.id,course_id:e.course_name.courseId,tee_set_id:e.course_name.teeSetID,tee_set_side:9===parseInt(this.state.nrHoles)?e.course_name.tee_set_side:"All18",played_at:ue()(e.date).format("YYYY-MM-DD"),score_type:o,hole_details:a,override_confirmation:!1,is_manual:!1,number_of_holes:this.state.nrHoles,gender:this.props.golfer.gender}):("9"===this.state.nrHoles&&(a="F9"===e.tee_set_id.tee_set_side?a.slice(0,9):a.slice(9,18)),r={golfer_id:this.props.golfer.id,course_id:e.course_name.value,tee_set_id:e.tee_set_id.value,tee_set_side:9===parseInt(this.state.nrHoles)?e.tee_set_id.tee_set_side:"All18",played_at:ue()(e.date).format("YYYY-MM-DD"),score_type:o,hole_details:a,override_confirmation:!1,is_manual:!1,number_of_holes:this.state.nrHoles,gender:this.props.golfer.gender}),Xr.postHoleByHole(r).then((function(e){"UnderReview"===e.score.status?t.setState({confirmationModal:!0,scoreId:e.score.id}):(t.clearFields(),t.setState({errors:[]}),t.props.addAlert({type:"success",message:"Hole by hole score has been successfully posted"})),t.setState({outdatedScoreModalOpen:!e.score.is_recent&&"UnderReview"!==e.score.status})})).catch((function(e){var s=[];Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s})}))}this.setState({no_hi_x_score_modal_is_open:!0})}},{key:"confirmScore",value:function(){var e=this;Xr.confirmScore(this.state.scoreId,this.props.golfer.id).then((function(t){e.setState({confirmationModal:!1,outdatedScoreModalOpen:!t.score.is_recent},(function(){return e.clearFields()})),e.props.addAlert({type:"success",message:"Hole by hole score has been successfully posted"})})).catch((function(e){console.error(e)}))}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"getHomeCourses",value:function(){var e=this;this.setState({courses:[]}),Zt.getClubHomeCourses(this.props.match.params.association_id,this.props.match.params.id).then(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(0!==s.facilities.length){t.next=5;break}e.setState({method:"course"}),e.props.change("method","course"),t.next=9;break;case 5:return t.next=7,Promise.all(s.facilities.map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.home_courses.map((function(e){var t=s.name===e.name?e.name:s.name+" "+e.name;return{req:ar.getCourseDetails(e.course_id),courseName:t,courseId:e.course_id}})).map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a,i;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.req;case 2:return a=t.sent,i=a.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.state.golfer.gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],i=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,holesNumber:e.HolesNumber,courseId:s.courseId,value:e.TeeSetRatingId,teeSetID:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating),ratingBack:i&&"".concat(parseFloat(i.CourseRating).toFixed(1)," / ").concat(i.SlopeRating)}})),i="18"===e.state.nrHoles?i.map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(s.courseName," / ").concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value,holes:e.holes,holesNumber:e.holesNumber,teeSetID:e.value,courseId:e.courseId}})).filter((function(e){return 9!==e.holesNumber})):i.reduce((function(e,t){var a=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),i=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),n=t.ratingFront?{label:"".concat(s.courseName," / ")+t.label+" F9 (".concat(t.ratingFront," / ").concat(a,")"),unparsedLabel:t.label+" F9",value:t.value,courseId:t.courseId,tee_set_side:"F9",holes:t.holes,holesNumber:t.holesNumber,teeSetID:t.teeSetID}:null,o=t.ratingBack?{label:"".concat(s.courseName," / ")+t.label+" B9 (".concat(t.ratingBack," / ").concat(i,")"),unparsedLabel:t.label+" B9",value:t.value,courseId:t.courseId,tee_set_side:"B9",holesNumber:t.holesNumber,holes:t.holes,teeSetID:t.teeSetID}:null;return n&&o?e.concat([n,o]):n?e.concat([n]):o?e.concat([o]):null}),[]),t.abrupt("return",i);case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return a=t.sent,t.abrupt("return",cc()(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 7:a=t.sent,"home"!==e.state.scoreType&&"competition"!==e.state.scoreType||e.setState({courses:cc()(a)});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}},{key:"componentDidMount",value:function(){var e=this;this.setState({golfer:this.props.golfer},(function(){e.getHomeCourses(),e.props.initialize({date:new Date,holes:e.state.emptyHoles.holes,ags:e.state.emptyHoles.ags})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"clearFields",value:function(){var e=this,t=this.props.formValues;this.setState({emptyHoles:{holes:{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""},ags:{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""}}},(function(){t.holes=e.state.emptyHoles.holes,t.ags=e.state.emptyHoles.ags,e.props.initialize(t)}))}},{key:"componentDidUpdate",value:function(e,t,s){this.state.method!==t.method&&(this.setState({courses:[],errors:[]}),"home-course"===this.state.method&&this.getHomeCourses()),this.state.nrHoles!==t.nrHoles&&(this.setState({errors:[]}),"home-course"===this.state.method&&this.getHomeCourses())}},{key:"returnTotal",value:function(e,t,s,a){for(var i=0,n=s;n<=a;n++)i+="hole"===t||"holes.hole"===t?e[t+n]?isNaN(this.customParseInt(e[t+n]))?this.state.agsMax[n-1].net_par:this.customParseInt(e[t+n]):0:e[n]?e[n][t]:0;return 0===i?"":i}},{key:"generateCells",value:function(e,t){var s=this,a=this.state.selectedCourse.holes;return("front"===e?[1,2,3,4,5,6,7,8,9]:[10,11,12,13,14,15,16,17,18]).map((function(i){return t?"yards"===t?Object(re.jsx)("div",{className:"hbh_cell",children:a[i-1]&&a[i-1].Length},i):"par"===t?Object(re.jsx)("div",{className:"hbh_cell",children:a[i-1]&&a[i-1].Par},i):"stroke"===t?Object(re.jsx)("div",{className:"hbh_cell",children:a[i-1]&&a[i-1].Allocation},i):"hole"===t?Object(re.jsx)("div",{className:"hbh_cell",children:Object(re.jsx)(g.a,{component:ce,type:"text",name:"holes.hole".concat(i),disabled:"front"===e?"9"===s.state.nrHoles&&"B9"===s.state.selectedCourse.tee_set_side:"9"===s.state.nrHoles&&"F9"===s.state.selectedCourse.tee_set_side,onChange:function(e){if(/^[xX]?[0-9]*$/.test(e.target.value)&&0!==s.customParseInt(e.target.value)){var t="B9"===s.state.selectedCourse.tee_set_side?11:2;s.checkValue(e,i+1,t)}else e.preventDefault()},normalize:function(e){return e.toUpperCase()},className:"hbh-score-input",id:"holes.hole".concat(i)})},i):"ags"===t?Object(re.jsx)("div",{className:"hbh_cell",children:s.props.formValues.ags["hole"+i]},i):null:Object(re.jsx)("div",{className:"hbh_cell",children:i},i)}))}},{key:"getTeeAGS",value:function(e,t,s){var a=this,i={golfer_id:this.state.golfer.id,tee_set_id:e,include_net_pars:!0,played_at:ue()(t).format("YYYY-MM-DD")};Zt.getTeeAGS(i,s).then((function(e){e.maximum_scores&&e.maximum_scores.length>0&&a.setState({agsMax:e.maximum_scores,errors:[]},(function(){var t={},s=a.props.formValues.holes;e.maximum_scores.forEach((function(e){""!==s["hole"+e.hole_number]&&("X"===s["hole"+e.hole_number]?t["hole"+e.hole_number]=e.net_par:t["hole"+e.hole_number]=Math.min(a.customParseInt(s["hole"+e.hole_number]),e.maximum_score))})),a.props.change("ags",t),a.setState({loading:!1})}))})).catch((function(e){var t=[];Object.keys(e.data.errors).forEach((function(s){e.data.errors[s].length>1?e.data.errors[s].forEach((function(e){t.push(s.replace(/_/g," ")+" "+e)})):t.push(e.data.errors[s][0])})),a.setState({errors:t,loading:!1})}))}},{key:"customParseInt",value:function(e){return"x"===e||"X"===e?"X":("x"!==e[0]&&"X"!==e[0]||(e=e.substring(1)),parseInt(e))}},{key:"checkValue",value:function(e,t,s){var a=e.target&&e.target.value,i=e.target&&e.target.name,n=this.props.formValues.holes,o=this.props.formValues.ags,r=null;if(-1!==i.indexOf("holes.")&&(i=i.slice(6)),isNaN(this.customParseInt(a))?"X"===this.customParseInt(a)?(n[i]="X",o[i]=this.state.agsMax[t-2].net_par):(n[i]="",o[i]=""):this.customParseInt(a)<30&&(n[i]=a,0!==this.customParseInt(a)&&(o[i]=Math.min(this.customParseInt(a),this.state.agsMax[t-s].maximum_score)),o[i]||(o[i]="")),r=n["hole"+t]?(r=Object.keys(n).find((function(e){return!n[e]&&e.slice(4)>t?e:null})))?r.slice(4):20:t,!/^[xX]?\d*$/.test(a)&&a||0===this.customParseInt(a)||!(isNaN(this.customParseInt(a))||this.customParseInt(a)<30))e.preventDefault();else if(1!==this.customParseInt(a)&&!isNaN(this.customParseInt(a))&&t)if(this.props.formValues.holes["hole"+r])isNaN(this.customParseInt(a))||this.blurInput(t-1);else switch(r){case 10:"9"===this.state.nrHoles&&"F9"===this.state.selectedCourse.tee_set_side?this.blurInput(9):this.focusInput(r);break;case 19:this.blurInput(18);break;case 20:break;default:this.focusInput(r)}this.props.change({holes:n}),this.props.change({ags:o}),this.forceUpdate()}},{key:"focusInput",value:function(e){document.getElementsByName("holes.hole"+e)[0].focus()}},{key:"blurInput",value:function(e){document.getElementsByName("holes.hole"+e)[0].blur()}},{key:"clearHoles",value:function(){var e=this;this.setState({agsMax:null,errors:[],emptyHoles:{holes:{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""},ags:{hole1:"",hole2:"",hole3:"",hole4:"",hole5:"",hole6:"",hole7:"",hole8:"",hole9:"",hole10:"",hole11:"",hole12:"",hole13:"",hole14:"",hole15:"",hole16:"",hole17:"",hole18:""}}},(function(){e.props.change("holes",e.state.emptyHoles.holes),e.props.change("ags",e.state.emptyHoles.ags)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=!!this.state.selectedCourse;if(this.state.selectedCourse)if(this.state.selectedCourse.tee_set_side)for(var r="F9"===this.state.selectedCourse.tee_set_side?1:10;r<=("F9"===this.state.selectedCourse.tee_set_side?9:18);r++)""===this.props.formValues.holes["hole"+r]&&(o=!1);else for(var c=1;c<=18;++c)""===this.props.formValues.holes["hole"+c]&&(o=!1);return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.outdatedScoreModalOpen&&!this.state.confirmationModal,onConfirmAction:function(){e.setState({outdatedScoreModalOpen:!1})},closeModal:function(){e.setState({outdatedScoreModalOpen:!1})},infoText:["This 9-hole score is older than the twentieth oldest 18-hole score inthe golfer's scoring record and will not be combined. The score has beenposted successfully, but will not display in the scoring record and willnot be considered when calculating the golfer's Handicap Index.","For historical purposes, the score can be found in the Audit Logs."],confirmLabel:"OK",modalIcon:"check_circle"}),Object(re.jsx)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("div",{className:"panel",children:Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row with-padding-vertical ",children:[Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsxs)("label",{htmlFor:"date",children:["Date Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,minDate:new Date("1/1/1990"),className:"date",showMonthDropdown:!0,showYearDropdown:!0,value:new Date,name:"date",id:"date",component:os,placeholder:"Select ...",onChange:function(t){null!=e.state.selectedCourse&&(e.setState({loading:!0}),e.getTeeAGS(e.state.selectedCourse.value,t,e.state.selectedCourse.tee_set_side))}})]}),Object(re.jsxs)("div",{className:"col  is-3-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Score Type"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"home",method:"home-course"}),e.props.change("scoreType","home"),e.props.change("course_name",null),e.props.change("method","home-course")},checked:"home"===this.state.scoreType,id:"home",name:"home",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"home",children:"Home"}),Object(re.jsx)(g.a,{onClick:function(){"course"===e.state.method?(e.setState({scoreType:"away"}),e.props.change("scoreType","away")):(e.setState({scoreType:"away",method:"course",course:null,teeSetsOptions:[]}),e.props.change("course_name",null),e.props.change("scoreType","away"),e.props.change("method","course"),e.props.change("tee_set_id",null),e.props.untouch("tee_set_id"),e.props.untouch("course_name"))},checked:"away"===this.state.scoreType,id:"away",name:"away",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"away",children:"Away"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({scoreType:"competition"}),e.props.change("scoreType","competition")},checked:"competition"===this.state.scoreType,id:"competition",name:"competition",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"competition",children:"Competition"})]})]}),Object(re.jsxs)("div",{className:"col  is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Holes"}),Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"18",selectedCourse:null,agsMax:null,teeSetsOptions:[]}),e.props.change("nrHoles","18"),e.props.change("course_name",null),e.props.change("tee_set_id",null),e.props.untouch("tee_set_id"),e.props.untouch("course_name")},checked:"18"===this.state.nrHoles,id:"18",name:"18",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"18",children:"18"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({nrHoles:"9",selectedCourse:null,agsMax:null,teeSetsOptions:[]}),e.props.change("nrHoles","9"),e.props.change("course_name",null),e.props.change("tee_set_id",null),e.props.untouch("tee_set_id"),e.props.untouch("course_name")},checked:"9"===this.state.nrHoles,id:"9",name:"9",component:"input",type:"radio"}),Object(re.jsx)("label",{htmlFor:"9",children:"9"})]})]})]}),Object(re.jsxs)("div",{className:"row with-padding-vertical ",children:[Object(re.jsxs)("div",{className:"col  is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Choose Course/Tee Lookup Method:"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({method:"home-course",selectedCourse:null}),e.props.change("method","home-course"),e.props.change("course_name",null),e.props.untouch("course_name")},checked:"home-course"===this.state.method,id:"home-course",name:"home-course",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"home-course",children:"Home Courses/Tees"}),Object(re.jsx)(g.a,{onClick:function(){e.setState({method:"course",selectedCourse:null,teeSetsOptions:[]}),e.props.change("method","course"),e.props.change("course_name",null),e.props.untouch("course_name"),e.props.change("tee_set_id",null),e.props.untouch("tee_set_id")},checked:"course"===this.state.method,id:"course",name:"course",component:"input",type:"radio",className:"simple__radio"}),Object(re.jsx)("label",{htmlFor:"course",children:"Course/Tee Search"})]})]}),"home-course"===this.state.method?Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("label",{htmlFor:"course_name",children:"Course/Tee Played"}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",onChange:function(t){9===t.holesNumber&&e.props.change("nrHoles","9"),e.setState({selectedCourse:Object(j.a)(Object(j.a)({},t),{tee_set_side:9===t.holesNumber?"F9":t.tee_set_side}),nrHoles:9===t.holesNumber?t.holesNumber.toString():e.state.nrHoles,loading:!0}),e.getTeeAGS(t.teeSetID,e.props.formValues.date,t.tee_set_side)},component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.courses})]})}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-2-of-6",children:[Object(re.jsxs)("label",{htmlFor:"tee",children:["Course Played ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"course_name",id:"course_name",validate:[pe],defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),component:Ho,onChange:function(t,s,a){s?(e.props.change("course_name.courseId",s),ar.getCourseDetails(s.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.state.golfer.gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holesNumber:e.HolesNumber,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}}));s="18"!==e.state.nrHoles?s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",holes:t.holes,holesNumber:t.holesNumber,value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,holes:t.holes,holesNumber:t.holesNumber,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]):s.map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value,holesNumber:e.holesNumber,holes:e.holes}})).filter((function(e){return 9!==e.holesNumber})),e.props.change("tee_set_id",null),s.length,e.setState({teeSetsOptions:s,agsMax:null})}))):(e.props.change("tee_set_id",null),e.setState({teeSetsOptions:[]})),e.clearHoles()},className:"react-select-container",classNamePrefix:"react-select",placeholder:"Enter Course Name",grayPlaceholder:!0})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsxs)("label",{htmlFor:"tee",children:["Tee (C.R. / Slope / Par) ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"tee_set_id",id:"tee_set_id",validate:[pe],onChange:function(t){9===t.holesNumber&&e.props.change("nrHoles","9"),e.setState({selectedCourse:{tee_set_side:9===t.holesNumber?"F9":t.tee_set_side,value:t.value,holes:t.holes},nrHoles:9===t.holesNumber?t.holesNumber.toString():e.state.nrHoles,loading:!0,errors:[]},(function(){e.props.change("tee_set_id",Object(j.a)(Object(j.a)({},t),{tee_set_side:9===t.holesNumber?"F9":t.tee_set_side})),e.getTeeAGS(t.value,e.props.formValues.date,t.tee_set_side)}))},options:this.state.teeSetsOptions,component:yt,className:"react-select-container",classNamePrefix:"react-select"})]})]})]}),this.state.loading?Object(re.jsx)("table",{style:{width:"100%"},children:Object(re.jsx)("tbody",{children:Object(re.jsx)("tr",{children:Object(re.jsx)("td",{style:{textAlign:"center"},children:Object(re.jsx)("span",{className:"data-table__loader"})})})})}):this.state.selectedCourse&&this.state.agsMax&&Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("ul",{className:"table__legend",children:Object(re.jsx)("li",{children:"Hole Is Not Played: Enter X | Hole Not Completed: Enter X + Most Likely Score (ex: X5)"})})})}),Object(re.jsx)("div",{className:"row ".concat("9"===this.state.nrHoles&&"B9"===this.state.selectedCourse.tee_set_side?"align-right":" "),children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"hbh-container ".concat("9"===this.state.nrHoles&&"B9"===this.state.selectedCourse.tee_set_side?"disabled":""),children:Object(re.jsx)("div",{className:"hbh",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"hbh_row hole",children:[Object(re.jsx)("div",{className:"hbh_cell label"}),this.generateCells("front"),Object(re.jsx)("div",{className:"hbh_cell",children:"OUT"})]}),Object(re.jsxs)("div",{className:"hbh_row yards",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Yards"}),this.generateCells("front","yards"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Length",0,8)})]}),Object(re.jsxs)("div",{className:"hbh_row par",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Par"}),this.generateCells("front","par"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Par",0,8)})]}),Object(re.jsxs)("div",{className:"hbh_row",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Stroke Index"}),this.generateCells("front","stroke"),Object(re.jsx)("div",{className:"hbh_cell"})]}),Object(re.jsxs)("div",{className:"hbh_row score",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Score"}),this.generateCells("front","hole"),Object(re.jsx)("div",{className:"hbh_cell gray",children:this.returnTotal(this.props.formValues.holes,"hole",1,9)})]}),Object(re.jsxs)("div",{className:"hbh_row esc_score ",children:[Object(re.jsx)("div",{className:"hbh_cell label ",children:"Adj. Score"}),this.generateCells("front","ags"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.props.formValues.ags,"hole",1,9)})]})]})})}),Object(re.jsx)("div",{className:"hbh-container ".concat("9"===this.state.nrHoles&&"F9"===this.state.selectedCourse.tee_set_side?"disabled":""),children:Object(re.jsx)("div",{className:"hbh",children:Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"hbh_row hole",children:[Object(re.jsx)("div",{className:"hbh_cell label"}),this.generateCells("back"),Object(re.jsx)("div",{className:"hbh_cell",children:"IN"}),Object(re.jsx)("div",{className:"hbh_cell",children:"TOT"})]}),Object(re.jsxs)("div",{className:"hbh_row yards",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Yards"}),this.generateCells("back","yards"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Length",9,17)}),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Length",0,17)})]}),Object(re.jsxs)("div",{className:"hbh_row par",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Par"}),this.generateCells("back","par"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Par",9,17)}),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.state.selectedCourse.holes,"Par",0,17)})]}),Object(re.jsxs)("div",{className:"hbh_row",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Stroke Index"}),this.generateCells("back","stroke"),Object(re.jsx)("div",{className:"hbh_cell"}),Object(re.jsx)("div",{className:"hbh_cell"})]}),Object(re.jsxs)("div",{className:"hbh_row score",children:[Object(re.jsx)("div",{className:"hbh_cell label",children:"Score"}),this.generateCells("back","hole"),Object(re.jsx)("div",{className:"hbh_cell gray",children:this.returnTotal(this.props.formValues.holes,"hole",10,18)}),Object(re.jsx)("div",{className:"hbh_cell gray",children:this.returnTotal(this.props.formValues.holes,"hole",1,18)})]}),Object(re.jsxs)("div",{className:"hbh_row esc_score ",children:[Object(re.jsx)("div",{className:"hbh_cell label ",children:"Adj. Score"}),this.generateCells("back","ags"),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.props.formValues.ags,"hole",10,18)}),Object(re.jsx)("div",{className:"hbh_cell",children:this.returnTotal(this.props.formValues.ags,"hole",1,18)})]})]})})})]})})]}),this.state.errors.length>0&&Object(re.jsx)("p",{children:this.state.errors.map((function(e){return Object(re.jsx)("span",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)})}))}),Object(re.jsx)("div",{className:"row with-padding-vertical",children:Object(re.jsx)("div",{className:"col is-1-of-6 push-right",children:Object(re.jsx)("button",{disabled:i||n||!o,type:"submit",ref:"submit",className:"btn fill blue",children:"Post Score"})})})]})})})})}),Object(re.jsx)(cs,{openModal:this.state.confirmationModal,onConfirmAction:function(){return e.confirmScore()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmationModal:!1})},closeModal:function(){e.setState({confirmationModal:!1})},question:"Duplicate Score Found",bodyQuestion:"This score may already exist in the golfers score history.",infoText:['Press "Continue" to post the score anyway','Press "Cancel" to review the score prior to posting'],cancelLabel:"Cancel",confirmLabel:"Continue"}),Object(re.jsx)(cs,{openModal:this.state.no_hi_x_score_modal_is_open,onConfirmAction:function(){e.setState({no_hi_x_score_modal_is_open:!1})},closeModal:function(){e.setState({no_hi_x_score_modal_is_open:!1})},bodyQuestion:'A valid Handicap Index value is required to compute Net Par, the golfer with Handicap Index of NH cannot post a hole score of "Hole Not Played".',confirmLabel:"Ok",modalIcon:"error_outline"})]})}}]),s}(a.Component);_c=Object(_.a)({form:"holeByHoleForm",destroyOnUnmount:!0})(_c);var vc=Object(u.o)(Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,formValues:Object(Lt.a)("holeByHoleForm")(e)}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(_c))),xc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"vertical-tabs__container row",children:[Object(re.jsxs)("ul",{className:"vertical-tabs col",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/hole-by-hole"),children:"Hole-by-Hole"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/total"),children:"Total Score"})})]}),Object(re.jsx)("div",{className:"vertical-tabs__panel col",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/hole-by-hole")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/total"),component:function(t){return Object(re.jsx)(gc,{golfer:Object(j.a)(Object(j.a)({},e.props.golfer),{id:e.props.publicView?e.props.golfer.private_id:e.props.golfer.id})})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/hole-by-hole"),component:function(t){return Object(re.jsx)(vc,{golfer:Object(j.a)(Object(j.a)({},e.props.golfer),{id:e.props.publicView?e.props.golfer.private_id:e.props.golfer.id})})}})]})})]})})}}]),s}(a.Component),yc=Object(u.o)(xc),Nc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={timeZones:[],allied_assn:!1,command_user:!1,handicap_program_lic:!1,course_rating_lic:!1,status:!1,membershipTypes:[],error:null,confirmationError:null,confirmation:!1,is_archived:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Zt.getMembershipTypes(this.props.golfer.club_id).then((function(t){e.setState({is_archived:"Archived"===e.props.golfer.status,membershipTypes:t.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id,code:e.code,type:e.type}}))},(function(){var t=e.props.golfer.membership_code&&e.state.membershipTypes.length>0?e.state.membershipTypes.filter((function(t){return t.code===e.props.golfer.membership_code})):[];t.length>0&&(t=t[0]),e.props.initialize(Object(j.a)(Object(j.a)({},e.props.golfer),{gender:"M"===e.props.golfer.gender?{value:"M",label:"Male"}:{value:"F",label:"Female"},is_archived:"Archived"===e.props.golfer.status,date_of_birth:e.props.golfer.date_of_birth?new Date(ue()(e.props.golfer.date_of_birth,"YYYY-MM-DD")):null,membership_code:t?{label:t.label,value:t.value,type:t.type}:null}))}))})).catch((function(e){console.error(e)})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=this,i=JSON.parse(JSON.stringify(e)),n=null;delete i.placeholderValue,delete i.local_number;var o=null;if(i.primary_address&&delete i.primary_address,i.secondary_address&&delete i.secondary_address,i.date_of_birth&&(ue()().diff(ue()(i.date_of_birth),"years")<13&&(i.email=""),i.date_of_birth=ue()(i.date_of_birth).format("YYYY-MM-DD")),this.state.is_archived||(i.status="Active"),i.gender&&(i.gender=i.gender.value),i.local_number&&(n={local_number:i.local_number},delete i.local_number),i.membership_code&&(o={id:i.membership_code.value},delete i.membership_code),i.guardian&&i.guardian.relationship&&(i.guardian.relationship=i.guardian.relationship.value),!(i={golfer:Ei()(s.golfer,i),golfer_club:n,membership_type:o,guardian:i.guardian}).golfer.gender||i.golfer.gender===s.golfer.gender)return Bt.updateGolfer(s.golfer.club_id,s.golfer.id,i).then((function(e){if(s.addAlert({type:"success",message:"Golfer has been successfully edited"}),a.state.is_archived)return Bt.archiveGolfer(s.golfer.id).then((function(t){s.addAlert({type:"success",message:"Golfer has been successfully archived"}),s.close(Object(j.a)(Object(j.a)({},e),{is_archived:!0}))})).catch((function(e){console.log(e)}));s.close(e)})).catch((function(e){var t=ls(e.data.errors);e.data.show_confirmation?(i.force="true",a.showConfirm({error:t,golfer:i})):a.setState({error:t}),console.error(e)}));s.confirmGender(i,n,o)}},{key:"showConfirm",value:function(e){this.setState({confirmation:!0,confirmationError:e.error,toPost:e.golfer})}},{key:"onConfirm",value:function(){var e=this;return Bt.updateGolfer(this.props.golfer.club_id,this.props.golfer.id,this.state.toPost).then((function(t){e.props.addAlert({type:"success",message:"Golfer has been successfully edited"}),e.props.close(t)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=t.invalid,r=this.props.membership_code&&"Junior"===this.props.membership_code.type,c=this.props.date_of_birth?ue()().diff(ue()(this.props.date_of_birth),"years"):30,l=c<13,d=c<19&&c>=13,u=!this.props.date_of_birth||(c>18||d&&!this.props.guardian&&!this.props.golfer.has_guardians&&!this.props.assignGuardian);return Object(re.jsxs)(a.Fragment,{children:[!this.state.confirmation&&Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"prefix",id:"prefix",validate:[ke([4,"Value too long (max 4 characters)"])]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["First Name",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"first_name",id:"first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"name",children:"Middle Name"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"middle_name",id:"middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"name",children:["Last Name",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"last_name",id:"last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"parent-golf-federation",children:"Suffix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"suffix",id:"suffix",validate:[ke([4,"Value too long (max 4 characters)"])]})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"gender",children:"Gender"}),Object(re.jsx)(g.a,{name:"gender",id:"gender",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:[{value:"M",label:"Male"},{value:"F",label:"Female"}]})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"date_of_birth",children:["Birthday ",r&&Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{maxDate:new Date,className:"date",showMonthDropdown:!0,showYearDropdown:!0,name:"date_of_birth",id:"date_of_birth",validate:r?[he]:[],component:os,placeholder:"Select ... "})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Email ",u?Object(re.jsx)("span",{children:"*"}):null]}),Object(re.jsx)(g.a,{component:ce,disabled:l,validate:u?[he,fe]:[fe],type:"text",name:l?"placeholderValue":"email",id:l?"placeholderValue":"email"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"phone_number",children:"Phone Number"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"phone_number",id:"phone_number"})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"golf_canada_id",children:"Golf Canada Network ID"}),Object(re.jsx)(g.a,{component:ce,validate:[xe,ke([12,"Golf Canada Network ID cannot exceed 12 characters."])],type:"text",name:"golf_canada_id",id:"golf_canada_id"})]})}),this.props.canEditAssociation&&Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-4 jc-fe ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({is_archived:!e.state.is_archived})},checked:this.state.is_archived,id:"is_archived",value:!0,name:"is_archived",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"is_archived",children:"Archived"})]})}),!d&&!l||this.props.golfer.has_active_guardians?null:Object(re.jsx)(gs,{formGuardian:this.props.guardian,change:this.props.change,untouch:this.props.untouch,junior:d,minor:l}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",disabled:n,onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n||o,className:"btn fill blue",children:"Save"})})]})]}),this.state.confirmation&&Object(re.jsx)(cs,{openModal:this.state.confirmation,wideClass:"narrow",onConfirmAction:function(){return e.onConfirm()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmation:!1})},closeModal:function(){e.setState({confirmation:!1})},infoText:[this.state.confirmationError],cancelLabel:"Back",confirmLabel:"Save"})]})}}]),s}(a.Component);Nc=Object(_.a)({form:"editGolferAccountForm",destroyOnUnmount:!0})(Nc);var Sc=Object(p.c)((function(e){var t=Object(es.a)("editGolferAccountForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,membership_code:t(e,"membership_code"),date_of_birth:t(e,"date_of_birth"),guardian:t(e,"guardian"),assignGuardian:t(e,"assignGuardian")}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Nc)),Cc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={dataToChange:null,confirmationModal:!1},e}return Object(c.a)(s,[{key:"confirmGender",value:function(e){this.setState({dataToChange:e,confirmationModal:!0})}},{key:"onConfirm",value:function(){var e=this;Bt.updateGolfer(this.props.golfer.club_id,this.props.golfer.id,this.state.dataToChange).then((function(t){e.props.addAlert({type:"success",message:"Golfer has been successfully edited"}),e.props.closeModal(t)}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[this.state.confirmationModal&&Object(re.jsx)(cs,{openModal:this.state.confirmationModal,onConfirmAction:function(){return e.onConfirm()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmationModal:!1})},closeModal:function(){e.setState({confirmationModal:!1})},infoText:["Changing a golfers gender may impact previously posted scores.",'Press "Save" to continue or undo the gender change before submitting the form.',"You must use Score Maintenance to update scores posted to the incorrect ratings."],cancelLabel:"Back",confirmLabel:"Save"}),Object(re.jsxs)("div",{className:"modal__container narrow ".concat(this.state.confirmationModal?"hidden":""),children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Golfer Account"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Sc,{confirmGender:function(t){e.confirmGender(t)},canEditAssociation:this.props.canEditAssociation,golfer:this.props.golfer,club:this.props.club,close:function(t){return e.props.closeModal(t)}})})]})]})}}]),s}(a.Component);var kc=Object(p.c)(null,(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Cc),Ac=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],addressAsPrimary:!1,contactAsPrimary:!1,error:null},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name})}))})}))},(function(){e.addressInitialize()}))})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=this,i=JSON.parse(JSON.stringify(e.address));return i.active_from=ue()(i.active_from).format("YYYY-MM-DD"),i.active_to=ue()(i.active_to).format("YYYY-MM-DD"),i.country=i.country.value,i.state=i.state.value,delete i.state_name,delete i.country_name,"secondary"===s.type&&delete i.all_year_round,"primary"===s.type&&s.golfer.primary_address.all_year_round&&delete i.active_from,"primary"===s.type&&s.golfer.primary_address.all_year_round&&delete i.active_to,Bt.updateGolfer(s.golfer.club_id,s.golfer.id,Object(Et.a)({},s.type+"_address",i)).then((function(e){s.addAlert({type:"success",message:"Golfer ".concat(s.type," address  has been successfully ").concat(s.actionType)}),s.close(e)})).catch((function(e){console.error(e),a.setErrors(e.data.errors)}))}},{key:"setErrors",value:function(e){var t=null;Object.keys(e).forEach((function(s){t=e[s]})),this.setState({error:t})}},{key:"renderErrors",value:function(){var e=this.state.error,t=null;if(e)if(Array.isArray(e))t=e.map((function(e,t){return Object(re.jsx)("span",{className:"validation__message is-error",children:e},t)}));else{var s=Object.keys(e),a={street_1:"Address 1",street_2:"Address 2"};t=s.map((function(t,s){var i=a[t]?a[t]:t;return Object(re.jsx)("span",{className:"validation__message is-error",children:"".concat(i,": ").concat(e[t])},s)}))}return t}},{key:"onCountryChange",value:function(e){this.props.change("address.state",{label:"Select State",value:null}),this.setState({states:e.states})}},{key:"addressInitialize",value:function(){var e=this,t=null,s=this.state.countries.filter((function(s){return e.props.golfer[e.props.type+"_address"].country?(s.name===e.props.golfer[e.props.type+"_address"].country_name&&(t=s.states.filter((function(t){return e.props.golfer[e.props.type+"_address"]&&e.props.golfer[e.props.type+"_address"].state===t.code}))[0]),s.name===e.props.golfer[e.props.type+"_address"].country_name):"United States"===s.name}))[0];this.props.initialize({address:Object(j.a)(Object(j.a)({},this.props.golfer[this.props.type+"_address"]),{country:s,state:t,active_from:this.props.golfer[this.props.type+"_address"].active_from?new Date(ue()(this.props.golfer[this.props.type+"_address"].active_from,"MM/DD")):new Date,active_to:this.props.golfer[this.props.type+"_address"].active_from?new Date(ue()(this.props.golfer[this.props.type+"_address"].active_to,"MM/DD")):new Date})}),this.setState({states:s.states})}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-3 jc-c",children:Object(re.jsx)("h3",{children:"Address Information"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"address.country",children:["Country ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"address.country",id:"address.country",validate:[pe],component:yt,onChange:this.onCountryChange.bind(this),className:"react-select-container",classNamePrefix:"react-select",options:this.state.countries})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("label",{htmlFor:"address.street_1",children:["Address 1 ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"address.street_1",id:"address.street_1",validate:[he,ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("label",{htmlFor:"address.street_2",children:"Address 2"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"address.street_2",id:"address.street_2",validate:[ke([30,"Value too long (max 30 characters)"])]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-3-of-7",children:[Object(re.jsxs)("label",{htmlFor:"address.city",children:["City ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"address.city",id:"address.city"})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"address.state",children:["State ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"address.state",id:"address.state",validate:[pe],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.states})]}),Object(re.jsxs)("div",{className:"col is-2-of-7",children:[Object(re.jsxs)("label",{htmlFor:"zip",children:["Postal Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"address.zip",id:"address.zip"})]})]}),("secondary"===this.props.type||"primary"===this.props.type&&!this.props.golfer.primary_address.all_year_round)&&Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"date_of_birth",children:"Start Date"}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,dateFormatCalendar:"MM/dd",dateFormat:"MM/dd",propperPlacement:"top",name:"address.active_from",id:"address.active_from",component:os,placeholder:"Select ..."})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"date_of_birth",children:"End Date"}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,propperPlacement:"top",dateFormatCalendar:"MM/dd",dateFormat:"MM/dd",name:"address.active_to",id:"address.active_to",component:os,placeholder:"Select ..."})]})]}),this.renderErrors(),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Ac=Object(_.a)({form:"editAddressForm",destroyOnUnmount:!0})(Ac);var Mc=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Ac)),wc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:this.props.actionType})}),Object(re.jsxs)("h2",{className:"modal__title",children:[this.props.actionType.charAt(0).toUpperCase()+this.props.actionType.slice(1)," ",this.props.type.charAt(0).toUpperCase()+this.props.type.slice(1)," Golfer Address Information"]}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Mc,{type:this.props.type,actionType:this.props.actionType,golfer:this.props.golfer,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Ic=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={generatedUrl:e.generatedUrl},a.props.change("generated_url",e.generatedUrl),a.copyToClipboard=a.copyToClipboard.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"copyToClipboard",value:function(e){e.preventDefault(),navigator.clipboard.writeText(this.state.generatedUrl),this.props.addAlert({type:"success",message:"Link copied to clipboard"}),this.props.close()}},{key:"render",value:function(){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("form",{autoComplete:"off",ref:"form",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-6-of-7",children:Object(re.jsx)(g.a,{component:ce,type:"text",name:"generated_url",id:"generated_url",disabled:!0})}),Object(re.jsx)("div",{className:"col is-1-of-7",children:Object(re.jsx)("button",{className:"btn fill blue",onClick:this.copyToClipboard,children:"Copy"})})]})})})}}]),s}(a.Component);Ic=Object(_.a)({form:"createDigitalProfileLinkForm",destroyOnUnmount:!0})(Ic);var Tc=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Ic)),Ec=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("h2",{className:"modal__title",children:"Generate Digital Profile Creation Link"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:["Copy this link and share with the golfer so they can create their Digital Profile. ",Object(re.jsx)("strong",{children:"This link is valid for 24 hours if another link is not generated in the meantime."})]})}),Object(re.jsx)(Tc,{generatedUrl:this.props.generatedUrl,close:function(){return e.props.closeModal()}})]})]})})}}]),s}(a.Component),Fc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("h2",{className:"modal__title",children:"Generate Reset Digital Password Link"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:["Copy this link and share with the golfer so they can reset the password for their Digital Profile. ",Object(re.jsx)("strong",{children:"This link is valid for 24 hours if another link is not generated in the meantime."})]})}),Object(re.jsx)(Tc,{generatedUrl:this.props.generatedUrl,close:function(){return e.props.closeModal()}})]})]})})}}]),s}(a.Component),Dc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={timeZones:[],allied_assn:!1,command_user:!1,handicap_program_lic:!1,course_rating_lic:!1,status:!1,membershipTypes:[],error:null,confirmationError:null,confirmation:!1,is_archived:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Bt.getAffiliations(this.props.golfer.id).then((function(t){var s=[];t.club_affiliations?t.club_affiliations.forEach((function(e){s.push(e.club_id)})):s=[e.props.golfer.club_id],e.setState({is_archived:"Archived"===e.props.golfer.status,clubIds:s},(function(){e.props.initialize(Object(j.a)(Object(j.a)({},e.props.golfer),{is_archived:"Archived"===e.props.golfer.status}))}))})).catch((function(e){console.log(e)})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=this;return this.state.is_archived,Promise.all([this.state.clubIds.map((function(e){return Bt.inactivateGolfers(e,{golfer_ids:[s.golfer.id]})}))]).then((function(e){s.addAlert({type:"success",message:"Golfer has been successfully unarchived"}),s.close(e)})).catch((function(e){a.setState({error:e.data.errors}),console.error(e)}))}},{key:"showConfirm",value:function(e){this.setState({confirmation:!0,confirmationError:e.error,toPost:e.golfer})}},{key:"onConfirm",value:function(){var e=this;return Bt.updateGolfer(this.props.golfer.club_id,this.props.golfer.id,this.state.toPost).then((function(t){e.props.addAlert({type:"success",message:"Golfer has been successfully edited"}),e.props.close(t)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:!this.state.confirmation&&Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-4 jc-fe ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({is_archived:!e.state.is_archived})},checked:this.state.is_archived,id:"is_archived",value:!0,name:"is_archived",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"is_archived",children:"Archived"})]})}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Dc=Object(_.a)({form:"editGolferStatusForm",destroyOnUnmount:!0})(Dc);var Pc=Object(p.c)((function(e){var t=Object(es.a)("editGolferAccountForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,membership_code:t(e,"membership_code"),date_of_birth:t(e,"date_of_birth")}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Dc)),Gc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={success:!1,now:!1},a}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Golfer Status"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:this.state.success?Object(re.jsx)(Ss,{openModal:this.state.success,onMainAction:function(){e.props.closeModal("refresh")},message:Object(re.jsx)(a.Fragment,{children:"Your request is currently being processed. You may need to refresh your screen to see changes."}),closeModal:function(){e.props.closeModal(e.state.success)},golfer:this.state.golfer,mainLabel:"Ok"}):Object(re.jsx)(Pc,{golfer:this.props.golfer,club:this.props.club,close:function(t){t?e.setState({success:t}):e.props.closeModal()}})})]})})}}]),s}(a.Component),Rc=function(){function e(t,s){if(Object(r.a)(this,e),t>s){var a=[s,t];t=a[0],s=a[1]}var i=ue.a.duration(ue()(s).diff(t));this.days=i._data.days,this.months=i._data.months,this.years=i._data.years}return Object(c.a)(e,[{key:"toString",value:function(){var e=this,t=["years","months","days"].map((function(t){return e[t]&&e[t]+" "+t.slice(0,e[t]>1?void 0:-1)})).filter(Boolean);if(!t.length)return"0 days";var s=t.pop();return t.length?[t.join(" "),s].join(" "):s}}]),e}();function Hc(e){var t=ue()(),s=ue()(e);return t.set({hour:0,minute:0,second:0,millisecond:0}),s.set({hour:0,minute:0,second:0,millisecond:0}),"".concat(new Rc(s,t))}var Uc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editAccountModalIsOpen:!1,addressModalIsOpen:!1,deleteAddressModal:!1,deleteAddressError:null,type:null,actionType:null,loadingDigitalProfile:!0,digitalProfile:null,digitalProfileEmails:[],loadingDigitalProfileEmails:!0,page:1,per_page:5,total:0,pages:0,sendInvitationModal:!1,resetPasswordModal:!1,invitationsError:null,resendInvitationModal:!1,digitalProfileLinkError:null,createDigitalProfileLinkModal:!1,resetDigitalProfilePasswordLinkModal:!1,removeDigitalProfileModal:!1,removeDigitalProfileError:null},a.openEditAccountModal=a.openEditAccountModal.bind(Object(b.a)(a)),a.openEditStatusModal=a.openEditStatusModal.bind(Object(b.a)(a)),a.deleteAddress=a.deleteAddress.bind(Object(b.a)(a)),a.sendInvitation=a.sendInvitation.bind(Object(b.a)(a)),a.resetPassword=a.resetPassword.bind(Object(b.a)(a)),a.resendInvitation=a.resendInvitation.bind(Object(b.a)(a)),a.removeDigitalProfile=a.removeDigitalProfile.bind(Object(b.a)(a)),a.generateCreateDigitalProfileLink=a.generateCreateDigitalProfileLink.bind(Object(b.a)(a)),a.generateResetDigitalProfilePasswordLink=a.generateResetDigitalProfilePasswordLink.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditAccountModal",value:function(){this.setState({editAccountModalIsOpen:!0})}},{key:"openEditStatusModal",value:function(){this.setState({editStatusModalIsOpen:!0})}},{key:"getAge",value:function(e){var t=ue()(),s=ue()(e),a=t.diff(s,"year");s.add(a,"years");var i=t.diff(s,"months");s.add(i,"months");var n=t.diff(s,"days"),o={years:"".concat(a," years"),months:"".concat(i," months"),days:"".concat(n," days")},r="";return Object.keys(o).forEach((function(e){if(0===parseInt(o[e])&&delete o[e],!o[e])return r;r+=o[e]+" "})),r}},{key:"closeModal",value:function(e){e&&this.props.updateGolfer(e.golfers),this.setState({editAccountModalIsOpen:!1,editStatusModalIsOpen:!1,addressModalIsOpen:!1,createDigitalProfileLinkModal:!1,resetDigitalProfilePasswordLinkModal:!1})}},{key:"componentDidMount",value:function(){et.a.setAppElement("body"),this.getDigitalProfile(),this.getDigitalProfileEmails()}},{key:"getDigitalProfile",value:function(){var e=this;Bt.getDigitalProfile(this.props.golfer.id).then((function(t){e.setState({digitalProfile:t.digital_profile})})).catch((function(e){console.error(e)}))}},{key:"getDigitalProfileEmails",value:function(){var e=this;this.setState({loadingDigitalProfileEmails:!0});var t=String(this.props.golfer.email);Bt.getDigitalProfileEmails(this.state.page,this.state.per_page,""===t.trim()?null:t).then((function(t){e.setState({digitalProfileEmails:t.digital_profile_emails,loadingDigitalProfileEmails:!1,total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(t){e.setState({loadingDigitalProfileEmails:!1}),console.error(t)}))}},{key:"getPage",value:function(){this.setState({loadingDigitalProfileEmails:!0}),this.getDigitalProfileEmails()}},{key:"deleteAddress",value:function(){var e=this;Bt.deleteGolferAddress(this.props.golfer.club_id,this.props.golfer.id,this.state.deleteGolferAddressModal).then((function(t){e.props.addAlert({type:"success",message:"Golfer ".concat(e.state.deleteGolferAddressModal," address has been successfully deleted")}),e.setState({deleteGolferAddressModal:!1},(function(){e.props.updateGolfer(t.golfers)}))})).catch((function(t){t.data.errors&&t.data.errors.guardian&&t.data.errors.guardian.length>0&&e.setState({deleteAddressError:t.data.errors.guardian[0]})}))}},{key:"sendInvitation",value:function(){var e=this;Bt.sendInvitation(this.props.golfer.id,this.props.associationId).then((function(t){e.getDigitalProfile(),e.props.addAlert({type:"success",message:"Invitation email has been successfully sent."}),e.setState({sendInvitationModal:!1})})).catch((function(t){e.setState({sendInvitationModal:!1}),t.data.errors&&t.data.errors.digital_profile&&t.data.errors.digital_profile.length>0&&e.setState({invitationsError:t.data.errors.digital_profile[0]}),console.log(t)}))}},{key:"resendInvitation",value:function(){var e=this;Xe.resendDigitalProfileInvitationEmail(this.props.golfer.email?{email:this.props.golfer.email,ghin_number:this.props.golfer.id}:{last_name:this.props.golfer.last_name,ghin_number:this.props.golfer.id},this.props.associationId).then((function(t){e.getDigitalProfile(),e.props.addAlert({type:"success",message:"Invitation email has been successfully sent."}),e.setState({resendInvitationModal:!1})})).catch((function(t){e.setState({resendInvitationModal:!1}),t.data.errors&&t.data.errors.digital_profile&&t.data.errors.digital_profile.length>0&&e.setState({invitationsError:t.data.errors.digital_profile[0]}),console.log(t)}))}},{key:"resetPassword",value:function(){var e=this;Bt.sendResetPassword(this.props.golfer.id,this.props.associationId).then((function(t){e.getDigitalProfile(),e.props.addAlert({type:"success",message:"Email has been successfully sent."}),e.setState({resetPasswordModal:!1})})).catch((function(e){console.error(e)}))}},{key:"removeDigitalProfile",value:function(){var e=this;Bt.removeDigitalProfile(this.props.golfer.id).then((function(t){e.getDigitalProfile(),e.props.addAlert({type:"success",message:"Digital Profile has been successfully removed."}),e.setState({removeDigitalProfileModal:!1})})).catch((function(t){e.setState({removeDigitalProfileModal:!1}),t.data.errors&&t.data.errors.digital_profile&&t.data.errors.digital_profile.length>0&&e.setState({removeDigitalProfileError:t.data.errors.digital_profile[0]}),console.log(t)}))}},{key:"generateCreateDigitalProfileLink",value:function(){var e=this;Bt.generateInvitationLink(this.props.golfer.id).then((function(t){var s=t.digital_profile.generated_url;e.setState({generatedUrl:s,createDigitalProfileLinkModal:!0})})).catch((function(t){console.error(t),e.setState({digitalProfileLinkError:t.data.errors.digital_profile[0]})}))}},{key:"generateResetDigitalProfilePasswordLink",value:function(){var e=this;Bt.generateResetPasswordLink(this.props.golfer.id).then((function(t){var s=t.digital_profile.generated_url;e.setState({generatedUrl:s,resetDigitalProfilePasswordLinkModal:!0})})).catch((function(t){console.error(t),e.setState({digitalProfileLinkError:t.data.errors.digital_profile[0]})}))}},{key:"render",value:function(){var e=this,t=this.props.golfer,s=t.date_of_birth?ue()().diff(ue()(t.date_of_birth).format(),"years"):30,i=this.state.digitalProfile,n=s<13,o=s>=13&&s<19,r=[{Header:"Date/Time Sent",accessor:"date_sent",Cell:function(e){return ue()(new Date(e.original.date_sent),"YYYY/MM/DD HH:mm:ss").format("MM/DD/YYYY HH:mm:ss")}},{Header:"Email Type",accessor:"template_type"},{Header:"Status",accessor:"status"},{Header:"Error Message",accessor:"error_message"}],c="Archived"===t.status,l="association-admin"===this.props.user_type,d="super-admin"===this.props.user_type,u=l||d,h=t.is_merged&&!c&&u,p=!t.is_merged&&!c&&u;return Object(re.jsxs)(a.Fragment,{children:[this.props.golfer&&Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:[Object(re.jsx)("span",{children:"Basic Information"}),n&&Object(re.jsx)("span",{style:{color:"#c9243f"},className:"col auto push-right",children:"This golfer is a MINOR."}),n&&this.props.canEditClub&&!t.has_active_guardians&&Object(re.jsxs)("span",{style:{color:"#c9243f"},children:["A guardian is required for minor golfers. ","Archived"!==t.status&&Object(re.jsx)(f.NavLink,{style:{color:"#c9243f"},className:"lnk",to:"./guardianship",children:"Click to add"})]})]}),Object(re.jsxs)("div",{className:"panel__body",children:[!this.props.archived&&(this.props.canEditClub&&!this.props.publicView||"super-admin"===this.props.user_type)&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openEditAccountModal,className:"btn lnk",children:"Edit"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Name:"}),Object(re.jsx)("span",{children:t.player_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Gender:"}),Object(re.jsx)("span",{children:"M"===t.gender?"Male":"Female"})]}),!this.props.publicView&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Date of Birth:"}),Object(re.jsx)("span",{children:t.date_of_birth&&(n||o?Object(re.jsxs)(re.Fragment,{children:[ue()(t.date_of_birth,"YYYY-MM-DD").format("MM/DD/YYYY")," (",Hc(t.date_of_birth),")"]}):ue()(t.date_of_birth,"YYYY-MM-DD").format("MM/DD/YYYY"))})]}),!this.props.publicView&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Phone Number:"}),Object(re.jsx)("span",{children:t.phone_number})]}),!this.props.publicView&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Email Address:"}),Object(re.jsx)("span",{children:t.email})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is Merged?:"}),Object(re.jsx)("span",{children:t.is_merged?"Yes":"No"}),p&&Object(re.jsx)("span",{className:"data-label",children:Object(re.jsx)("button",{className:"btn lnk",children:Object(re.jsx)(f.NavLink,{className:"btn lnk",to:{pathname:"/merges",fromAccountProps:{pageType:"merge",ghinNumber:t.id}},children:"Merge"})})}),h&&Object(re.jsx)("span",{className:"data-label",children:Object(re.jsx)("button",{className:"btn lnk",children:Object(re.jsx)(f.NavLink,{className:"btn lnk",to:{pathname:"/merges",fromAccountProps:{pageType:"unmerge",ghinNumber:t.id}},children:"Unmerge"})})})]})]})}),Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"GHIN Number Creation Date:"}),Object(re.jsx)("span",{children:ue()(t.creation_date,"YYYY-MM-DD").format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Home Club:"}),Object(re.jsx)("span",{children:t.primary_club_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Golf Canada Network ID:"}),Object(re.jsx)("span",{children:t.golf_canada_id})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Is Archived?:"}),Object(re.jsx)("span",{className:"Archived"===t.status?"red-value":"",children:"Archived"===t.status?"Yes":"No"}),"Archived"===t.status&&"super-admin"===this.props.user_type&&Object(re.jsx)("span",{className:"data-label",children:Object(re.jsx)("button",{onClick:this.openEditStatusModal,className:"btn lnk",children:"Edit"})})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Test Golfer?:"}),Object(re.jsx)("span",{children:t.is_test?"Yes":"No"})]})]})})]})]})]}),!n&&i&&Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Digital Profile Information"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-2-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Golfer Profile Creation Date:"}),Object(re.jsx)("span",{children:i.creation_date&&"-"!==i.creation_date?ue.a.utc(i.creation_date,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Initial Invitation Sent Date:"}),Object(re.jsx)("span",{children:i.sent_invite_for_digital_profile_on&&"-"!==i.sent_invite_for_digital_profile_on?ue.a.utc(i.sent_invite_for_digital_profile_on,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Last Login (Includes Admin Portal & Golfer Products):"}),Object(re.jsx)("span",{children:i.last_login&&"-"!==i.last_login?ue.a.utc(i.last_login,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"GHIN Terms of Service Accepted (for Golfer Products):"}),Object(re.jsx)("span",{children:i.tos_accepted_date&&"-"!==i.tos_accepted_date?ue.a.utc(i.tos_accepted_date,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"GHIN Privacy Policy Accepted (for Golfer Products):"}),Object(re.jsx)("span",{children:i.privacy_policy_accepted_date&&"-"!==i.privacy_policy_accepted_date?ue.a.utc(i.privacy_policy_accepted_date,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]})]})}),Object(re.jsxs)("div",{className:"col is-1-of-3 ai-fe push-right",children:["Archived"!==t.status&&"true"===i.display_send_invitation_button&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({sendInvitationModal:!0})},children:"Send Invitation to Create a Digital Profile"})}),"true"===i.display_send_reset_password_email_button&&Object(re.jsxs)("div",{children:[Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({resetPasswordModal:!0})},children:"Send Reset Password Email"})}),Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.generateResetDigitalProfilePasswordLink()},children:"Generate \u201cReset Digital Password\u201d Link"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({removeDigitalProfileModal:!0})},children:"Remove Digital Profile"})})]}),"true"===i.display_resend_invitation_button&&Object(re.jsxs)("div",{children:[Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({resendInvitationModal:!0})},children:"Resend Invitation To Create A Digital Profile"})}),Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.generateCreateDigitalProfileLink()},children:"Generate \u201cDigital Profile Creation\u201d Link"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({removeDigitalProfileModal:!0})},children:"Remove Digital Profile"})})]})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(re.jsx)("span",{className:"red",children:"Please note, there may be a slight delay in updating the table."}),Object(re.jsx)("i",{className:"material-icons-outlined",style:{cursor:"pointer"},onClick:function(){e.getDigitalProfile(),e.getDigitalProfileEmails()},children:"refresh"})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsx)($t,{loading:this.state.loadingDigitalProfileEmails,columns:r,data:this.state.digitalProfileEmails,ref:function(t){return e.table=t},hideSlelectAll:!0,hideSelect:!0,sortable:!1,defaultPageSize:5,pages:this.state.pages,total:this.state.total,manual:!0,pageSize:this.state.per_page,onPageChange:function(t){return e.setState({page:t+1},(function(){return e.getPage()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s+1},(function(){return e.getPage()}))}})})})]})]}),!this.props.publicView&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Addresses"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_state"}),Object(re.jsx)("col",{className:""}),Object(re.jsx)("col",{className:"col_state"}),Object(re.jsx)("col",{className:"col_state"}),Object(re.jsx)("col",{className:"col_status"}),Object(re.jsx)("col",{className:"col_state"}),Object(re.jsx)("col",{className:"col_state"}),!this.props.archived&&(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("col",{className:"col_state"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Type"}),Object(re.jsx)("th",{children:"Address"}),Object(re.jsx)("th",{children:"City"}),Object(re.jsx)("th",{children:"State/Prov."}),Object(re.jsxs)("th",{children:["Postal ",Object(re.jsx)("br",{})," Code"]}),Object(re.jsx)("th",{children:"Country"}),Object(re.jsxs)("th",{children:["Date Range ",Object(re.jsx)("br",{})," at Address"]}),!this.props.archived&&(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("th",{className:"col_edit"})]})}),Object(re.jsxs)("tbody",{children:[Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Primary"}),t.primary_address&&t.primary_address.city&&t.primary_address.state?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("td",{children:[t.primary_address.street_1," ",t.primary_address.street_2&&Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("br",{}),"  ",t.primary_address.street_2]})]}),Object(re.jsx)("td",{children:t.primary_address.city}),Object(re.jsx)("td",{children:t.primary_address.state_name}),Object(re.jsx)("td",{children:t.primary_address.zip}),Object(re.jsx)("td",{children:t.primary_address.country_name}),Object(re.jsx)("td",{children:t.primary_address.all_year_round?"Year-Round":t.primary_address.active_from+" - "+t.primary_address.active_to}),!this.props.archived&&(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsxs)("td",{className:"col_edit-delete",children:[Object(re.jsx)("button",{className:"btn",onClick:function(){e.setState({type:"primary",actionType:"edit",addressModalIsOpen:!0})},children:"Edit"}),Object(re.jsx)("button",{className:"btn",onClick:function(){e.setState({deleteGolferAddressModal:"primary"})},children:"Delete"})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),!this.props.archived&&(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("td",{className:"col_edit",children:Object(re.jsx)("button",{className:"btn fill green small",onClick:function(){e.setState({type:"primary",actionType:"add",addressModalIsOpen:!0})},children:"Add"})})]})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Secondary"}),t.secondary_address&&t.secondary_address.city&&t.secondary_address.state?Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("td",{children:t.secondary_address.street_1+(t.secondary_address.street_2&&", "+t.secondary_address.street_2)}),Object(re.jsx)("td",{children:t.secondary_address.city}),Object(re.jsx)("td",{children:t.secondary_address.state_name}),Object(re.jsx)("td",{children:t.secondary_address.zip}),Object(re.jsx)("td",{children:t.secondary_address.country_name}),Object(re.jsx)("td",{children:t.secondary_address.all_year_round?"Year-Round":t.secondary_address.active_from+" - "+t.secondary_address.active_to}),!this.props.archived&&(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsxs)("td",{className:"col_edit-delete",children:[Object(re.jsx)("button",{className:"btn",onClick:function(){e.setState({type:"secondary",actionType:"edit",addressModalIsOpen:!0})},children:"Edit"}),Object(re.jsx)("button",{className:"btn",onClick:function(){e.setState({deleteGolferAddressModal:"secondary"})},children:"Delete"})]})]}):Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),Object(re.jsx)("td",{}),!this.props.archived&&(!!this.props.canEditClub||"super-admin"===this.props.user_type)&&Object(re.jsx)("td",{className:"col_edit",children:t.primary_address&&t.primary_address.city&&t.primary_address.state&&Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({type:"secondary",actionType:"add",addressModalIsOpen:!0})},children:"Add"})})]})]})]})]})})]})})})]})})}),Object(re.jsx)(et.a,{isOpen:this.state.editAccountModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(kc,{golfer:this.props.golfer,canEditAssociation:Ye(this.props.user_type,"edit-association"),club:this.props.club,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.editStatusModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Gc,{golfer:this.props.golfer,club:this.props.club,closeModal:function(t){e.closeModal(t)}})}),this.state.invitationsError?Object(re.jsx)(ca,{openModal:this.state.invitationsError,onConfirmAction:function(){return e.setState({invitationsError:null})},body:"".concat(this.state.invitationsError.body_line1||"","\n\n").concat(this.state.invitationsError.body_line2||""),onCancelAction:function(){e.setState({invitationsError:null})},closeModal:function(){e.setState({invitationsError:null})},question:this.state.invitationsError.top_line,cancelLabel:"Cancel",confirmLabel:"OK"}):null,Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.deleteGolferAddressModal,onConfirmAction:this.deleteAddress,onCancelAction:function(){e.setState({deleteGolferAddressModal:!1,deleteAddressError:null})},closeModal:function(){e.setState({deleteGolferAddressModal:!1,deleteAddressError:null})},question:"Are you sure you want to remove this address?",cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline",error:this.state.deleteAddressError}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.sendInvitationModal,onConfirmAction:this.sendInvitation,onCancelAction:function(){e.setState({sendInvitationModal:!1})},closeModal:function(){e.setState({sendInvitationModal:!1})},question:"Are you sure you want to send an email to invite ".concat(this.props.golfer.first_name," ").concat(this.props.golfer.last_name," to create a digital profile?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.resendInvitationModal,onConfirmAction:this.resendInvitation,onCancelAction:function(){e.setState({resendInvitationModal:!1})},closeModal:function(){e.setState({resendInvitationModal:!1})},question:"Are you sure you want to resend an email to invite ".concat(this.props.golfer.first_name," ").concat(this.props.golfer.last_name," to create a digital profile?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.resetPasswordModal,onConfirmAction:this.resetPassword,onCancelAction:function(){e.setState({resetPasswordModal:!1})},closeModal:function(){e.setState({resetPasswordModal:!1})},question:"Are you sure you want to send reset password email to ".concat(this.props.golfer.first_name," ").concat(this.props.golfer.last_name,"?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.removeDigitalProfileModal,onConfirmAction:this.removeDigitalProfile,onCancelAction:function(){e.setState({removeDigitalProfileModal:!1})},closeModal:function(){e.setState({removeDigitalProfileModal:!1})},question:"Are you sure you want to remove the digital profile for ".concat(this.props.golfer.first_name," ").concat(this.props.golfer.last_name,"?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),this.state.removeDigitalProfileError?Object(re.jsx)(ca,{openModal:this.state.removeDigitalProfileError,onConfirmAction:function(){e.setState({removeDigitalProfileError:null}),e.getDigitalProfile()},body:"".concat(this.state.removeDigitalProfileError.body_line1||"","\n\n").concat(this.state.removeDigitalProfileError.body_line2||""),onCancelAction:function(){e.setState({removeDigitalProfileError:null}),e.getDigitalProfile()},closeModal:function(){e.setState({removeDigitalProfileError:null}),e.getDigitalProfile()},question:this.state.removeDigitalProfileError.top_line,cancelLabel:"Cancel",confirmLabel:"OK"}):null,Object(re.jsx)(et.a,{isOpen:this.state.addressModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(wc,{actionType:this.state.actionType,type:this.state.type,golfer:this.props.golfer,closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.createDigitalProfileLinkModal,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Ec,{generatedUrl:this.state.generatedUrl,closeModal:function(){e.closeModal()}})}),Object(re.jsx)(et.a,{isOpen:this.state.resetDigitalProfilePasswordLinkModal,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Fc,{generatedUrl:this.state.generatedUrl,closeModal:function(){e.closeModal()}})}),this.state.digitalProfileLinkError?Object(re.jsx)(ca,{openModal:this.state.digitalProfileLinkError,onConfirmAction:function(){return e.setState({digitalProfileLinkError:null})},body:"".concat(this.state.digitalProfileLinkError.body_line1||"","\n\n").concat(this.state.digitalProfileLinkError.body_line2||""),onCancelAction:function(){e.setState({digitalProfileLinkError:null})},closeModal:function(){e.setState({digitalProfileLinkError:null})},question:this.state.digitalProfileLinkError.top_line,cancelLabel:"Cancel",confirmLabel:"OK"}):null]})}}]),s}(a.Component);var Lc=Object(p.c)((function(e){return{user_type:e.user.access.user_type}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Uc),Yc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={status:!1,is_home_club:!1,membershipTypes:[],error:null,isDateOfBirth:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.onValidate=a.onValidate.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.initialize(),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=this,i=Ei()(s.clubMembership,e);return i.membership_active=i.status,i.membership_start_date&&(i.inactive_date=ue()(i.membership_start_date).format("YYYY-MM-DD"),i.inactive_flag="Activate"),i.membership_end_date&&(i.inactive_date=ue()(i.membership_end_date).format("YYYY-MM-DD"),i.inactive_flag="Inactivate"),i.membership_start_date||i.membership_end_date||(i.inactive_date="",i.inactive_flag=""),delete i.membership_end_date,delete i.membership_start_date,s.clubMembership.status===i.status&&delete i.status,i.membership_id&&(i.membership_id=i.membership_id.value),Bt.updateAffiliation(s.golfer.id,s.clubMembership.id,i).then((function(e){s.closeModal(e.club_affiliation)})).catch((function(e){e.data&&a.setState({error:e.data.errors}),console.error(e)}))}},{key:"initialize",value:function(){var e=this;Zt.getMembershipTypes(this.props.clubMembership.club_id).then((function(t){e.setState({membershipTypes:t.membership_types.filter((function(e){return"false"!==e.active})).map((function(e){return{label:e.code+" - "+e.description,code:e.code,value:e.id}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))},(function(){e.setState({status:"Active"===e.props.clubMembership.status,is_home_club:e.props.clubMembership.is_home_club});var t=e.props.clubMembership.membership_code&&e.state.membershipTypes.length>0?e.state.membershipTypes.filter((function(t){return t.code===e.props.clubMembership.membership_code})):[];t.length>0&&(t=t[0]),e.props.initialize(Object(j.a)(Object(j.a)({},e.props.clubMembership),{status:"Active"===e.props.clubMembership.status,is_home_club:e.props.clubMembership.is_home_club,local_number:e.props.clubMembership.local_number?e.props.clubMembership.local_number.toString():null,membership_start_date:"Activate"===e.props.clubMembership.inactive_flag?e.props.clubMembership.inactive_date?new Date(ue()(e.props.clubMembership.inactive_date)):null:e.props.clubMembership.membership_start_date?new Date(ue()(e.props.clubMembership.membership_start_date)):null,membership_end_date:"Inactivate"===e.props.clubMembership.inactive_flag?e.props.clubMembership.inactive_date?new Date(ue()(e.props.clubMembership.inactive_date)):null:e.props.clubMembership.membership_end_date?new Date(ue()(e.props.clubMembership.membership_end_date)):null,membership_id:t?{label:t.label,value:t.value}:null}))}))})).catch((function(e){console.error(e)}))}},{key:"onValidate",value:function(e){e&&"J"===e.code?this.state.isDateOfBirth&&this.state.error||this.setState({isDateOfBirth:!0,error:"Please complete the Date of Birth in the Primary tab before selecting this Membership Code"}):e&&"R"===e.code&&this.state.error&&this.setState({error:null})}},{key:"render",value:function(){var e=this,t=this.props.golfer,s=this.props,i=s.handleSubmit,n=s.pristine,o=s.submitting,r=s.endDate,c=s.startDate;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:i(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("h2",{children:this.props.clubMembership.club_name})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{htmlFor:"membership_id",children:["Membership Code ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"membership_id",id:"membership_id",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.membershipTypes,validate:t.date_of_birth?[]:function(t){return e.onValidate(t)}})]}),Object(re.jsxs)("div",{className:"col is-1-of-6 jc-fe ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({status:!e.state.status})},checked:this.state.status,id:"status",value:!0,name:"status",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"status",children:"Active"})]}),Object(re.jsxs)("div",{className:"col is-1-of-5 jc-fe ",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState({is_home_club:!e.state.is_home_club})},checked:this.state.is_home_club,id:"is_home_club",value:!0,name:"is_home_club",component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"is_home_club",children:"Home Club"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"local_number",children:"Local Number "}),Object(re.jsx)(g.a,{component:ce,validate:[be],type:"text",name:"local_number",id:"local_number"})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"date",children:"Start Date"}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,showYearDropdown:!0,disabled:r,minDate:new Date,name:"membership_start_date",value:null,id:"membership_start_date",component:os,onFocus:function(t){return e.props.change("membership_start_date",new Date)},placeholder:"Select ..."})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"date",children:"End Date"}),Object(re.jsx)(g.a,{className:"date",showMonthDropdown:!0,showYearDropdown:!0,disabled:c,minDate:new Date,name:"membership_end_date",value:null,id:"membership_end_date",component:os,onFocus:function(t){return e.props.change("membership_end_date",new Date(ue()().add(1,"days")))},placeholder:"Select ..."})]})]}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.closeModal(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:n||o,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Yc=Object(_.a)({form:"editClubMembershipForm",destroyOnUnmount:!0})(Yc);var zc=Object(p.c)((function(e){var t=Object(es.a)("editClubMembershipForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,startDate:t(e,"membership_start_date"),endDate:t(e,"membership_end_date")}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Yc)),Bc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Club Membership Details"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal(null)},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(zc,{golfer:this.props.golfer,clubMembership:this.props.clubMembership,closeModal:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),qc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={loading:!0,selectedClub:a.props.selectedClub.membership,affiliations:[],oldAffiliations:[],inactiveHomeClubModal:!1,inactiveGolfer:!1,expandedIndex:-1,table_id:1,displayMembershipDetails:a.props.displayMembershipDetails,DeleteModalIsOpen:!1},a.changeHomeClub=a.changeHomeClub.bind(Object(b.a)(a)),a.changeStatus=a.changeStatus.bind(Object(b.a)(a)),a.getAffiliations=a.getAffiliations.bind(Object(b.a)(a)),a.onDelete=a.onDelete.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){et.a.setAppElement("body"),this.getAffiliations()}},{key:"onDelete",value:function(){var e=this,t=this.state.affiliations[this.state.expandedIndex].golfer_id,s=this.state.affiliations[this.state.expandedIndex].id;return Bt.deleteAffiliation(t,s).then((function(t){e.props.addAlert({type:"success",message:"Club affiliation successfully deleted"})})).catch((function(t){400===t.status&&e.props.addAlert({type:"error",message:t.data.errors.club_affiliation[0]}),t.data&&console.error(t)})).finally((function(){e.setState({DeleteModalIsOpen:!1,displayMembershipDetails:!1,table_id:e.state.table_id+1}),e.getAffiliations()}))}},{key:"getAffiliations",value:function(){var e=this;this.setState({loading:!0}),Bt.getAffiliations(this.props.publicView?this.props.golfer.private_id:this.props.golfer.id).then((function(t){var s=!1,a=!0;t.club_affiliations.length>0?(t.club_affiliations.forEach((function(i,n){null!==e.props.selectedClub.membership&&void 0!==e.props.selectedClub.membership&&e.props.selectedClub.membership.id===i.id&&(e.setState({selectedClub:i,expandedIndex:n}),e.props.updateSelectedMembership({membership:i,displayMembershipDetails:e.props.displayMembershipDetails})),i.is_home_club&&"Inactive"===i.status&&!e.props.publicView&&t.club_affiliations.length>1&&(s=!0),"Inactive"!==i.status&&(a=!1)})),e.setState({loading:!1,affiliations:t.club_affiliations,inactiveHomeClubModal:s,inactiveGolfer:a})):e.setState({loading:!1,affiliations:[]})})).catch((function(e){console.error(e)}))}},{key:"changeHomeClub",value:function(){var e=this;this.setState({loading:!0,confirmationModal:!1,oldAffiliations:this.state.affiliations,affiliations:[]}),Bt.updateAffiliation(this.props.golfer.id,this.state.setAsHomeClub.id,{is_home_club:!this.state.setAsHomeClub.is_home_club}).then((function(t){e.setState({loading:!1},(function(){e.props.updateGolfer()}))})).catch((function(e){console.error(e)}))}},{key:"changeStatus",value:function(e,t){var s=this;this.setState({loading:!0,oldAffiliations:this.state.affiliations,affiliations:[]}),Bt.updateAffiliation(this.props.golfer.id,e,{membership_active:t}).then((function(e){s.setState({loading:!1},(function(){s.props.updateGolfer()}))})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=ze(this.props.rawAccess),s=[{Header:"Club Name - Association Name",accessor:"club_name",colClassName:"col_club-name",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("p",{className:"blue",children:[e.original.club_name," ",Object(re.jsx)("br",{}),Object(re.jsx)("span",{className:"gray italic",children:e.original.association_name})]})})}},{Header:"Home Club",accessor:"home_club",colClassName:"col_centered_checkbox",Cell:function(s){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("input",{type:"checkbox",disabled:"Inactive"===s.original.status&&e.state.affiliations.length>1||e.props.publicView||e.props.archived||!e.props.canEditClub||!("super-admin"===e.props.userType||qe(t,s.original.association_number,s.original.club_id)),checked:s.original.is_home_club,onChange:function(){e.setState({confirmationModal:!s.original.is_home_club,setAsHomeClub:s.original})},name:s.original.id,id:s.original.id}),Object(re.jsx)("label",{style:{margin:"auto"},htmlFor:s.original.id})]})}},{Header:"Status",accessor:"status_edit",colClassName:"col_centered_checkbox",Cell:function(s){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("input",{type:"checkbox",disabled:e.props.publicView||e.props.archived||!e.props.canEditClub||!("super-admin"===e.props.userType||qe(t,s.original.association_number,s.original.club_id)),checked:"Active"===s.original.status,onChange:function(){e.changeStatus(s.original.id,"Active"!==s.original.status)},name:"".concat(s.original.id,"-status"),id:"".concat(s.original.id,"-status")}),Object(re.jsx)("label",{style:{margin:"auto"},htmlFor:"".concat(s.original.id,"-status")})]})}},{Header:"",accessor:"status",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:"Active"===e.original.status?e.original.status:"Inactive"})},colClassName:"col_extended-status"},{Header:"Club Contact",accessor:"contact",Cell:function(e){return e.original.club_contact_address&&Object(re.jsxs)(a.Fragment,{children:[e.original.club_contact_address.first_name," ",e.original.club_contact_address.last_name]})}},{Header:"Club Phone",accessor:"club_phone",colClassName:"col_phone-number"},{Header:"Club Email",accessor:"club_email",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto:".concat(e.original.club_email),children:e.original.club_email})})}},{Header:"Club Website",accessor:"club_website",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"https://".concat(e.original.club_website),children:e.original.club_website})})}},{Header:"",accessor:"details",colClassName:"col_centered_checkbox",show:!this.props.publicView,expander:!0,Expander:function(s){var a=!0!==e.props.displayMembershipDetails||s.index!==e.state.expandedIndex;return t.associations.filter((function(e){return e===s.original.association_number})).length>0||t.clubs.filter((function(e){return e===s.original.club_id})).length>0||"super-admin"===e.props.userType?Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({selectedClub:s.original,expandedIndex:s.index}),e.props.updateSelectedMembership({membership:s.original,displayMembershipDetails:a})},children:"Details"}):null}}];return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Club Memberships"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)($t,{idKey:"id",hidePagination:!0,columns:s,loading:this.state.loading,hideSelect:!0,data:this.state.affiliations,ref:function(t){return e.table=t},expandedIndex:this.state.expandedIndex,displayMembershipDetails:this.state.displayMembershipDetails,defaultSorted:[{id:"SeasonName",desc:!1}],sortable:!0,SubComponent:function(t){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("td",{colSpan:9,style:{padding:"10px"},children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsxs)("div",{className:"panel__head",children:[t.original.club_name,"\xa0-\xa0",Object(re.jsx)("span",{className:"gray italic",children:t.original.association_name}),Object(re.jsxs)("div",{className:"panel__end",children:["Active"===t.original.status?Object(re.jsx)("span",{className:"pill green sub-component",children:"Active"}):""," ",t.original.is_home_club?Object(re.jsx)("span",{className:"pill blue sub-component",children:"Home Club"}):""]})]}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col auto push-right",style:{flexDirection:"unset"},children:[e.props.canEditClub&&!e.props.publicView&&!e.props.archived&&Object(re.jsx)("button",{onClick:function(){return e.setState({selectedClub:t.original,EditClubMembershipModalIsOpen:!0})},className:"btn lnk",children:"Edit"}),e.props.canDeleteAffiliations&&e.state.affiliations.length>1&&Object(re.jsx)("button",{style:{marginLeft:"30px"},className:"btn lnk red",onClick:function(){return e.setState({DeleteModalIsOpen:!0})},children:"Remove Club Affiliation"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Association Number:"}),Object(re.jsx)("span",{children:t.original.association_number})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Association Name:"}),Object(re.jsx)("span",{children:t.original.association_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Number:"}),Object(re.jsx)("span",{children:t.original.club_id})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Club Name:"}),Object(re.jsx)("span",{children:t.original.club_name})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Membership Code:"}),Object(re.jsx)("span",{children:t.original.membership_code})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Local Number:"}),Object(re.jsx)("span",{children:t.original.local_number})]})]})}),Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Date Added to Association:"}),Object(re.jsx)("span",{children:t.original.date_added_to_association&&ue()(t.original.date_added_to_association).format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Date Added to Club:"}),Object(re.jsx)("span",{children:t.original.date_added_to_club&&ue()(t.original.date_added_to_club).format("MM/DD/YYYY")})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Status Date:"}),Object(re.jsx)("span",{children:t.original.status_date&&ue()(t.original.status_date).format("MM/DD/YYYY")})]}),"Activate"===t.original.inactive_flag&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Membership Auto Start Date:"}),Object(re.jsx)("span",{children:t.original.inactive_date&&ue()(t.original.inactive_date).format("MM/DD/YYYY")})]}),"Inactivate"===t.original.inactive_flag&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Membership Auto End Date:"}),Object(re.jsx)("span",{children:t.original.inactive_date&&ue()(t.original.inactive_date).format("MM/DD/YYYY")})]})]})})]}),t.original.golfer_groups&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-2 centered",children:Object(re.jsxs)("table",{className:"data__table normal-overflow",children:[Object(re.jsx)("thead",{children:Object(re.jsx)("tr",{ref:function(e){return e&&e.style.setProperty("background-color","#00365f","important")},children:Object(re.jsx)("th",{children:"Golfer Groups"})})}),Object(re.jsx)("tbody",{children:t.original.golfer_groups.length>0&&t.original.golfer_groups.map((function(e){return Object(re.jsx)("tr",{children:Object(re.jsx)("td",{children:e.name})})}))})]})})})]})]})})})})})}},this.state.table_id)})})]})})})}),Object(re.jsx)(cs,{question:"Change Home Club?",modalIcon:"help_outline",confirmLabel:"Submit",cancelLabel:"Cancel",bodyQuestion:"Are you sure you want change the home club for ".concat(this.props.golfer.player_name," to ").concat(this.state.setAsHomeClub?this.state.setAsHomeClub.club_name:""," ?"),onCancelAction:function(){return e.setState({confirmationModal:!1})},onConfirmAction:this.changeHomeClub,openModal:this.state.confirmationModal,closeModal:function(){return e.setState({confirmationModal:!1})}}),Object(re.jsx)(cs,{question:"Inactive Home Club",modalIcon:"error_outline",confirmLabel:"Ok",bodyQuestion:"The current home club is inactive. Please change the home club with an active one.",onConfirmAction:function(){return e.setState({inactiveHomeClubModal:!1})},openModal:!this.state.inactiveGolfer&&this.state.inactiveHomeClubModal,closeModal:function(){return e.setState({inactiveHomeClubModal:!1})}}),Object(re.jsx)(et.a,{isOpen:this.state.EditClubMembershipModalIsOpen,onRequestClose:function(){e.setState({EditClubMembershipModalIsOpen:!1})},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Bc,{clubMembership:this.state.selectedClub,golfer:this.props.golfer,closeModal:function(t){t?e.setState({EditClubMembershipModalIsOpen:!1},(function(){e.getAffiliations(),e.props.updateGolfer()})):e.setState({EditClubMembershipModalIsOpen:!1})},reloadAffiliations:function(){e.getAffiliations(),e.setState({table_id:e.state.table_id+1,displayMembershipDetails:!1})}})}),Object(re.jsx)(ca,{openModal:this.state.DeleteModalIsOpen,onConfirmAction:function(){e.onDelete()},onCancelAction:function(){e.setState({DeleteModalIsOpen:!1})},closeModal:function(){e.setState({DeleteModalIsOpen:!1})},question:"Are you sure you want to remove this club affiliation?",cancelLabel:"No",confirmLabel:"Yes"})]})}}]),s}(a.Component);var Vc=Object(p.c)((function(e){return{rawAccess:e.user.rawAccess,userType:e.user.access.user_type,selectedClub:e.membership,displayMembershipDetails:e.membership.displayMembershipDetails}}),(function(e){var t=Object(v.b)({updateSelectedMembership:V,clearSelectedMembership:W,addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(qc),Wc=function(e){var t=e.input,s=e.placeholder,a=e.disabled,i=e.hideErrorMessages,n=e.className,o=(e.label,e.type),r=e.meta,c=r.touched,l=r.error;r.warning;return Object(re.jsxs)("div",{children:[Object(re.jsx)("textarea",Object(j.a)(Object(j.a)({disabled:a||!1,autoComplete:"off",id:t.id,placeholder:s,className:n+(!a&&c&&l?" is-error":"")},t),{},{type:o})),!t.hideErrorMessages&&!i&&!a&&c&&l&&Object(re.jsx)("span",{className:"validation__message is-error",children:l})]})},Kc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],addressAsPrimary:!1,contactAsPrimary:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e="-"!==this.props.subscription.note?this.props.subscription.note:"";this.props.initialize({subscribed:"Yes"===this.props.subscription.subscribed,note:e}),this.setState({subscribed:"Yes"===this.props.subscription.subscribed,note:e,count:e.length}),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){return s.onSubmit(e)}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=t.invalid;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("span",{className:"label",children:"Subscribed?"}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{subscribed:!e.subscribed}}))},checked:this.state.subscribed,id:"dac-yes",value:!0,name:"subscribed",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dac-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{subscribed:!e.subscribed}}))},checked:!this.state.subscribed,id:"dac-no",value:!1,name:"subscribed",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"dac-no",children:"No"})]})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("label",{htmlFor:"note",children:"Note: "})}),Object(re.jsx)("div",{className:"col is-2-of-2",style:{textAlign:"right"},children:Object(re.jsxs)("label",{className:this.state.count>150?"length-error":"blue",htmlFor:"note",children:[this.state.count,"  / ",150]})})]}),Object(re.jsx)("div",{className:"f-row",children:Object(re.jsx)(g.a,{component:Wc,className:"large",validate:[ke([150,"Value too long (max 150 characters)"])],name:"note",id:"note",type:"text",onChange:function(t){return e.setState({count:t.target.value.length})}})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n||o,type:"submit",ref:"submit",className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Kc=Object(_.a)({form:"editEmailSubscriptionForm",destroyOnUnmount:!0})(Kc);var Jc=Object(p.c)((function(){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Kc)),$c=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Edit Email Subscription"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(Jc,{onSubmit:function(t){return e.props.onSubmit(t)},subscription:this.props.subscription,close:function(t){return e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Xc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state=a.props.notifications_preferences,a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(){var e=this,t={golfer_notification_preference:this.state,source:"Admin Portal"};return Bt.updateGolfer(this.props.club_id,this.props.golfer_id,t).then((function(t){e.props.addAlert({type:"success",message:"Golfer Notifications Preferences has been successfully edited"}),e.props.close(t)})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=t.invalid;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autocomplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)("div",{class:"row",children:Object(re.jsxs)("div",{class:"col is-1-of-2",children:[Object(re.jsx)("span",{class:"label",children:"Handicap Index Update"}),Object(re.jsxs)("div",{class:"radio__container",children:[Object(re.jsx)(g.a,{checked:this.state.handicap_index,id:"handicap-yes",value:!0,name:"handicap",component:"input",className:"simple__radio full-opacity",type:"radio",disabled:!0}),Object(re.jsx)("label",{htmlFor:"handicap-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(){return{handicap_index:!1}}))},checked:!this.state.handicap_index,id:"handicap-no",value:!1,name:"handicap",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"handicap-no",children:"No"})]})]})}),Object(re.jsx)("div",{class:"row",children:Object(re.jsxs)("div",{class:"col is-1-of-2",children:[Object(re.jsx)("span",{class:"label",children:"Score Edited or Deleted"}),Object(re.jsxs)("div",{class:"radio__container",children:[Object(re.jsx)(g.a,{checked:this.state.score_updated,id:"score_updated-yes",value:!0,name:"score_updated",component:"input",className:"simple__radio full-opacity",type:"radio",disabled:!0}),Object(re.jsx)("label",{htmlFor:"score_updated-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(){return{score_updated:!1}}))},checked:!this.state.score_updated,id:"score_updated-no",value:!1,name:"score_updated",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"score_updated-no",children:"No"})]})]})}),Object(re.jsx)("div",{class:"row",children:Object(re.jsxs)("div",{class:"col is-1-of-2",children:[Object(re.jsx)("span",{class:"label",children:"Profile Update"}),Object(re.jsxs)("div",{class:"radio__container",children:[Object(re.jsx)(g.a,{checked:this.state.update_profile,id:"profile-yes",value:!0,name:"profile",component:"input",className:"simple__radio full-opacity",type:"radio",disabled:!0}),Object(re.jsx)("label",{htmlFor:"profile-yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(){return{update_profile:!1}}))},checked:!this.state.update_profile,id:"profile-no",value:!1,name:"profile",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"profile-no",children:"No"})]})]})}),Object(re.jsxs)("div",{class:"row",children:[Object(re.jsx)("div",{class:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",class:"btn fill gray",onClick:function(){return e.props.close(null)},children:"Cancel"})}),Object(re.jsx)("div",{class:"col is-1-of-2",children:Object(re.jsx)("button",{disabled:i||n||o,type:"submit",ref:"submit",class:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);Xc=Object(_.a)({form:"editNotificationsForm",destroyOnUnmount:!0})(Xc);var Qc=Object(p.c)(null,(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(Xc)),Zc=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{class:"modal__container narrow",children:[Object(re.jsxs)("div",{class:"modal__head",children:[Object(re.jsx)("div",{class:"modal__icon",children:Object(re.jsx)("i",{class:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{class:"modal__title",children:"Edit Notification Settings"}),Object(re.jsx)("button",{class:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{class:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{class:"modal__body",children:[Object(re.jsx)("div",{className:"col bottom-margin",children:Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," Push Notifications must be enabled by the golfer within the GHIN Mobile App. As an Admin, you only have the ability to disable Push Notifications for the golfer."]})}),Object(re.jsx)(Qc,{notifications_preferences:this.props.notifications_preferences,close:function(t){return e.props.closeModal(t)},golfer_id:this.props.golfer_id,club_id:this.props.club_id})]})]})})}}]),s}(a.Component),el=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editEmailSubscriptionModal:!1,resetFreeTrialModal:!1,subscriptions:[],loading:!0,gpsSubscriptions:null,freeTrials:null,gpsLoading:!0,editNotificationsModalIsOpen:!1,golferAge:a.props.golfer.date_of_birth?ue()().diff(ue()(a.props.golfer.date_of_birth),"years"):a.props.date_of_birth?ue()().diff(ue()(a.props.date_of_birth),"years"):30},a.openEditEmailSubscriptionModal=a.openEditEmailSubscriptionModal.bind(Object(b.a)(a)),a.editEmailSubscription=a.editEmailSubscription.bind(Object(b.a)(a)),a.openEditNotificationsModal=a.openEditNotificationsModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openEditEmailSubscriptionModal",value:function(e){this.setState({editEmailSubscriptionModal:e})}},{key:"openEditNotificationsModal",value:function(){this.setState({editNotificationsModalIsOpen:!0})}},{key:"closeModal",value:function(e){e&&this.props.updateGolfer(e.golfers),this.setState({editEmailSubscriptionModal:!1,editNotificationsModalIsOpen:!1})}},{key:"componentDidMount",value:function(){this.getSubscriptions(),this.getGpsSubscriptions(),this.state.golferAge>=19&&this.getNotificationsPreferences(),et.a.setAppElement("body")}},{key:"getSubscriptions",value:function(){var e=this;Bt.getGolferSubscriptions(this.props.publicView?this.props.golfer.private_id:this.props.golfer.id).then((function(t){e.setState({subscriptions:t.subscriptions.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:t,email_campaign:"Newsletter",sent_by:e.golf_association_name,subscribed:e.unsubscribed?"No":"Yes",date_of_change:e.updated_at?ue()(new Date(e.updated_at+".000Z")).format("MM/DD/YYYY"):null,note:e.note?e.note:"-"})})),loading:!1})})).catch((function(e){console.log(e)}))}},{key:"getGpsSubscriptions",value:function(){var e=this;Bt.getGolferGpsSubscriptions(this.props.publicView?this.props.golfer.private_id:this.props.golfer.id).then((function(t){e.setState({gpsSubscriptions:t.gps_subscriptions.filter((function(e){return e.active}))[0]||t.gps_subscriptions[0],freeTrials:t.free_trials,gpsLoading:!1})})).catch((function(e){console.log(e)}))}},{key:"editEmailSubscription",value:function(e,t){var s=this;return"true"===e.subscribed||!0===e.subscribed?rs.subscribeUser(t._original.golf_association_id,this.props.golfer.id,e.note).then((function(e){s.setState({loading:!0,editEmailSubscriptionModal:!1,subscriptions:[]},(function(){return s.getSubscriptions()}))})):rs.unsubscribeUser(t._original.golf_association_id,this.props.golfer.id,e.note).then((function(e){s.setState({loading:!0,editEmailSubscriptionModal:!1,subscriptions:[]},(function(){return s.getSubscriptions()}))}))}},{key:"resetFreeTrial",value:function(){var e=this;Bt.resetFreeTrial(this.props.golfer.id).then((function(t){e.setState({gpsLoading:!0,resetFreeTrialModal:!1,gpsSubscriptions:[],freeTrials:null},(function(){return e.getGpsSubscriptions()}))}))}},{key:"getNotificationsPreferences",value:function(){var e=this;Bt.getGolferNotificationsPreferences(this.props.publicView?this.props.golfer.private_id:this.props.golfer.id).then((function(t){e.setState({handicap_index:t.notification_preference.handicap_index,score_posted:t.notification_preference.score_posted,score_updated:t.notification_preference.score_updated,update_profile:t.notification_preference.update_profile})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=ze(this.props.rawAccess),s=this.props.golfer.date_of_birth?ue()().diff(ue()(this.props.golfer.date_of_birth),"years"):this.props.date_of_birth?ue()().diff(ue()(this.props.date_of_birth),"years"):30,i=s<19&&s>13,n=s<=13,o=[{Header:"Email Campaign",accessor:"email_campaign"},{Header:"Sent By",accessor:"sent_by"},{Header:"Changed By",accessor:"changed_by"},{Header:"Method",accessor:"method"},{Header:"Subscribed?",accessor:"subscribed"},{Header:"Note",accessor:"note"},{Header:"Date of Change",accessor:"date_of_change"},{Header:"",accessor:"edit",colClassName:"col_edit",show:!this.props.archived&&!this.props.publicView&&(t.associations.filter((function(t){return t===e.props.golfer.association_id})).length>0||t.clubs.filter((function(t){return t===parseInt(e.props.golfer.club_id)})).length>0||"super-admin"===this.props.user_type),Cell:function(s){return t.associations.filter((function(t){return t===e.props.golfer.association_id})).length>0||t.clubs.filter((function(t){return t===parseInt(e.props.golfer.club_id)})).length>0||"super-admin"===e.props.user_type?Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.openEditEmailSubscriptionModal(s.row)},children:"Edit"}):null}}];return Object(re.jsxs)(a.Fragment,{children:[this.props.golfer&&Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Email Subscription Management"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsx)($t,{loading:this.state.loading,columns:o,ref:function(t){return e.table=t},hideSelect:!0,hidePagination:!0,data:this.state.subscriptions,sortable:!0})})})})]})})}),!this.state.gpsLoading&&(!this.props.golfer.is_minor||i&&this.props.golfer.email)&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Enhanced GPS"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Active Subscription?"}),Object(re.jsx)("span",{children:this.state.gpsSubscriptions.active?"Yes":"No"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Subscription App Type:"}),Object(re.jsx)("span",{children:this.state.gpsSubscriptions.subscription_app_type})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Subscription Type:"}),Object(re.jsx)("span",{children:this.state.gpsSubscriptions.subscription_type})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Initial Subscription Date:"}),Object(re.jsx)("span",{children:"-"!==this.state.gpsSubscriptions.initial_subscription_date?ue()(new Date(this.state.gpsSubscriptions.initial_subscription_date)).format("MM/DD/YYYY"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Current Subscription Renewal Type:"}),Object(re.jsx)("span",{children:this.state.gpsSubscriptions.current_subscription_renewal_type})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Current Subscription Start Date:"}),Object(re.jsx)("span",{children:"-"!==this.state.gpsSubscriptions.current_subscription_start_date?ue()(new Date(this.state.gpsSubscriptions.current_subscription_start_date)).format("MM/DD/YYYY"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Current Subscription End Date:"}),Object(re.jsx)("span",{children:"-"!==this.state.gpsSubscriptions.current_subscription_end_date?ue()(new Date(this.state.gpsSubscriptions.current_subscription_end_date)).format("MM/DD/YYYY"):"-"})]})]})}),Object(re.jsxs)("div",{className:"col  push-right",children:[Object(re.jsx)("div",{className:"row",children:this.state.freeTrials&&Object(re.jsxs)("table",{className:"data__table",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:""}),Object(re.jsx)("col",{className:"col_state"}),Object(re.jsx)("col",{className:""})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Free Trial"}),Object(re.jsx)("th",{children:"Complete?"}),Object(re.jsx)("th",{children:"Date Completed"})]})}),Object(re.jsxs)("tbody",{children:[Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Trial 1 (18 or 9 Hole Round)"}),Object(re.jsx)("td",{children:this.state.freeTrials["18hole_complete"]?"Yes":"No"}),Object(re.jsx)("td",{children:"-"!==this.state.freeTrials["18hole_date_completed"]?ue()(new Date(this.state.freeTrials["18hole_date_completed"])).format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Trial 2 (9 Holes)"}),Object(re.jsx)("td",{children:this.state.freeTrials["9hole_complete"]?"Yes":"No"}),Object(re.jsx)("td",{children:"-"!==this.state.freeTrials["9hole_date_completed"]?ue()(new Date(this.state.freeTrials["9hole_date_completed"])).format("MM/DD/YYYY HH:mm:ss"):"-"})]})]})]})}),this.state.freeTrials&&(this.state.freeTrials["18hole_complete"]||this.state.freeTrials["9hole_complete"])&&!this.state.gpsSubscriptions.active&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){e.setState({resetFreeTrialModal:!0})},children:"Reset Free Trial"})})]})]})})]})})}),!n&&!i&&Object(re.jsx)("div",{class:"row",children:Object(re.jsx)("div",{class:"col",children:Object(re.jsxs)("div",{class:"panel",children:[Object(re.jsx)("div",{class:"panel__head",children:"Notification Settings"}),Object(re.jsxs)("div",{class:"panel__body",children:[Object(re.jsxs)("div",{class:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," Push Notifications must be enabled by the golfer within the GHIN Mobile App. As an Admin, you only have the ability to disable Push Notifications for the golfer."]})}),Object(re.jsx)("div",{class:"col auto push-right",children:Object(re.jsx)("button",{onClick:this.openEditNotificationsModal,class:"btn lnk",children:"Edit"})})]}),Object(re.jsx)("div",{class:"data-set__container",children:Object(re.jsxs)("div",{class:"data-set",children:[Object(re.jsx)("span",{class:"data-label",children:"Handicap Index Update:"}),Object(re.jsx)("span",{children:this.state.handicap_index?"Yes":"No"})]})}),Object(re.jsx)("div",{class:"data-set__container",children:Object(re.jsxs)("div",{class:"data-set",children:[Object(re.jsx)("span",{class:"data-label",children:"Score Edited or Deleted:"}),Object(re.jsx)("span",{children:this.state.score_updated?"Yes":"No"})]})}),Object(re.jsx)("div",{class:"data-set__container",children:Object(re.jsxs)("div",{class:"data-set",children:[Object(re.jsx)("span",{class:"data-label",children:"Profile Update:"}),Object(re.jsx)("span",{children:this.state.update_profile?"Yes":"No"})]})})]})]})})})]}),Object(re.jsx)(et.a,{isOpen:!!this.state.editEmailSubscriptionModal,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)($c,{subscription:this.state.editEmailSubscriptionModal,onSubmit:function(t){return e.editEmailSubscription(t,e.state.editEmailSubscriptionModal)},closeModal:function(t){e.closeModal(t)}})}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.resetFreeTrialModal,onConfirmAction:function(){e.setState({resetFreeTrialModal:!1}),e.resetFreeTrial()},onCancelAction:function(){e.setState({resetFreeTrialModal:!1})},closeModal:function(){e.setState({resetFreeTrialModal:!1})},question:"Are you sure you want to reset the free trial for ".concat(this.props.golfer.player_name,"?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(et.a,{isOpen:this.state.editNotificationsModalIsOpen,onRequestClose:function(){e.closeModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Zc,{closeModal:function(t){e.closeModal(t)},notifications_preferences:{handicap_index:this.state.handicap_index,score_posted:this.state.score_posted,score_updated:this.state.score_updated,update_profile:this.state.update_profile},golfer_id:this.props.golfer.id,club_id:this.props.golfer.club_id})})]})}}]),s}(a.Component);var tl=Object(p.c)((function(e){return{user_type:e.user.access.user_type,rawAccess:e.user.rawAccess}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(el),sl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{onClick:function(){e.props.showSearch()},className:"btn outline gray",children:"Search for Guardian"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{onClick:function(){e.props.showAdd()},className:"btn outline gray",children:"Add New Guardian"})})]})})}}]),s}(a.Component),al=function(e){return e.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{gKey:"".concat(e.id,"-").concat(e.golfer_id)})}))},il=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],golfers:[],sorted:[{id:"first_name",desc:!1}],page:1,pages:0,per_page:10,selected:null,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name})}))})}))})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCountryChange",value:function(e){this.props.change("state",{label:"Select State",value:null}),this.setState({states:e.states})}},{key:"onSubmit",value:function(e){var t=this,s=[];s.sorting_criteria="full_name",s.order=this.state.sorted[0].desc?"desc":"asc",s.per_page=this.state.per_page,s.page=this.state.page,s.unique_guardians=!0,s.global_search=!1,s.search=e.ghin_or_email,fs.getGuardians(s).then((function(s){s.guardians&&1===s.guardians.length?t.props.onGuardianSelect(s.guardians[0]):0===s.guardians.length?t.setState({error:"The information entered is invalid. This could be because there are no records that match the criteria or the corresponding record belongs to a minor."}):t.setState({values:e,golfers:al(s.guardians),total:parseInt(s["total-count"],10),per_page:parseInt(s["per-page"],10),pages:parseInt(s["total-pages"],10),loading:!1})})).catch((function(e){var s=ls(e.data.errors);t.setState({error:s})}))}},{key:"getPage",value:function(){var e=this;this.setState({loading:!0});var t=[];t.global_search=!1,t.sorting_criteria="full_name",t.order=this.state.sorted[0].desc?"desc":"asc",t.per_page=this.state.per_page,t.page=this.state.page,t.search=this.state.values.ghin_or_email,t.unique_guardians=!0,this.state.values.first_name&&(t.first_name=this.state.values.first_name),fs.getGuardians(t).then((function(t){e.setState({golfers:al(t.guardians),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),loading:!1})})).catch((function(t){var s=ls(t.data.errors);e.setState({error:s})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=[{Header:"Name",accessor:"first_name",colClassName:"col_user-name",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[e.original.first_name," ",e.original.middle_name," ",e.original.last_name]})}},{Header:"GHIN #",accessor:"golfer_id",colClassName:"col_ghin"},{Header:"Email Address",accessor:"email"},{Header:"id",show:!1,accessor:"id"},{Header:"gKey",show:!1,accessor:"gKey"}];return Object(re.jsx)(a.Fragment,{children:0===this.state.golfers.length?Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:"Name or GHIN Number or Email Address Search"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"ghin_or_email",children:["Name or GHIN Number or Email Address ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&(this.props.formValues.last_name||this.props.formValues.first_name),type:"text",validate:(!this.props.formValues||!this.props.formValues.last_name&&!this.props.formValues.first_name)&&[he],name:"ghin_or_email",id:"ghin_or_email"})]})}),this.state.error&&0===this.state.golfers.length&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(){e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Search"})})]})]}):this.state.golfers.length>1&&Object(re.jsxs)("div",{className:"select golfer",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("h3",{className:"form__title",children:"Select Guardian"}),Object(re.jsx)($t,{idKey:"gKey",hideSlelectAll:!0,defaultPageSize:10,columns:o,loading:this.state.loading,data:this.state.golfers,ref:function(t){return e.table=t},pages:this.state.pages,manual:!0,pageSize:this.state.per_page,onRowSelect:function(t){var s=Object(We.a)(e.state.golfers).map((function(e){return e.selected?Object(j.a)(Object(j.a)({},e),{},{selected:!1}):e.gKey===t.gKey?Object(j.a)(Object(j.a)({},e),{},{selected:!t.selected}):e}));e.setState({golfers:s,selected:t._original})},onPageChange:function(t){return e.setState({page:t+1},(function(){return e.getPage()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:1},(function(){e.getPage()}))},sortable:!1})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("button",{disabled:!this.state.selected,onClick:function(){e.props.onGuardianSelect(e.state.selected)},className:"btn fill blue",children:"Continue"})})]})})}}]),s}(a.Component);il=Object(_.a)({form:"searchGuardianForm",destroyOnUnmount:!0})(il);var nl=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,formValues:Object(Lt.a)("searchGuardianForm")(e)}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(il)),ol=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={hasGhinNumber:!e.hide_search,isGHINValid:void 0,isMinor:!1,isJunior:!1,assignGuardian:!1},a.searchForGhinNumber=us()(a.searchForGhinNumber.bind(Object(b.a)(a)),1e3),a}return Object(c.a)(s,[{key:"clearInput",value:function(){var e=this;["email","first_name","last_name","middle_name","prefix","suffix","phone_number"].forEach((function(t){e.props.change("guardian.".concat(t),void 0),e.props.untouch&&e.props.untouch("guardian.".concat(t))}))}},{key:"searchForGhinNumber",value:function(e){var t=this;e&&Bt.findGolferByGhinOrEmail(e,null).then((function(e){var s=e.golfer;["email","first_name","last_name","middle_name","prefix","suffix","phone_number"].forEach((function(e){t.props.change("guardian.".concat(e),s[e])})),t.setState({isGHINValid:!0})})).catch((function(e){t.setState({isGHINValid:!1})}))}},{key:"componentDidMount",value:function(){var e=!!this.props.minor,t=!!this.props.junior&&!e;this.setState({isJunior:t,isMinor:e,assignGuardian:!t}),this.props.change("assignGuardian",!t)}},{key:"componentDidUpdate",value:function(e){var t=!!this.props.minor,s=!!this.props.junior&&!t;this.state.isMinor===t&&this.state.isJunior===s||(this.setState({isJunior:s,isMinor:t,assignGuardian:!s}),this.props.change("assignGuardian",!s)),this.props.change("assignGuardian",this.state.assignGuardian)}},{key:"render",value:function(){var e=this,t=this.state,s=t.isMinor,a=t.isJunior,i=this.props.guardian&&this.props.guardian.relationship&&"Other"===this.props.guardian.relationship.value;return Object(re.jsxs)(re.Fragment,{children:[this.props.hide_search?null:Object(re.jsx)("div",{className:"form__separator padding-16-y"}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[s?Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," The birthdate provided indicates this golfer is a minor. A guardian is required for golfers less than 13 years of age. The guardian must be at least 18 years of age."]}):null,a?Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," The birthdate provided indicates this golfer is a junior (> 13 but ","<"," 19 years of age). A guardian is not required, but can be added for Junior golfers. The guardian must be at least 18 years of age."]}):null]})}),a?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",children:["Would you like to assign a guardian? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{assignGuardian:!e.assignGuardian}}))},checked:this.state.assignGuardian,id:"assignGuardian_yes",value:!0,name:"golfer.assignGuardian",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"assignGuardian_yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{assignGuardian:!e.assignGuardian}}))},checked:!this.state.assignGuardian,id:"assignGuardian_no",value:!1,name:"golfer.assignGuardian",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"assignGuardian_no",children:"No"})]})]})}):null,this.state.assignGuardian?Object(re.jsxs)(re.Fragment,{children:[this.props.hide_search?null:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("span",{className:"label",children:["Does the guardian have a GHIN Number? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsxs)("div",{className:"radio__container",children:[Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{hasGhinNumber:!e.hasGhinNumber}})),e.clearInput()},checked:this.state.hasGhinNumber,id:"hasGhinNumber_yes",value:!0,name:"golfer.hasGhinNumber",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"hasGhinNumber_yes",children:"Yes"}),Object(re.jsx)(g.a,{onClick:function(){e.setState((function(e){return{hasGhinNumber:!e.hasGhinNumber}})),e.clearInput()},checked:!this.state.hasGhinNumber,id:"hasGhinNumber_no",value:!1,name:"golfer.hasGhinNumber",component:"input",className:"simple__radio",type:"radio"}),Object(re.jsx)("label",{htmlFor:"hasGhinNumber_no",children:"No"})]})]})}),this.state.hasGhinNumber?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.golfer_id",children:["Guardian GHIN Number ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,type:"text",onChange:function(t){return e.searchForGhinNumber(t.target.value)},name:"guardian.golfer_id",id:"guardian.golfer_id"}),!1===this.state.isGHINValid?Object(re.jsx)("span",{className:"validation__message is-error",children:"Golfer Not Found"}):null]})}):null,Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-5",children:[Object(re.jsx)("label",{htmlFor:"guardian.prefix",children:"Prefix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.prefix",id:"guardian.prefix"})]}),Object(re.jsxs)("div",{className:"col is-2-of-5",children:[Object(re.jsxs)("label",{htmlFor:"guardian.first_name",children:["Guardian First Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.first_name",id:"guardian.first_name"})]}),Object(re.jsxs)("div",{className:"col is-2-of-5",children:[Object(re.jsx)("label",{htmlFor:"guardian.middle_name",children:"Guardian Middle Name"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.middle_name",id:"guardian.middle_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-2-of-3",children:[Object(re.jsxs)("label",{htmlFor:"guardian.first_name",children:["Guardian Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.last_name",id:"guardian.last_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-3",children:[Object(re.jsx)("label",{htmlFor:"guardian.suffix",children:"Suffix"}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.suffix",id:"guardian.suffix"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.email",children:["Guardian Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.email",id:"guardian.email"})]}),Object(re.jsxs)("div",{className:"col is-2-of-2",children:[Object(re.jsx)("label",{htmlFor:"guardian.phone_number",children:"Guardian Phone Number "}),Object(re.jsx)(g.a,{component:ce,type:"text",name:"guardian.phone_number",id:"guardian.phone_number"})]})]}),this.props.hide_relationship?null:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.relationship",children:["Relationship to Minor ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"guardian.relationship",id:"guardian.relationship",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:ms})]}),i?Object(re.jsxs)("div",{className:"col is-2-of-2",children:[Object(re.jsxs)("label",{htmlFor:"guardian.other_relationship",children:["What is the relationship ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"guardian.other_relationship",id:"guardian.other_relationship"})]}):null]}),this.props.edit_status&&this.props.guardian?Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-2",children:[Object(re.jsx)(g.a,{id:"status",value:!0,onClick:function(){e.props.change("guardian.status","Active"===e.props.guardian.status?"Inactive":"Active")},checked:"Active"===this.props.guardian.status,component:"input",type:"checkbox"}),Object(re.jsx)("label",{htmlFor:"status",children:"Active"})]})}):null]}):null]})}}]),s}(a.Component),rl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],clubs:[],membershipTypes:[],startDate:new Date,isEmailDisabled:!1,confirmation:!1,confirmationError:null,error:null,membershipTypesLoaded:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"componentDidMount",value:function(){"club-admin"===this.props.access.user_type?this.getClubAssociation():this.getAssociations(),this.props.club&&this.getMembershipTypes(this.props.club.id),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"getMembershipTypes",value:function(e){var t=this;this.props.change("membership_code",null),this.setState({membershipTypesLoaded:!1}),Zt.getMembershipTypes(e).then((function(e){t.setState({membershipTypesLoaded:!0,membershipTypes:e.membership_types.map((function(e){return{label:e.code+" - "+e.description,value:e.id,type:e.type}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})})).catch((function(e){t.setState({membershipTypesLoaded:!0}),console.error(e)}))}},{key:"getClubAssociation",value:function(){var e=this,t=[{label:this.props.access.default_association_name,value:this.props.access.default_association_id,id:this.props.access.default_association_id}];this.setState({associations:t},(function(){e.props.change("association",t[0]),e.onAssociationChange(t[0])}))}},{key:"getAssociations",value:function(){var e=this;Zt.getGolfAssociations().then((function(t){var s=t.associations.map((function(e){return e.value=e.id,e.label=e.name,e}));s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),e.setState({associations:s},(function(){if(e.props.association){var t=s.filter((function(t){return parseInt(t.id)===parseInt(e.props.association)}))[0];e.props.change("association",t),e.onAssociationChange(t)}}))}))}},{key:"onAssociationChange",value:function(e){var t=this;if("club-admin"===this.props.access.user_type){var s={label:this.props.access.default_club_name,value:parseInt(this.props.access.default_club_id),id:parseInt(this.props.access.default_club_id)};this.setState({clubs:[s]},(function(){t.props.change("club",s)}))}else rs.getAllClubs(e.id).then((function(e){var s=e.clubs.map((function(e){return e.value=e.id,e.label=e.club_name,e}));t.props.change("club",null),s.sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())})),t.setState({clubs:s},(function(){t.props.club&&t.props.change("club",s.filter((function(e){return parseInt(e.id)===parseInt(t.props.club.id)}))[0])}))}))}},{key:"showConfirm",value:function(e){this.setState({confirmation:!0,confirmationError:e.error,toPost:e.golfer,clubId:e.clubId})}},{key:"onSubmit",value:function(e){var t=this;return Bt.createGuardian(this.props.golfer.id,Object(j.a)(Object(j.a)({},e.guardian),{},{relationship:e.guardian.relationship.value})).then((function(s){t.props.showSuccess(Object(j.a)({},e.guardian))})).catch((function(e){var s=ls(e.data.errors);t.setState({error:s}),console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting;return Object(re.jsxs)(a.Fragment,{children:[!this.state.confirmation&&Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsx)(ol,{guardian:this.props.guardian,change:this.props.change,hide_search:!0}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||!n||o,className:"btn fill blue",children:"Add Guardian"})})]})]}),this.state.confirmation&&Object(re.jsx)(cs,{openModal:this.state.confirmation,wideClass:"narrow",onConfirmAction:function(){return e.onConfirm()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmation:!1})},closeModal:function(){e.setState({confirmation:!1})},infoText:[this.state.confirmationError],cancelLabel:"Back",confirmLabel:"Save"})]})}}]),s}(a.Component);rl=Object(_.a)({form:"addGuardianForm",destroyOnUnmount:!0})(rl);var cl=Object(p.c)((function(e){var t=Object(es.a)("addGuardianForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,access:e.user.access,guardian:t(e,"guardian")}}),(function(e){var t=Object(v.b)({stopAsyncValidation:ts.d},e);return Object(j.a)({dispatch:e},t)}))(Ve(rl)),ll=[{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Legal Guardian",value:"Legal Guardian"},{label:"Coach",value:"Coach"},{label:"Other",value:"Other"}],dl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],clubs:[],membershipTypes:[],error:null,membershipTypesLoaded:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this,s={relationship:e.relationship.value,other_relationship:e.other_relationship};return this.props.guardian.golfer_id?(s.golfer_id=this.props.guardian.golfer_id,this.props.guardian.email||(s.email=e.email)):s=Object(j.a)(Object(j.a)({},s),{},{email:this.props.guardian.email}),s=Object(j.a)({},s),Bt.createGuardian(this.props.golfer.id,s).then((function(e){t.props.showSuccess(Object(j.a)({},t.props.guardian))})).catch((function(e){var s=ls(e.data.errors);t.setState({error:s})}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting,r=this.props.relationship&&"Other"===this.props.relationship.value;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsxs)("div",{className:"row with-padding ",children:["Name: \xa0 ",Object(re.jsxs)("strong",{children:[this.props.guardian.first_name," ",this.props.guardian.middle_name," ",this.props.guardian.last_name]})]}),this.props.guardian.golfer_id?Object(re.jsxs)("div",{className:"row with-padding ",children:["GHIN #: \xa0 ",Object(re.jsx)("strong",{children:this.props.guardian.golfer_id})]}):null,this.props.guardian.email?Object(re.jsxs)("div",{className:"row with-padding ",children:["Email Address: \xa0 ",Object(re.jsx)("strong",{children:this.props.guardian.email})]}):null,this.props.guardian.email?null:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"email",children:["Guardian Email ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"email",id:"email"})]})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.relationship",children:["Relationship to Minor ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"relationship",id:"relationship",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:ll})]}),r?Object(re.jsxs)("div",{className:"col is-2-of-2",children:[Object(re.jsxs)("label",{htmlFor:"other_relationship",children:["What is the relationship ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"other_relationship",id:"other_relationship"})]}):null]}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||!n||o,className:"btn fill blue",children:"Add Guardian"})})]})]})})}}]),s}(a.Component);dl=Object(_.a)({form:"addExistingGuardianForm",destroyOnUnmount:!0})(dl);var ul=Object(p.c)((function(e){var t=Object(es.a)("addExistingGuardianForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,access:e.user.access,relationship:t(e,"relationship")}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(dl)),hl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={selectMethod:!0,searchGuardian:!1,addGuardian:!1,existingGuardian:null,golfer:null},a}return Object(c.a)(s,[{key:"showSearch",value:function(){this.setState({selectMethod:!1,searchGuardian:!0})}},{key:"showAdd",value:function(){this.setState({selectMethod:!1,addGuardian:!0})}},{key:"showExistingForm",value:function(e){this.setState({selectMethod:!1,searchGuardian:!1,addGuardian:!1,existingGuardian:e})}},{key:"resetToSelect",value:function(){this.setState({selectMethod:!0,searchGuardian:!1,addGuardian:!1,guardian:null,existingGuardian:null})}},{key:"showSuccess",value:function(e){this.setState({selectMethod:!1,searchGuardian:!1,addGuardian:!1,existingGuardian:null,guardian:e})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[this.state.selectMethod&&Object(re.jsx)(sl,{showSearch:function(){e.showSearch()},closeModal:function(){e.props.closeModal()},showAdd:function(){e.showAdd()}}),this.state.searchGuardian&&Object(re.jsx)(nl,{onGuardianSelect:function(t){e.showExistingForm(t)},resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()}}),this.state.addGuardian&&Object(re.jsx)(cl,{golfer:this.props.golfer,resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},showSuccess:function(t){e.showSuccess(t)}}),this.state.existingGuardian&&Object(re.jsx)(ul,{guardian:this.state.existingGuardian,golfer:this.props.golfer,resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},showSuccess:function(t){e.showSuccess(t)}}),this.state.guardian&&Object(re.jsx)(Ss,{openModal:this.state.guardian,onMainAction:function(){e.props.closeModal()},onSecundaryAction:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},golfer:this.state.guardian,mainLabel:"Continue to Setup",secundaryLabel:"Add Guardian"})]})}}]),s}(a.Component),pl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Guardian"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(hl,{golfer:this.props.golfer,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),ml=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={timeZones:[],allied_assn:!1,command_user:!1,handicap_program_lic:!1,course_rating_lic:!1,status:!1,membershipTypes:[],error:null,confirmationError:null,confirmation:!1,is_archived:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;this.props.initialize({guardian:Object(j.a)(Object(j.a)({},this.props.guardian),{},{relationship:ms.find((function(t){return t.value===e.props.guardian.relationship}))})})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e,t,s){var a=this,i=Object(j.a)({},e.guardian),n=function(){a.props.addAlert({type:"success",message:"Golfer has been successfully edited"}),a.props.close({golfer:e})},o=function(e){if(e.data){var t=ls(e.data.errors);a.setState({error:t})}},r=this.props.guardian.guardian_id||this.props.guardian.id;["id","golfer_id","club_id","golf_association_id","status_date","minor_Name"].forEach((function(e){delete i[e]})),this.props.golfer?(i=Object(j.a)(Object(j.a)({},i),{},{relationship:e.guardian.relationship.value}),Bt.updateGuardian(this.props.golfer.id,r,i).then(n).catch(o)):fs.updateGuardian(this.props.guardian.id,i).then(n).catch(o)}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting;return Object(re.jsx)(a.Fragment,{children:!this.state.confirmation&&Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),ref:"form",children:[Object(re.jsx)(ol,{edit_status:this.props.edit_status,hide_search:!0,guardian:this.props.guardianEdited,hide_relationship:!this.props.golfer,change:this.props.change}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",className:"btn fill gray",disabled:n,onClick:function(){return e.props.close()},children:"Cancel"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Save"})})]})]})})}}]),s}(a.Component);ml=Object(_.a)({form:"editGuardianForm",destroyOnUnmount:!0})(ml);var bl=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,noOverwriteOnInitialize:!0,guardianEdited:Object(es.a)("editGuardianForm")(e,"guardian")}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ve(ml)),jl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(r.a)(this,s),(e=t.call(this)).state={dataToChange:null,confirmationModal:!1},e}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow ".concat(this.state.confirmationModal?"hidden":""),children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"edit"})}),Object(re.jsx)("h2",{className:"modal__title",children:this.props.title}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(bl,{close:function(t){return e.props.closeModal(t)},guardian:this.props.guardian,golfer:this.props.golfer,edit_status:this.props.edit_status})})]})})}}]),s}(a.Component);var fl=Object(p.c)(null,(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(jl),Ol=function(e){return e.last_name+(e.suffix?" "+e.suffix+", ":", ")+(e.prefix?e.prefix+" ":"")+e.first_name+" "+(e.middle_name?e.middle_name:"")},gl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={editEmailSubscriptionModal:!1,guardians:[],loading:!0,AddGuardianModalIsOpen:!1,editGuardian:!1,deleteGuardian:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getGuardians(),et.a.setAppElement("body")}},{key:"getGuardians",value:function(){var e=this,t=this.props.golfer.id;Bt.getGuardians(t).then(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=s.guardians,t.next=3,Promise.all(a.map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!s.golfer_id){t.next=6;break}return t.next=3,Bt.getGolferByGHIN(s.golfer_id);case 3:a=t.sent,a.golfer.clubs.forEach((function(t){t.association_id===e.props.golfer.association_id&&t.id.toString()===e.props.golfer.club_id&&(s=Object(j.a)(Object(j.a)({},s),{},{golf_association_id:t.association_id,club_id:t.id}))}));case 6:return t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 3:a=t.sent,e.setState({guardians:a.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{status_date:e.status_date?ue()(e.status_date).format("MM/DD/YYYY"):""})})),loading:!1});case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){return console.error(e)}))}},{key:"deleteGuardian",value:function(){var e=this,t=this.props.golfer.id,s=this.state.deleteGuardian.id;Bt.deleteGuardian(s,t).then((function(t){e.setState({deleteGuardian:!1},(function(){e.props.addAlert({type:"success",message:"Guardian has been successfully removed."}),e.props.updateGolfer()}))})).catch((function(e){return console.log(e)}))}},{key:"closeAddGuardianModal",value:function(){this.setState({AddGuardianModalIsOpen:!1}),this.props.updateGolfer&&this.props.updateGolfer(),this.getGuardians()}},{key:"render",value:function(){var e=this,t=ze(this.props.rawAccess),s=[{Header:"Guardian Name",Cell:function(e){return e.original.golfer_id?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.original.golf_association_id,"/club/").concat(e.original.club_id,"/golfer/").concat(e.original.golfer_id),children:Ol(e.original)})}):Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/guardian/".concat(e.original.id),children:Ol(e.original)})})}},{Header:"GHIN Number",Cell:function(e){return Object(re.jsx)(re.Fragment,{children:e.original.golfer_id||"N/A"})}},{Header:"Phone",accessor:"phone_number"},{Header:"Email",accessor:"email"},{Header:"Relationship to Minor",Cell:function(e){return Object(re.jsxs)(re.Fragment,{children:["Other"===e.original.relationship?"Other - ".concat(e.original.other_relationship):e.original.relationship,"  "]})}},{Header:"Guardianship Status",accessor:"status"},{Header:"Status Date",accessor:"status_date"},{Header:"",accessor:"edit",show:this.props.canEditClub&&!this.props.archived&&!this.props.publicView&&(t.associations.filter((function(t){return t===e.props.golfer.association_id})).length>0||t.clubs.filter((function(t){return t===parseInt(e.props.golfer.club_id)})).length>0||"super-admin"===this.props.user_type),Cell:function(s){return t.associations.filter((function(t){return t===e.props.golfer.association_id})).length>0||t.clubs.filter((function(t){return t===parseInt(e.props.golfer.club_id)})).length>0||"super-admin"===e.props.user_type?Object(re.jsxs)("span",{className:"col_edit-delete",children:[Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({editGuardian:s.original})},children:"Edit"}),Object(re.jsx)("button",{className:"btn lnk",onClick:function(){e.setState({deleteGuardian:s.original})},children:"Delete"})]}):null}}],i=this.props.golfer.date_of_birth&&ue()().diff(ue()(this.props.golfer.date_of_birth).format(),"years"),n=i>=13&&i<=19,o=this.props.golfer.is_minor&&!this.props.golfer.has_guardians&&!n;return Object(re.jsxs)(a.Fragment,{children:[this.props.golfer&&Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Guardian Management"}),Object(re.jsxs)("div",{className:"panel__body",children:["Archived"!==this.props.golfer.status&&this.props.canEditClub&&Object(re.jsxs)("div",{className:"row",children:[!this.props.publicView&&Ye(this.props.user_type,"edit-club")&&o?Object(re.jsxs)("div",{className:"col jc-c",children:[Object(re.jsxs)("span",{className:"red",children:[Object(re.jsx)("strong",{children:"Alert:"})," A guardian is required for minor golfers. Without a guardian, scores cannot be posted via GHIN Mobile App or ghin.com for this golfer."]}),Object(re.jsxs)("span",{style:{paddingTop:"10px"},children:[Object(re.jsx)("strong",{children:"Note:"}),' To add another guardian press "Add Guardian".  To edit an existing guardian press "Edit".  To remove a guardian, press "Delete".']})]}):Object(re.jsx)("div",{className:"col jc-c",children:Object(re.jsxs)("span",{style:{paddingTop:"10px"},children:[Object(re.jsx)("strong",{children:"Note:"}),' To add another guardian press "Add Guardian".  To edit an existing guardian press "Edit".  To remove a guardian, press "Delete".']})}),Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){return e.setState({AddGuardianModalIsOpen:!0})},children:"Add Guardian "})})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsx)($t,{loading:this.state.loading,columns:s,ref:function(t){return e.table=t},hideSelect:!0,hidePagination:!0,data:this.state.guardians,sortable:!0})})})]})]})})})}),Object(re.jsx)(et.a,{isOpen:this.state.AddGuardianModalIsOpen,onRequestClose:function(){e.closeAddGuardianModal()},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(pl,{golfer:this.props.golfer,closeModal:function(t){e.closeAddGuardianModal(t)}})}),Object(re.jsx)(et.a,{isOpen:this.state.editGuardian,onRequestClose:function(){return e.setState({editGuardian:void 0})},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(fl,{title:"Edit Guardianship Details",guardian:this.state.editGuardian,edit_status:!0,golfer:this.props.golfer,closeModal:function(){e.setState({editGuardian:void 0}),e.getGuardians(),e.props.updateGolfer&&e.props.updateGolfer()}})}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.deleteGuardian,onConfirmAction:function(){return e.deleteGuardian()},onCancelAction:function(){e.setState({deleteGuardian:!1})},closeModal:function(){e.setState({deleteGuardian:!1})},question:"Remove Guardian?",infoText:["Are you sure you want to remove ".concat(this.state.deleteGuardian.first_name+" "+this.state.deleteGuardian.last_name," as a guardian for ").concat(this.props.golfer.player_name,"?")],note:this.props.golfer.is_under_13&&1===this.state.guardians.filter((function(e){return"Active"===e.status})).length?"An active guardian is required for minor golfers. Without a guardian scores and interaction with ghin.com and the GHIN Mobile App will be prohibited. Please activate or add a guardian for this golfer from the Account tab.":null,cancelLabel:"Cancel",confirmLabel:"Submit",modalIcon:"help_outline"})]})}}]),s}(a.Component);var _l=Object(p.c)((function(e){return{user_type:e.user.access.user_type,rawAccess:e.user.rawAccess}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(gl),vl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{onClick:function(){e.props.showSearch()},className:"btn outline gray",children:"Search for Existing Minor"})}),Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("button",{onClick:function(){e.props.showAdd()},className:"btn outline gray",children:"Add New Minor"})})]})})}}]),s}(a.Component),xl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={countries:[],states:[],golfers:[],sorted:[{id:"first_name",desc:!1}],page:1,pages:0,perPage:10,selected:null,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){var e=this;Xe.getCountriesAndStates().then((function(t){e.setState({countries:t.countries.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name,states:e.states.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{value:e.code,label:e.name})}))})}))})})),this.props.onRef(this)}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onCountryChange",value:function(e){this.props.change("state",{label:"Select State",value:null}),this.setState({states:e.states})}},{key:"onSubmit",value:function(e){var t=this;if(e.ghin_or_email){if(e.ghin_or_email.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/))return Bt.findGolferByGhinOrEmail(null,e.ghin_or_email).then((function(e){t.props.onGolferSelect(e.golfer)})).catch((function(e){throw new O.a({ghin_or_email:"No results found, please change your search criteria."})}));if(/^\d+$/.test(e.ghin_or_email))return Bt.findGolferByGhinOrEmail(e.ghin_or_email,null).then((function(e){t.props.onGolferSelect(e.golfer)})).catch((function(e){throw console.log(e),new O.a({ghin_or_email:"No results found, please change your search criteria."})}));throw new O.a({ghin_or_email:"No results found, please change your search criteria."})}var s=[];return s.sorting_criteria=this.state.sorted[0].id,s.order=this.state.sorted[0].desc?"desc":"asc",s.per_page=this.state.perPage,s.page=this.state.page,s.state=e.state.value,s.country=e.country.value,s.last_name=e.last_name,e.first_name&&(s.first_name=e.first_name),Bt.findGolferByNameAndState(s).then((function(s){if(s.golfers&&1===s.golfers.length)t.props.onGolferSelect(s.golfers[0]);else{if(0===s.golfers.length)throw new O.a({last_name:"No results found, please change your search criteria."});t.setState({values:e,golfers:s.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{clubs:e.clubs.sort((function(e,t){return e.club_name>t.club_name?1:-1}))})})),total:parseInt(s["total-count"],10),per_page:parseInt(s["per-page"],10),pages:parseInt(s["total-pages"],10),loading:!1})}})).catch((function(e){throw new O.a({last_name:"No results found, please change your search criteria."})}))}},{key:"getPage",value:function(){var e=this;this.setState({loading:!0});var t=[];t.sorting_criteria=this.state.sorted[0].id,t.order=this.state.sorted[0].desc?"desc":"asc",t.per_page=this.state.perPage,t.page=this.state.page,t.state=this.state.values.state.value,t.last_name=this.state.values.last_name,this.state.values.first_name&&(t.first_name=this.state.values.first_name),Bt.findGolferByNameAndState(t).then((function(t){e.setState({golfers:t.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{selected:!1,clubs:e.clubs.sort((function(e,t){return e.club_name>t.club_name?1:-1}))})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),loading:!1})})).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.submitting,o=[{Header:"Golfer Name",accessor:"first_name",colClassName:"col_user-name",Cell:function(e){return Object(re.jsxs)(a.Fragment,{children:[e.original.first_name," ",e.original.middle_name," ",e.original.last_name]})}},{Header:"id",show:!1,accessor:"id"},{Header:"Club Name",accessor:"clubs",colClassName:"col_user-name",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.value.map((function(e){return Object(re.jsxs)("span",{children:[e.club_name,Object(re.jsx)("br",{})]})}))})}},{Header:"H.I.",accessor:"handicap_index"}];return Object(re.jsx)(a.Fragment,{children:0===this.state.golfers.length?Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit.bind(this)),ref:"form",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:"GHIN Number or Email Address Search"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"ghin_or_email",children:["GHIN Number or Email Address ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&(this.props.formValues.last_name||this.props.formValues.first_name),type:"text",validate:(!this.props.formValues||!this.props.formValues.last_name&&!this.props.formValues.first_name)&&[he],name:"ghin_or_email",id:"ghin_or_email"})]})}),Object(re.jsx)("div",{className:"form__separator or"}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsx)("h3",{className:"form__title",children:"Last Name & State/Province Search"})})}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"first_name",children:"First Name"}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,type:"text",name:"first_name",id:"first_name"})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"last_name",children:["Last Name ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,validate:(!this.props.formValues||!this.props.formValues.ghin_or_email)&&[he],type:"text",name:"last_name",id:"last_name"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"country",children:["Country ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"country",id:"country",component:yt,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,onChange:this.onCountryChange.bind(this),validate:(!this.props.formValues||!this.props.formValues.ghin_or_email)&&[pe],className:"react-select-container",classNamePrefix:"react-select",options:this.state.countries})]}),Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsx)("label",{htmlFor:"state",children:"State"}),Object(re.jsx)(g.a,{name:"state",id:"state",component:yt,disabled:this.props.formValues&&this.props.formValues.ghin_or_email,className:"react-select-container",classNamePrefix:"react-select",options:this.state.states})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-1",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||n,className:"btn fill blue",children:"Search"})})})]}):this.state.golfers.length>1&&Object(re.jsxs)("div",{className:"select golfer",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("h3",{className:"form__title",children:"Select Minor"}),Object(re.jsx)($t,{idKey:"id",hideSlelectAll:!0,defaultPageSize:10,columns:o,loading:this.state.loading,data:this.state.golfers,ref:function(t){return e.table=t},pages:this.state.pages,manual:!0,pageSize:this.state.per_page,onRowSelect:function(t){var s=Object(We.a)(e.state.golfers).map((function(e){return e.selected?Object(j.a)(Object(j.a)({},e),{},{selected:!1}):e.id===t.id?Object(j.a)(Object(j.a)({},e),{},{selected:!t.selected}):e}));e.setState({golfers:s,selected:t._original})},onPageChange:function(t){return e.setState({page:t+1},(function(){return e.getPage()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.getPage()}))},sortable:!1})]})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("button",{disabled:!this.state.selected,onClick:function(){e.props.onGolferSelect(e.state.selected)},className:"btn fill blue",children:"Continue"})})]})})}}]),s}(a.Component);xl=Object(_.a)({form:"searchGolferForm",destroyOnUnmount:!0})(xl);var yl=Object(p.c)((function(e){return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,formValues:Object(Lt.a)("searchGolferForm")(e)}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(xl)),Nl=[{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Legal Guardian",value:"Legal Guardian"},{label:"Coach",value:"Coach"},{label:"Other",value:"Other"}],Sl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={associations:[],clubs:[],membershipTypes:[],error:null,membershipTypesLoaded:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"handleChange",value:function(e){this.setState({startDate:e})}},{key:"componentWillUnmount",value:function(){this.props.onRef(void 0)}},{key:"onSubmit",value:function(e){var t=this;return fs.addMinor(this.props.guardian.guardian_id,Object(j.a)(Object(j.a)({golfer_id:this.props.golfer.id},e),{},{relationship:e.relationship.value})).then((function(e){t.props.showSuccess(t.props.golfer)})).catch((function(e){if(e.data){var s=ls(e.data.errors);t.setState({error:s})}}))}},{key:"render",value:function(){var e=this,t=this.props,s=t.handleSubmit,i=t.pristine,n=t.valid,o=t.submitting,r=this.props.relationship&&"Other"===this.props.relationship.value;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("form",{autoComplete:"off",onSubmit:s(this.onSubmit),children:[Object(re.jsxs)("div",{className:"row with-padding ",children:["Name: \xa0 ",Object(re.jsxs)("strong",{children:[this.props.golfer.first_name," ",this.props.golfer.middle_name," ",this.props.golfer.last_name]})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["Club Name",this.props.golfer.clubs.length>1?"s":"",":\xa0",Object(re.jsx)("strong",{children:this.props.golfer.clubs.sort((function(e,t){return e.club_name>t.club_name?1:-1})).map((function(e){return Object(re.jsxs)(a.Fragment,{children:[" ",e.club_name,Object(re.jsx)("br",{})]})}))})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["Handicap Index: \xa0 ",Object(re.jsx)("strong",{children:this.props.golfer.handicap_index})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["GHIN #: \xa0 ",Object(re.jsx)("strong",{children:this.props.golfer.id})]}),Object(re.jsxs)("div",{className:"row with-padding ",children:["Gender: \xa0 ",Object(re.jsx)("strong",{children:this.props.golfer.gender})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-2",children:[Object(re.jsxs)("label",{htmlFor:"golfer.relationship",children:["Relationship to Minor ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{name:"relationship",id:"relationship",validate:[he],component:yt,className:"react-select-container",classNamePrefix:"react-select",options:Nl})]}),r?Object(re.jsxs)("div",{className:"col is-2-of-2",children:[Object(re.jsxs)("label",{htmlFor:"other_relationship",children:["What is the relationship ? ",Object(re.jsx)("span",{children:"*"})]}),Object(re.jsx)(g.a,{component:ce,validate:[he],type:"text",name:"other_relationship",id:"other_relationship"})]}):null]}),this.state.error&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.error}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"button",onClick:function(t){t.preventDefault(),e.props.resetToSelect()},className:"btn fill gray",children:"Back"})}),Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsx)("button",{type:"submit",ref:"submit",disabled:i||!n||o,className:"btn fill blue",children:"Add Minor"})})]})]})})}}]),s}(a.Component);Sl=Object(_.a)({form:"addExistingMinorForm",destroyOnUnmount:!0})(Sl);var Cl=Object(p.c)((function(e){var t=Object(es.a)("addExistingMinorForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,access:e.user.access,relationship:t(e,"relationship")}}),(function(e){var t=Object(v.b)({},e);return Object(j.a)({dispatch:e},t)}))(Ve(Sl)),kl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={selectMethod:!1,searchMinor:!0,addMinor:!1,existingMinor:null,golfer:null},a}return Object(c.a)(s,[{key:"showSearch",value:function(){this.setState({selectMethod:!1,searchMinor:!0})}},{key:"showAdd",value:function(){this.setState({selectMethod:!1,addMinor:!0})}},{key:"showExistingForm",value:function(e){this.setState({selectMethod:!1,searchMinor:!1,addMinor:!1,existingMinor:e})}},{key:"resetToSelect",value:function(){this.setState({selectMethod:!1,searchMinor:!0,addMinor:!1,golfer:null,existingMinor:null})}},{key:"showSuccess",value:function(e){this.setState({selectMethod:!1,searchMinor:!1,addMinor:!1,existingMinor:null,golfer:e})}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[this.state.selectMethod&&Object(re.jsx)(vl,{showSearch:function(){e.showSearch()},closeModal:function(){e.props.closeModal()},showAdd:function(){e.showAdd()}}),this.state.searchMinor&&Object(re.jsx)(yl,{onGolferSelect:function(t){e.showExistingForm(t)},resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()}}),this.state.existingMinor&&Object(re.jsx)(Cl,{golfer:this.state.existingMinor,guardian:this.props.guardian,resetToSelect:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},showSuccess:function(t){e.showSuccess(t)}}),this.state.golfer&&Object(re.jsx)(Ss,{openModal:this.state.golfer,onMainAction:function(){e.props.closeModal(!0)},onSecundaryAction:function(){e.resetToSelect()},closeModal:function(){e.props.closeModal()},golfer:this.state.golfer,mainLabel:"Continue to Setup",secundaryLabel:"Add Minor"})]})}}]),s}(a.Component),Al=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("div",{className:"modal__icon",children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"add_circle_outline"})}),Object(re.jsx)("h2",{className:"modal__title",children:"Add Minor"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsx)("div",{className:"modal__body",children:Object(re.jsx)(kl,{guardian:this.props.guardian,closeModal:function(t){e.props.closeModal(t)}})})]})})}}]),s}(a.Component),Ml=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={golfers:[],loading:!0,AddMinorModalIsOpen:!1},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getGuardians(),et.a.setAppElement("body")}},{key:"getGuardians",value:function(){var e=this,t=this.props.guardian.guardian_id;fs.getGolfers(t).then((function(t){var s=t.golfers;e.setState({loading:!1,golfers:s.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{status_date:e.status_date?ue()(e.status_date).format("MM/DD/YYYY"):""})}))})})).catch((function(e){return console.log(e)}))}},{key:"closeAddMinorModal",value:function(e){this.setState({AddMinorModalIsOpen:!1}),this.getGuardians()}},{key:"render",value:function(){var e=this,t=[{Header:"Minor Name",accessor:"name",Cell:function(e){return Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.original.golf_association_id,"/club/").concat(e.original.club_id,"/golfer/").concat(e.original.id),children:(t=e.original,t.last_name+(t.suffix?" "+t.suffix+", ":", ")+(t.prefix?t.prefix+" ":"")+t.first_name+" "+(t.middle_name?t.middle_name:""))});var t}},{Header:"GHIN Number",Cell:function(e){return Object(re.jsx)(re.Fragment,{children:e.original.id||"N/A"})}},{Header:"Gender",accessor:"gender",colClassName:"col_gender"},{Header:"Date of Birth",accessor:"date_of_birth",Cell:function(e){return ue()(e.original.date_of_birth).format("MM/DD/YYYY")}},{Header:"Club Name",accessor:"club_name"},{Header:"Relationship to Minor",Cell:function(e){return Object(re.jsxs)(re.Fragment,{children:["Other"===e.original.relationship?"Other - ".concat(e.original.other_relationship):e.original.relationship,"  "]})}},{Header:"Guardianship Status",accessor:"status"},{Header:"Status Date",accessor:"status_date"}];return Object(re.jsxs)(a.Fragment,{children:[this.props.guardian&&Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Minor Management"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-2",children:Object(re.jsxs)("span",{children:[Object(re.jsx)("strong",{children:"Note:"})," Guardianship status is managed from the minor account."]})}),Object(re.jsx)("div",{className:"col auto push-right",children:this.props.accessLevel>1?Object(re.jsx)("button",{className:"btn fill green",onClick:function(){return e.setState({AddMinorModalIsOpen:!0})},children:"Add Minor"}):null})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsx)($t,{loading:this.state.loading,columns:t,ref:function(t){return e.table=t},hideSelect:!0,hidePagination:!0,data:this.state.golfers,sortable:!0})})})]})]})})})}),Object(re.jsx)(et.a,{isOpen:this.state.AddMinorModalIsOpen,onRequestClose:function(){e.setState({AddMinorModalIsOpen:!1})},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Al,{guardian:this.props.guardian,closeModal:function(t){e.closeAddMinorModal(t)}})})]})}}]),s}(a.Component);var wl=Object(p.c)((function(e){return{user_type:e.user.access.user_type,rawAccess:e.user.rawAccess}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Ml),Il=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this,t=0;this.props.publicView&&(t=1),this.props.canEditClub&&!this.props.publicView&&(t=2);var s=this.props.golfer,i=s.date_of_birth?ue()().diff(ue()(s.date_of_birth).format(),"years"):30,n=i<13,o=i>=13&&i<19;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"vertical-tabs__container row",children:[Object(re.jsxs)("ul",{className:"vertical-tabs col",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/primary"),children:"Primary"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/club-memberships"),children:"Club Memberships"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/subscription-management"),children:"Subscription Management"})}),n||o||this.props.golfer.has_guardians?Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/guardianship"),children:"Guardianship"})}):null,this.props.golfer.is_guardian?Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/minor-management"),children:"Guardianship"})}):null]}),Object(re.jsx)("div",{className:"vertical-tabs__panel col",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/primary")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/primary"),component:function(t){return Object(re.jsx)(Lc,{canEditClub:e.props.canEditClub&&!e.props.publicView,updateGolfer:function(t){return e.props.updateGolfer(t)},golfer:e.props.golfer,archived:e.props.archived,publicView:e.props.publicView,associationId:e.props.associationId,clubId:e.props.match.params.id})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/club-memberships"),component:function(){return Object(re.jsx)(Vc,{canEditClub:e.props.canEditClub&&!e.props.publicView,canDeleteAffiliations:e.props.canDeleteAffiliations&&!e.props.publicView,golfer:e.props.golfer,updateGolfer:function(){return e.props.updateGolfer()},archived:e.props.archived,publicView:e.props.publicView,associationId:e.props.associationId,clubId:e.props.match.params.id})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/subscription-management"),component:function(t){return Object(re.jsx)(tl,{canEditClub:e.props.canEditClub&&!e.props.publicView,golfer:e.props.golfer,updateGolfer:function(t){return e.props.updateGolfer(t)},archived:e.props.archived,publicView:e.props.publicView,associationId:e.props.associationId,clubId:e.props.match.params.id})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/guardianship"),component:function(t){return Object(re.jsx)(_l,{canEditClub:e.props.canEditClub&&!e.props.publicView,publicView:e.props.publicView,golfer:e.props.golfer,updateGolfer:function(t){return e.props.updateGolfer(t)}})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/minor-management"),component:function(s){return Object(re.jsx)(wl,{guardian:Object(j.a)({},e.props.golfer),accessLevel:t,canEditClub:e.props.canEditClub&&!e.props.publicView,publicView:e.props.publicView})}})]})})]})})}}]),s}(a.Component),Tl=Object(u.o)(Il),El=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={page:0,pages:0,total:0,per_page:10,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getLogs()}},{key:"getRequestParams",value:function(){return{page:this.state.page+1,per_page:this.state.per_page}}},{key:"getLogs",value:function(){var e=this;this.setState({loading:!0,logs:[]});var t=this.getRequestParams();Bt.getLogs(this.props.match.params.golfer_id,t).then((function(t){e.setState({loading:!1,logs:t.golfer_changes.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:t,date_and_time:e.date_and_time&&ue()(ue.a.utc(e.date_and_time).toDate()).format("MM/DD/YYYY HH:mm:ss"),change_code:e.change_code,new:e.new_details&&e.new_details.length>0?e.new_details.map((function(e){return e[0]})):e.details.length>0&&e.details.map((function(e){return e[0]})),old:e.details.length>0&&e.details.filter((function(e){return 2===e.length})).map((function(e){return e[1]})),username:e.username})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Date & Time",accessor:"date_and_time",colClassName:"col_date_and_time"},{Header:"Change Code",accessor:"change_code",colClassName:"col_change_code"},{Header:"New",accessor:"new",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.new.length>0&&e.row.new.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Old",accessor:"old",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.old.length>0&&e.row.old.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Username",accessor:"username",colClassName:"col_username"}];return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.logs,hideSelect:!0,sortable:!1,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.getLogs()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.getLogs()}))}})})}}]),s}(a.Component),Fl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={golfer:null,AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1},a.openGolferAddModal=a.openGolferAddModal.bind(Object(b.a)(a)),a.openClubAddModal=a.openClubAddModal.bind(Object(b.a)(a)),a.openAssocAddModal=a.openAssocAddModal.bind(Object(b.a)(a)),a.closeModal=a.closeModal.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"openGolferAddModal",value:function(){this.setState({AddGolferModalIsOpen:!0})}},{key:"openClubAddModal",value:function(){this.setState({AddClubModalIsOpen:!0})}},{key:"openAssocAddModal",value:function(){this.setState({AddAssocModalIsOpen:!0})}},{key:"componentDidMount",value:function(){this.showGolfer()}},{key:"showGolfer",value:function(){var e=this,t=!1;t=this.props.match.params.golfer_id.match(/^[0-9]*$/)?this.props.match.params.golfer_id:window.atob(this.props.match.params.golfer_id),Bt.showGolfer(this.props.match.params.id,t).then((function(s){s.golfers&&Bt.getAffiliations(t).then((function(t){e.setState({golfer:Object(j.a)(Object(j.a)({},s.golfers),{private_id:s.golfers.id,player_name:(s.golfers.prefix?s.golfers.prefix:"")+" "+s.golfers.first_name+" "+(s.golfers.middle_name?s.golfers.middle_name:"")+" "+s.golfers.last_name+" "+(s.golfers.suffix?s.golfers.suffix:"")}),active:t.club_affiliations.filter((function(e){return"Active"===e.status})).length>0,publicView:!s.golfers.entitlement})})).catch((function(t){e.setState({golfer:Object(j.a)(Object(j.a)({},s.golfers),{private_id:s.golfers.id,player_name:(s.golfers.prefix?s.golfers.prefix:"")+" "+s.golfers.first_name+" "+(s.golfers.middle_name?s.golfers.middle_name:"")+" "+s.golfers.last_name+" "+(s.golfers.suffix?s.golfers.suffix:"")}),active:!1,publicView:!s.golfers.entitlement}),console.log(t)}))})).catch((function(e){console.error(e)}))}},{key:"componentDidUpdate",value:function(e,t,s){e.match.params.golfer_id!==this.props.match.params.golfer_id&&this.showGolfer()}},{key:"updateGolfer",value:function(e){this.setState({golfer:Object(j.a)(Object(j.a)({},e),{player_name:(e.prefix?e.prefix:"")+" "+e.first_name+" "+(e.middle_name?e.middle_name:"")+" "+e.last_name+" "+(e.suffix?e.suffix:"")})})}},{key:"closeModal",value:function(e){e&&"golfer"===e.type&&this.props.history.push("/manage/association/".concat(e.golfer.association_id,"/club/").concat(e.golfer.club_id,"/golfer/").concat(e.golfer.id)),e&&"club"===e.type&&this.props.history.push("/manage/association/".concat(e.club.club.golf_association_id,"/club/").concat(e.club.club.id,"/account")),this.setState({AddGolferModalIsOpen:!1,AddClubModalIsOpen:!1,AddAssocModalIsOpen:!1})}},{key:"render",value:function(){var e=this;if(!this.state.golfer)return null;var t=this.state.golfer.date_of_birth&&ue()().diff(ue()(this.state.golfer.date_of_birth).format(),"years"),s=t>=13&&t<=19,i=this.state.golfer.is_minor&&!this.state.golfer.has_guardians&&!s,n=Be(this.props.rawAccess),o=(qe(n,this.state.golfer.association_id,null)||"super-admin"===this.props.user_type)&&!this.state.publicView,r=(qe(n,null,this.state.golfer.club_id)||"super-admin"===this.props.user_type)&&!this.state.publicView;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{canSeeAssociationName:o,canSeeClubName:r,association:{name:this.state.golfer.association_name},club:{club_name:this.state.golfer.club_name},publicView:this.state.publicView,golfer_encoded_id:this.props.match.params.golfer_id,golfer:this.state.golfer.player_name}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)(ii,{title:this.state.golfer.player_name,publicView:this.state.publicView,association:{id:this.props.match.params.association_id},club:{id:this.props.match.params.id,club_name:this.state.golfer.club_name}}),Object(re.jsx)("div",{className:"page__sub__head",children:Object(re.jsxs)("ul",{className:"golfer__data",children:[Object(re.jsxs)("li",{children:["GHIN Number: ",Object(re.jsx)("strong",{children:this.state.golfer.id})]}),!this.state.publicView&&Ye(this.props.user_type,"edit-club")&&i?Object(re.jsx)("li",{children:Object(re.jsxs)("span",{style:{color:"#c9243f"},children:[Object(re.jsx)("strong",{children:"Alert:"})," A guardian is required for minor golfers. Please add a guardian for this golfer from within the Account tab."]})}):null,this.state.golfer.email?Object(re.jsx)("li",{children:Object(re.jsx)("a",{href:"mailto:".concat(this.state.golfer.email),children:this.state.golfer.email})}):null]})}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/handicap-management"),children:"Handicap Management"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/score-maintenance"),children:this.state.publicView||!this.state.active?"Score List":"Score Maintenance"})}),!this.state.publicView&&this.state.active&&Ye(this.props.user_type,"manage-scores")&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/post-a-score"),children:"Post a Score"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/account"),children:"Account"})}),!this.state.publicView&&Ye(this.props.user_type,"edit-club")&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/audit-log"),children:"Audit Log"})}),Object(re.jsxs)("li",{className:"golfer__badge",children:[(this.state.golfer.hi_modified||this.state.golfer.low_hi_modified||this.state.golfer.soft_cap||this.state.golfer.hard_cap)&&!this.state.golfer.hi_withdrawn&&Object(re.jsxs)("div",{className:"info",children:[Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},"data-tip":!0,"data-for":"hi_modified",children:Object(re.jsx)("i",{className:"material-icons v-mid small red",children:"info"})}),Object(re.jsxs)(Vt.a,{id:"hi_modified",className:"table-head__tooltip type-white",type:"light",place:"top",effect:"float",children:[this.state.golfer.hi_modified&&Object(re.jsx)("li",{style:{listStyleType:"disc"},children:Object(re.jsxs)("p",{children:[Object(re.jsx)("strong",{children:"H.I. Index"})," modified ",ue()(this.state.golfer.hi_modified_date).format("MM/DD/YYYY")," by ",this.state.golfer.hi_modified_by," (Full: ",this.state.golfer.raw_hi," | Expires: ",ue()(this.state.golfer.hi_modified_expiration_date).format("MM/DD/YYYY"),")"]})}),this.state.golfer.low_hi_modified&&Object(re.jsxs)("li",{style:{listStyleType:"disc"},children:[" ",Object(re.jsxs)("p",{children:[Object(re.jsx)("strong",{children:"Low Index"})," modified ",ue()(this.state.golfer.low_hi_modified_date).format("MM/DD/YYYY")," by ",this.state.golfer.low_hi_modified_by," (Full: ",this.state.golfer.raw_low_hi," | Expires: ",ue()(this.state.golfer.low_hi_modified_expiration_date).format("MM/DD/YYYY"),")"]})]}),this.state.golfer.soft_cap&&!this.state.golfer.hard_cap&&Object(re.jsxs)("li",{style:{listStyleType:"disc"},children:[" ",Object(re.jsxs)("p",{children:["A ",Object(re.jsx)("strong",{children:"Soft Cap"})," has been applied to this Handicap Index, which suppresses upward movement by 50% after a 3.0 stroke increase over the Low Handicap Index (in effect when the score was posted) has been reached."]})]}),this.state.golfer.hard_cap&&this.state.golfer.soft_cap&&Object(re.jsxs)("li",{style:{listStyleType:"disc"},children:[" ",Object(re.jsxs)("p",{children:["A ",Object(re.jsx)("strong",{children:"Hard Cap"})," has been applied to this Handicap Index, which restricts upward movement to 5.0 strokes over the Low Handicap Index (in effect when the score was posted) after the application of the Soft Cap."]})]})]})]}),Object(re.jsxs)("span",{className:"circle",children:[Object(re.jsxs)("span",{className:"index",children:[this.state.golfer.IndexType," H.I."]}),Object(re.jsx)("span",{className:"score",children:this.state.golfer.handicap_index}),this.state.golfer.hi_modified&&Object(re.jsx)("span",{className:"date gray",children:this.state.golfer.raw_hi&&"("+this.state.golfer.raw_hi+")"})]}),Object(re.jsxs)("span",{className:"circle",children:[Object(re.jsx)("span",{className:"index",children:"Low H.I."}),Object(re.jsx)("span",{className:"score gray",children:this.state.golfer.low_hi}),this.state.golfer.low_hi_modified?this.state.golfer.low_hi_modified_date&&Object(re.jsx)("span",{className:"date gray",children:ue()(this.state.golfer.low_hi_modified_date,"YYYY-MM-DD").format("MM/DD/YYYY")}):this.state.golfer.low_hi_date&&Object(re.jsx)("span",{className:"date gray",children:ue()(this.state.golfer.low_hi_date,"YYYY-MM-DD").format("MM/DD/YYYY")})]})]})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/handicap-management")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/handicap-management"),component:function(){return Object(re.jsx)(Jr,{props:e.props,canEditClub:Ye(e.props.user_type,"edit-club"),golfer:e.state.golfer,publicView:e.state.publicView,archived:"Archived"===e.state.golfer.status||!e.state.active,updateGolfer:function(){return e.showGolfer()}})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/score-maintenance"),component:function(){return Object(re.jsx)(mc,Object(j.a)({canEditClub:Ye(e.props.user_type,"manage-scores"),golfer:e.state.golfer,user_type:e.props.user_type,publicView:e.state.publicView,archived:!e.state.active},e.props))}}),Ye(this.props.user_type,"manage-scores")&&Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/post-a-score"),component:function(){return Object(re.jsx)(yc,{canEditClub:Ye(e.props.user_type,"edit-club"),props:e.props,publicView:e.state.publicView,archived:"Archived"===e.state.golfer.status||"Inactive"===e.state.golfer.status,golfer:e.state.golfer})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/account"),component:function(){return Object(re.jsx)(Tl,{canEditClub:Ye(e.props.user_type,"edit-club"),canDeleteAffiliations:Ye(e.props.user_type,"edit-associations"),props:e.props,golfer:e.state.golfer,updateGolfer:function(t){return e.showGolfer(t)},associationId:e.props.match.params.association_id,club:e.props.match.params.id,archived:"Archived"===e.state.golfer.status,publicView:e.state.publicView})}}),Ye(this.props.user_type,"edit-club")&&Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/audit-log"),component:function(){return Object(re.jsx)(El,Object(j.a)({canEditClub:Ye(e.props.user_type,"edit-club")},e.props))}})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var Dl=Object(u.o)(Object(p.c)((function(e){return{user_type:e.user.access.user_type,rawAccess:e.user.rawAccess}}),null)(Fl)),Pl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("h2",{className:"modal__title",children:"Generate Digital Profile Creation Link"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:["Copy this link and share with the guardian so they can create their Digital Profile. ",Object(re.jsx)("strong",{children:"This link is valid for 24 hours if another link is not generated in the meantime."})]})}),Object(re.jsx)(Tc,{generatedUrl:this.props.generatedUrl,close:function(){return e.props.closeModal()}})]})]})})}}]),s}(a.Component),Gl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"modal__container narrow",children:[Object(re.jsxs)("div",{className:"modal__head",children:[Object(re.jsx)("h2",{className:"modal__title",children:"Generate Reset Digital Password Link"}),Object(re.jsx)("button",{className:"modal__close",onClick:function(){e.props.closeModal()},children:Object(re.jsx)("i",{className:"material-icons-outlined",children:"clear"})})]}),Object(re.jsxs)("div",{className:"modal__body",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:["Copy this link and share with the guardian so they can reset the password for their Digital Profile. ",Object(re.jsx)("strong",{children:"This link is valid for 24 hours if another link is not generated in the meantime."})]})}),Object(re.jsx)(Tc,{generatedUrl:this.props.generatedUrl,close:function(){return e.props.closeModal()}})]})]})})}}]),s}(a.Component),Rl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={EditGuardian:void 0,digitalProfile:null,digitalProfileEmails:[],loadingDigitalProfileEmails:!0,page:1,per_page:5,total:0,pages:0,sendInvitationModal:!1,resetPasswordModal:!1,createDigitalProfileLinkModal:!1,resetDigitalProfilePasswordLinkModal:!1,digitalProfileLinkError:null,removeDigitalProfileModal:!1,removeDigitalProfileError:null},a.sendInvitation=a.sendInvitation.bind(Object(b.a)(a)),a.resendInvitation=a.resendInvitation.bind(Object(b.a)(a)),a.resetPassword=a.resetPassword.bind(Object(b.a)(a)),a.removeDigitalProfile=a.removeDigitalProfile.bind(Object(b.a)(a)),a.generateCreateDigitalProfileLink=a.generateCreateDigitalProfileLink.bind(Object(b.a)(a)),a.generateResetDigitalProfilePasswordLink=a.generateResetDigitalProfilePasswordLink.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){et.a.setAppElement("body"),this.getDigitalProfile(),this.getDigitalProfileEmails()}},{key:"getDigitalProfile",value:function(){var e=this;fs.getDigitalProfile(this.props.guardian.id).then((function(t){e.setState({digitalProfile:t.digital_profile})})).catch((function(e){console.error(e)}))}},{key:"getDigitalProfileEmails",value:function(){var e=this;this.setState({loadingDigitalProfileEmails:!0}),Bt.getDigitalProfileEmails(this.state.page,this.state.per_page,this.props.guardian.email).then((function(t){e.setState({digitalProfileEmails:t.digital_profile_emails,loadingDigitalProfileEmails:!1,total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(t){e.setState({loadingDigitalProfileEmails:!1}),console.error(t)}))}},{key:"getPage",value:function(){this.setState({loadingDigitalProfileEmails:!0}),this.getDigitalProfileEmails()}},{key:"sendInvitation",value:function(){var e=this;fs.sendInvitation(this.props.guardian.id).then((function(t){e.getDigitalProfile(),e.setState({sendInvitationModal:!1}),e.props.addAlert({type:"success",message:"Invitation email has been successfully sent."})})).catch((function(t){e.setState({sendInvitationModal:!1}),t.data.errors&&t.data.errors.digital_profile&&t.data.errors.digital_profile.length>0&&e.setState({invitationsError:t.data.errors.digital_profile[0]}),console.log(t)}))}},{key:"resendInvitation",value:function(){var e=this,t={};this.props.guardian.golfer_id?(this.props.guardian.email?t.email=this.props.guardian.email:t.last_name=this.props.guardian.last_name,t.ghin_number=this.props.guardian.golfer_id):(t.last_name=this.props.guardian.last_name,t.email=this.props.guardian.email),Xe.resendDigitalProfileInvitationEmail(t).then((function(t){e.getDigitalProfile(),e.setState({resendInvitationModal:!1}),e.props.addAlert({type:"success",message:"Invitation email has been successfully sent."})})).catch((function(t){e.setState({resendInvitationModal:!1}),t.data.errors&&t.data.errors.digital_profile&&t.data.errors.digital_profile.length>0&&e.setState({invitationsError:t.data.errors.digital_profile[0]}),console.log(t)}))}},{key:"resetPassword",value:function(){var e=this;Bt.sendResetPassword(this.props.guardian.email).then((function(t){e.props.addAlert({type:"success",message:"Email has been successfully sent."}),e.getDigitalProfile(),e.setState({resetPasswordModal:!1})})).catch((function(e){console.error(e)}))}},{key:"removeDigitalProfile",value:function(){var e=this;fs.removeDigitalProfile(this.props.guardian.id).then((function(t){e.getDigitalProfile(),e.props.addAlert({type:"success",message:"Digital Profile has been successfully removed."}),e.setState({removeDigitalProfileModal:!1})})).catch((function(t){e.setState({removeDigitalProfileModal:!1}),t.data.errors&&t.data.errors.digital_profile&&t.data.errors.digital_profile.length>0&&e.setState({removeDigitalProfileError:t.data.errors.digital_profile[0]}),console.log(t)}))}},{key:"generateCreateDigitalProfileLink",value:function(){var e=this;fs.generateInvitationLink(this.props.guardian.id).then((function(t){var s=t.digital_profile.generated_url;e.setState({generatedUrl:s,createDigitalProfileLinkModal:!0})})).catch((function(t){console.error(t),e.setState({digitalProfileLinkError:t.data.errors.digital_profile[0]})}))}},{key:"generateResetDigitalProfilePasswordLink",value:function(){var e=this;fs.generateResetPasswordLink(this.props.guardian.id).then((function(t){var s=t.digital_profile.generated_url;e.setState({generatedUrl:s,resetDigitalProfilePasswordLinkModal:!0})})).catch((function(t){console.error(t),e.setState({digitalProfileLinkError:t.data.errors.digital_profile[0]})}))}},{key:"render",value:function(){var e,t=this,s=this.props.guardian,i=this.state.digitalProfile,n=[{Header:"Date/Time Sent",accessor:"date_sent",Cell:function(e){return ue()(new Date(e.original.date_sent),"YYYY/MM/DD HH:mm:ss").format("MM/DD/YYYY HH:mm:ss")}},{Header:"Email Type",accessor:"template_type"},{Header:"Status",accessor:"status"},{Header:"Error Message",accessor:"error_message"}];return Object(re.jsxs)(a.Fragment,{children:[s&&Object(re.jsx)("div",{className:"columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col",children:[Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Basic Information"}),Object(re.jsxs)("div",{className:"panel__body",children:[this.props.accessLevel>1&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(){return t.setState({EditGuardian:!0})},className:"btn lnk",children:"Edit"})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Name:"}),Object(re.jsx)("span",{children:(e=s,[e.prefix,e.first_name,e.middle_name,e.last_name,e.suffix].join(" "))})]}),this.props.accessLevel>0&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Phone Number:"}),Object(re.jsx)("span",{children:s.phone_number})]}),this.props.accessLevel>0&&Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Email Address:"}),Object(re.jsx)("span",{children:s.email})]})]})})})]})]}),i&&Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Digital Profile Information"}),Object(re.jsxs)("div",{className:"panel__body",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-2-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"data-set__container",children:[Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Golfer Profile Creation Date:"}),Object(re.jsx)("span",{children:i.creation_date&&"-"!==i.creation_date?ue.a.utc(i.creation_date,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Initial Invitation Sent Date:"}),Object(re.jsx)("span",{children:i.sent_invite_for_digital_profile_on&&"-"!==i.sent_invite_for_digital_profile_on?ue.a.utc(i.sent_invite_for_digital_profile_on,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"Last Login (Includes Admin Portal & Golfer Products):"}),Object(re.jsx)("span",{children:i.last_login&&"-"!==i.last_login?ue.a.utc(i.last_login,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"GHIN Terms of Service Accepted (for Golfer Products):"}),Object(re.jsx)("span",{children:i.tos_accepted_date&&"-"!==i.tos_accepted_date?ue.a.utc(i.tos_accepted_date,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]}),Object(re.jsxs)("div",{className:"data-set",children:[Object(re.jsx)("span",{className:"data-label",children:"GHIN Privacy Policy Accepted (for Golfer Products):"}),Object(re.jsx)("span",{children:i.privacy_policy_accepted_date&&"-"!==i.privacy_policy_accepted_date?ue.a.utc(i.privacy_policy_accepted_date,"YYYY-MM-DD HH:mm:ss").local().format("MM/DD/YYYY HH:mm:ss"):"-"})]})]})}),Object(re.jsxs)("div",{className:"col is-1-of-3 ai-fe push-right",children:["true"===i.display_send_invitation_button&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.setState({sendInvitationModal:!0})},children:"Send Invitation to Create a Digital Profile"})}),"true"===i.display_send_reset_password_email_button&&Object(re.jsxs)("div",{children:[Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.setState({resetPasswordModal:!0})},children:"Send Reset Password Email"})}),Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.generateResetDigitalProfilePasswordLink()},children:"Generate \u201cReset Digital Password\u201d Link"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.setState({removeDigitalProfileModal:!0})},children:"Remove Digital Profile"})})]}),"true"===i.display_resend_invitation_button&&Object(re.jsxs)("div",{children:[Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.setState({resendInvitationModal:!0})},children:"Resend Invitation To Create A Digital Profile"})}),Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.generateCreateDigitalProfileLink()},children:"Generate \u201cDigital Profile Creation\u201d Link"})}),("super-admin"===this.props.user_type||"association-admin"===this.props.user_type)&&Object(re.jsx)("div",{className:"row col is-full",children:Object(re.jsx)("button",{className:"btn fill green",onClick:function(){t.setState({removeDigitalProfileModal:!0})},children:"Remove Digital Profile"})})]})]})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col",children:Object(re.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(re.jsx)("span",{className:"red",children:"Please note, there may be a slight delay in updating the table."}),Object(re.jsx)("i",{className:"material-icons-outlined",style:{cursor:"pointer"},onClick:function(){t.getDigitalProfile(),t.getDigitalProfileEmails()},children:"refresh"})]})})}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-fs",children:Object(re.jsx)($t,{loading:this.state.loadingDigitalProfileEmails,columns:n,data:this.state.digitalProfileEmails,ref:function(e){return t.table=e},hideSlelectAll:!0,hideSelect:!0,sortable:!1,defaultPageSize:5,pages:this.state.pages,total:this.state.total,manual:!0,pageSize:this.state.per_page,onPageChange:function(e){return t.setState({page:e+1},(function(){return t.getPage()}))},onPageSizeChange:function(e,s){return t.setState({per_page:e,page:s+1},(function(){return t.getPage()}))}})})})]})]})]})})}),this.state.invitationsError?Object(re.jsx)(ca,{openModal:this.state.invitationsError,onConfirmAction:function(){return t.setState({invitationsError:null})},body:"".concat(this.state.invitationsError.body_line1||"","\n\n").concat(this.state.invitationsError.body_line2||""),onCancelAction:function(){t.setState({invitationsError:null})},closeModal:function(){t.setState({invitationsError:null})},question:this.state.invitationsError.top_line,cancelLabel:"Cancel",confirmLabel:"OK"}):null,Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.sendInvitationModal,onConfirmAction:this.sendInvitation,onCancelAction:function(){t.setState({sendInvitationModal:null})},closeModal:function(){t.setState({sendInvitationModal:null})},question:"Are you sure you want to send an email to invite ".concat(s.first_name," ").concat(s.last_name," to create a digital profile?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.resendInvitationModal,onConfirmAction:this.resendInvitation,onCancelAction:function(){t.setState({resendInvitationModal:null})},closeModal:function(){t.setState({resendInvitationModal:null})},question:"Are you sure you want to resend an email to invite ".concat(s.first_name," ").concat(s.last_name," to create a digital profile?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.resetPasswordModal,onConfirmAction:this.resetPassword,onCancelAction:function(){t.setState({resetPasswordModal:null})},closeModal:function(){t.setState({resetPasswordModal:null})},question:"Are you sure you want to send reset password email to ".concat(s.first_name," ").concat(s.last_name,"?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),Object(re.jsx)(cs,{wideClass:"narrow",openModal:this.state.removeDigitalProfileModal,onConfirmAction:this.removeDigitalProfile,onCancelAction:function(){t.setState({removeDigitalProfileModal:!1})},closeModal:function(){t.setState({removeDigitalProfileModal:!1})},question:"Are you sure you want to remove the digital profile for ".concat(this.props.guardian.first_name," ").concat(this.props.guardian.last_name,"?"),cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),this.state.removeDigitalProfileError?Object(re.jsx)(ca,{openModal:this.state.removeDigitalProfileError,onConfirmAction:function(){t.setState({removeDigitalProfileError:null}),t.getDigitalProfile()},body:"".concat(this.state.removeDigitalProfileError.body_line1||"","\n\n").concat(this.state.removeDigitalProfileError.body_line2||""),onCancelAction:function(){t.setState({removeDigitalProfileError:null}),t.getDigitalProfile()},closeModal:function(){t.setState({removeDigitalProfileError:null}),t.getDigitalProfile()},question:this.state.removeDigitalProfileError.top_line,cancelLabel:"Cancel",confirmLabel:"OK"}):null,Object(re.jsx)(et.a,{isOpen:this.state.EditGuardian,onRequestClose:function(){return t.setState({EditGuardian:void 0})},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(fl,{title:"Edit Guardian Account",guardian:s,closeModal:function(){t.setState({EditGuardian:void 0}),t.props.updateGuardian()}})}),Object(re.jsx)(et.a,{isOpen:this.state.createDigitalProfileLinkModal,onRequestClose:function(){return t.setState({createDigitalProfileLinkModal:void 0})},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Pl,{generatedUrl:this.state.generatedUrl,closeModal:function(){return t.setState({createDigitalProfileLinkModal:void 0})}})}),Object(re.jsx)(et.a,{isOpen:this.state.resetDigitalProfilePasswordLinkModal,onRequestClose:function(){return t.setState({resetDigitalProfilePasswordLinkModal:void 0})},contentLabel:"Modal",portalClassName:"modal",overlayClassName:"modal__overlay",className:"modal__content",bodyOpenClassName:"modal--is-open",htmlOpenClassName:"prevent-scroll",shouldCloseOnOverlayClick:!0,shouldFocusAfterRender:!1,children:Object(re.jsx)(Gl,{generatedUrl:this.state.generatedUrl,closeModal:function(){return t.setState({resetDigitalProfilePasswordLinkModal:void 0})}})}),this.state.digitalProfileLinkError?Object(re.jsx)(ca,{openModal:this.state.digitalProfileLinkError,onConfirmAction:function(){return t.setState({digitalProfileLinkError:null})},body:"".concat(this.state.digitalProfileLinkError.body_line1||"","\n\n").concat(this.state.digitalProfileLinkError.body_line2||""),onCancelAction:function(){t.setState({digitalProfileLinkError:null})},closeModal:function(){t.setState({digitalProfileLinkError:null})},question:this.state.digitalProfileLinkError.top_line,cancelLabel:"Cancel",confirmLabel:"OK"}):null]})}}]),s}(a.Component);var Hl=Object(p.c)((function(e){return{user_type:e.user.access.user_type}}),(function(e){var t=Object(v.b)({addAlert:Pe},e);return Object(j.a)({dispatch:e},t)}))(Rl),Ul=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"vertical-tabs__container row",children:[Object(re.jsxs)("ul",{className:"vertical-tabs col",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/primary"),children:"Primary"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"vertical-tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/minor-management"),children:"Guardianship"})})]}),Object(re.jsx)("div",{className:"vertical-tabs__panel col",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/primary")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/primary"),component:function(t){return Object(re.jsx)(Hl,{user_type:e.props.user_type,accessLevel:e.props.accessLevel,updateGuardian:function(){return e.props.updateGuardian()},guardian:e.props.guardian,archived:e.props.archived,publicView:e.props.publicView})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/minor-management"),component:function(t){return Object(re.jsx)(wl,{accessLevel:e.props.accessLevel,guardian:Object(j.a)(Object(j.a)({},e.props.guardian),{},{guardian_id:e.props.guardian.id}),canEditClub:!e.props.publicView,publicView:e.props.publicView})}})]})})]})})}}]),s}(a.Component),Ll=Object(u.o)(Ul),Yl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={page:0,pages:0,total:0,per_page:10,loading:!0},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.getLogs()}},{key:"getRequestParams",value:function(){return{page:this.state.page+1,per_page:this.state.per_page}}},{key:"getLogs",value:function(){var e=this;this.setState({loading:!0,logs:[]});var t=this.getRequestParams();fs.getLogs(this.props.match.params.id,t).then((function(t){e.setState({loading:!1,logs:t.guardian_changes.map((function(e,t){return Object(j.a)(Object(j.a)({},e),{},{id:t,date_and_time:e.date_and_time&&ue()(ue.a.utc(e.date_and_time).toDate()).format("MM/DD/YYYY HH:mm:ss"),change_code:e.change_code,new:e.details.length>0&&e.details.map((function(e){return e[0]})),old:e.details.length>0&&e.details.filter((function(e){return 2===e.length})).map((function(e){return e[1]})),username:e.username})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10)})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=[{Header:"Date & Time",accessor:"date_and_time",colClassName:"col_date_and_time"},{Header:"Change Code",accessor:"change_code",colClassName:"col_change_code"},{Header:"New",accessor:"new",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.new.length>0&&e.row.new.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Old",accessor:"old",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:e.row.old.length>0&&e.row.old.map((function(e,t){return Object(re.jsx)("p",{children:e},t)}))})}},{Header:"Username",accessor:"username",colClassName:"col_username"}];return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.logs,hideSelect:!0,sortable:!1,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.getLogs()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.getLogs()}))}})})}}]),s}(a.Component),zl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={guardian:void 0,publicView:void 0},a}return Object(c.a)(s,[{key:"queryGuardian",value:function(){var e=this,t=this.props.match.params.id;fs.getGuardianById(t).then((function(t){var s=t.guardian;e.setState({guardian:s})}))}},{key:"componentDidMount",value:function(){this.queryGuardian()}},{key:"componentDidUpdate",value:function(e,t,s){e.match.params.id!==this.props.match.params.id&&this.queryGuardian()}},{key:"render",value:function(){var e=this;if(!this.state.guardian)return null;var t,s=[(t=this.state.guardian).prefix,t.first_name,t.middle_name,t.last_name,t.suffix].join(" "),i=0;return"read"===this.state.guardian.access_type&&(i=1),"manage"===this.state.guardian.access_type&&(i=2),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{guardian:s}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)(ii,{title:s,publicView:this.state.publicView}),Object(re.jsx)("div",{className:"page__sub__head",children:Object(re.jsx)("ul",{className:"golfer__data",children:this.state.guardian.email?Object(re.jsx)("li",{children:Object(re.jsx)("a",{href:"mailto:".concat(this.state.guardian.email),children:this.state.guardian.email})}):null})}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/account"),children:"Account"})}),i>1&&Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/audit-log"),children:"Audit Log"})})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/account")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/account"),component:function(){return Object(re.jsx)(Ll,{canEditClub:Ye(e.props.user_type,"edit-club"),user_type:e.props.user_type,accessLevel:i,props:e.props,guardian:e.state.guardian,updateGuardian:function(){return e.queryGuardian()},archived:!1,publicView:e.props.user_type.includes("read-only")})}}),i>1&&Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/audit-log"),component:function(){return Object(re.jsx)(Yl,Object(j.a)({accessLevel:i,canEditClub:!e.props.user_type.includes("read-only")},e.props))}})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var Bl=Object(u.o)(Object(p.c)((function(e){return{user_type:e.user.access.user_type}}),null)(zl)),ql=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/associations")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/associations"),component:oi}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/association/:association_id/club/:id/golfer/:golfer_id"),component:Dl}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/association/:association_id/club/:id"),component:kr}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/association/:id"),component:ko}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/association/:id/audit-log"),component:So}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.path,"/guardian/:id"),component:Bl}),Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url,"/guardian"),to:"".concat(this.props.match.url,"/associations")})]})}}]),s}(a.Component),Vl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).setIframeRef=a.setIframeRef.bind(Object(b.a)(a)),a.receiveMessage=a.receiveMessage.bind(Object(b.a)(a)),a.iframeRef=null,a.state={refreshCounter:0},a}return Object(c.a)(s,[{key:"receiveMessage",value:function(e){if(e.data){var t=this.iframeRef;if(t)if("rw-scroll-query"===e.data.type){var s=Math.max(0,window.scrollY-t.offsetTop);e.source.postMessage({type:"rw-scroll-response",scroll:s},"*")}else if("rw-permission-error"===e.data.type){if(this.state.refreshCounter<4)t.childNodes[0].src+="",this.setState({refreshCounter:function(e){return e+1}})}}}},{key:"componentDidMount",value:function(){window.addEventListener("message",this.receiveMessage)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this.receiveMessage)}},{key:"setIframeRef",value:function(e){this.iframeRef=e}},{key:"render",value:function(){return Object(re.jsx)("div",{ref:this.setIframeRef,children:this.props.children})}}]),s}(a.Component),Wl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(Vl,{children:Object(re.jsx)("iframe",{title:"Templates reports",width:"100%",height:"1000px",src:this.props.iframeUrl})})}}]),s}(a.Component),Kl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(Vl,{children:Object(re.jsx)("iframe",{title:"Scheduled Reports",width:"100%",height:"1000px",src:this.props.iframeUrl})})}}]),s}(a.Component),Jl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(Vl,{children:Object(re.jsx)("iframe",{title:"My reports",width:"100%",height:"1000px",src:this.props.iframeUrl})})}}]),s}(a.Component),$l=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)(Vl,{children:Object(re.jsx)("iframe",{title:"Email deliveries",width:"100%",height:"1000px",src:this.props.iframeUrl})})}}]),s}(a.Component),Xl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){if(!this.props.reporting_token)return null;var e="https://ghin-apiproxy.usga.org/api/v1".slice(0,-6)+"reports/".concat(this.props.reporting_token,"/");return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)("div",{className:"page__head",children:Object(re.jsx)("h2",{className:"page__title",children:"Reports"})}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/my-reports"),children:"My Reports"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/scheduled-reports"),children:"Scheduled Reports"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/templates"),children:"Templates"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/email-deliveries"),children:"Email Deliveries"})})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/my-reports")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/templates"),component:function(){return Object(re.jsx)(Wl,{iframeUrl:e+"templates"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/scheduled-reports"),component:function(){return Object(re.jsx)(Kl,{iframeUrl:e+"scheduled"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/my-reports"),component:function(){return Object(re.jsx)(Jl,{iframeUrl:e+"results"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/email-deliveries"),component:function(){return Object(re.jsx)($l,{iframeUrl:e+"emails"})}})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var Ql=Object(u.o)(Object(p.c)((function(e){return{reporting_token:e.user.access.reporting_token}}),null)(Xl)),Zl=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("iframe",{title:"My Saved reports",width:"100%",height:"1000px",src:this.props.iframeUrl})}}]),s}(a.Component),ed=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("iframe",{title:"AdHoc reports",width:"100%",height:"1000px",src:this.props.iframeUrl})}}]),s}(a.Component),td=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("iframe",{title:"Dashboards reports",width:"100%",height:"1000px",src:this.props.iframeUrl})}}]),s}(a.Component),sd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("iframe",{title:"Standard reports",width:"100%",height:"1000px",src:this.props.iframeUrl})}}]),s}(a.Component),ad=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("iframe",{title:"Shared reports",width:"100%",height:"1000px",src:this.props.iframeUrl})}}]),s}(a.Component),id=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){if(!this.props.reporting_token)return null;var e="https://ghin-apiproxy.usga.org/api/v1".slice(0,-6)+"reports/".concat(this.props.reporting_token,"/");return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)("div",{className:"page__head",children:Object(re.jsx)("h2",{className:"page__title",children:"Reports"})}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/ad-hoc"),children:"Ad-hoc"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/my-saved-reports"),children:"My Saved Reports"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/shared-reports"),children:"Shared Reports"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/standard"),children:"Standard"})}),Object(re.jsx)("li",{children:Object(re.jsx)(f.NavLink,{className:"page__tab",activeClassName:"is-active",to:"".concat(this.props.match.url,"/dashboards"),children:"Dashboards"})})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"".concat(this.props.match.url),to:"".concat(this.props.match.url,"/ad-hoc")}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/my-saved-reports"),component:function(){return Object(re.jsx)(Zl,{iframeUrl:e+"my_saved_reports"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/ad-hoc"),component:function(){return Object(re.jsx)(ed,{iframeUrl:e+"adhoc_templates"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/dashboards"),component:function(){return Object(re.jsx)(td,{iframeUrl:e+"dashboards"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/standard"),component:function(){return Object(re.jsx)(sd,{iframeUrl:e+"standard"})}}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/shared-reports"),component:function(){return Object(re.jsx)(ad,{iframeUrl:e+"shared_reports"})}})]})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component);var nd=Object(u.o)(Object(p.c)((function(e){return{reporting_token:e.user.access.reporting_token}}),null)(id)),od=s(488),rd=new x.a,cd=function(){var e;return function(t){e&&e.cancel(),t="https://ghin-apiproxy.usga.org/api/v1"+t;var s={cancelToken:(e=N.a.CancelToken.source()).token};return rd.get("token")&&(s.headers={Authorization:"Bearer "+rd.get("token")}),N.a.get(t,s).catch((function(e){N.a.isCancel(e)&&console.log("First request canceled")}))}},ld=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={playerEntryMethod:"club-admin"===a.props.userType||"score_only"===a.props.userAccess.club_role||"score_maintenance"===a.props.userAccess.club_role?[{value:"golfer_id",label:"GHIN #"},{value:"local_number",label:"Local # (Members)"},{value:"name",label:"Name (Members)"}]:[{value:"golfer_id",label:"GHIN #"}],dateSetup:[{value:"specific",label:"Specific Date"},{value:"ascending",label:"Ascending Date"},{value:"descending",label:"Descending Date"}],golfers:[],selectedEntryMethod:null},a.onChange=a.onChange.bind(Object(b.a)(a)),a.debounceOnChange=ho()(a.onChange,1e3),a.searchName=a.searchName.bind(Object(b.a)(a)),a.searchLocal=a.searchLocal.bind(Object(b.a)(a)),a.searchDebounceLocal=ho()(a.searchLocal,1e3),a}return Object(c.a)(s,[{key:"onChange",value:function(){this.props.valid&&this.props.playerEntry?this.props.dispatch(Object(ts.e)("searchPlayerForm")):(this.props.touch("player_entry"),this.props.change("PlayerName",null),this.props.change("Display",null),this.props.destroyForm("playerEntryForm"))}},{key:"searchLocal",value:function(e){var t=this,s=this.props.formValues;if(delete s.PlayerName,delete s.searchable_player_entry,this.setState({golfers:[]}),delete s.Display,this.props.dispatch(Object(ts.c)("searchPlayerForm",s)),this.props.dispatch(Object(ts.b)("playerEntryForm")),e.target.value){var a=this.props.formValues;return cd()("/search_golfer.json?".concat(this.state.selectedEntryMethod,"=").concat(e.target.value,"&club_id=").concat(this.props.userAccess.default_club_id)).then((function(e){if(e&&e.data&&e.data.golfers){var s=e.data.golfers[0];a.PlayerName=s.first_name+" "+s.last_name,a.Display=s.handicap_index,s.clubs.filter((function(e){return"Active"===e.status})).length>0?(delete a.Error,t.props.dispatch(Object(ts.c)("searchPlayerForm",a)),t.props.dispatch(Object(ts.c)("playerEntryForm",{score_type:{value:"H",label:"Home"},date_setup:a.date_setup,number_of_holes:{value:"18",label:"18 (9 + 9)"},golfer_id:s.id,gender:s.gender,firstName:s.first_name,lastName:s.last_name,played_at:new Date}))):(s.clubs.filter((function(e){return"Inactive"===e.status})).length>0?a.Error="This golfer is inactive.":a.Error="This is an Archived golfer.",t.props.dispatch(Object(ts.c)("searchPlayerForm",a)),t.props.dispatch(Object(ts.b)("playerEntryForm")))}else a.Error="Golfer Not Found",delete a.PlayerName,delete a.Display,t.props.dispatch(Object(ts.c)("searchPlayerForm",a)),t.props.dispatch(Object(ts.b)("playerEntryForm"))})).catch((function(e){a.Error="Golfer Not Found",t.props.dispatch(Object(ts.c)("searchPlayerForm",a)),t.props.dispatch(Object(ts.b)("playerEntryForm")),console.error(e)}))}s.Error="",this.props.dispatch(Object(ts.c)("searchPlayerForm",s)),this.props.dispatch(Object(ts.b)("playerEntryForm"))}},{key:"searchName",value:function(e,t){var s=this,a=this.props.formValues;return delete a.PlayerName,delete a.searchable_player_entry,this.setState({golfers:[]}),delete a.Display,this.props.dispatch(Object(ts.c)("searchPlayerForm",a)),this.props.dispatch(Object(ts.b)("playerEntryForm")),e?cd()("/search_golfer.json?".concat(this.state.selectedEntryMethod,"=").concat(e,"&club_id=").concat(this.props.userAccess.default_club_id)).then((function(e){if(e&&e.data){var a=e.data.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{value:e.id,label:e.first_name+" "+e.last_name})})).sort((function(e,t){return e.label>t.label?1:-1}));s.setState({golfers:a}),t(a)}else t([])})).catch((function(e){a.Error="Golfer Not Found",s.props.dispatch(Object(ts.c)("searchPlayerForm",a)),s.props.dispatch(Object(ts.b)("playerEntryForm")),console.error(e)})):new Promise((function(e){e([])}))}},{key:"selectGolfer",value:function(e){var t=this.props.formValues;e?(t.PlayerName=e.first_name+" "+e.last_name,t.Display=e.handicap_index,e.clubs.filter((function(e){return"Active"===e.status})).length>0?(delete t.Error,this.props.dispatch(Object(ts.c)("searchPlayerForm",t)),this.props.dispatch(Object(ts.c)("playerEntryForm",{score_type:{value:"H",label:"Home"},date_setup:t.date_setup,number_of_holes:{value:"18",label:"18 (9 + 9)"},golfer_id:e.id,gender:e.gender,firstName:e.first_name,lastName:e.last_name,played_at:new Date}))):(e.clubs.filter((function(e){return"Inactive"===e.status})).length>0?t.Error="This golfer is inactive.":t.Error="This is an Archived golfer.",this.props.dispatch(Object(ts.c)("searchPlayerForm",t)),this.props.dispatch(Object(ts.b)("playerEntryForm")))):(t.Error="",delete t.PlayerName,delete t.Display,this.props.dispatch(Object(ts.c)("searchPlayerForm",t)),this.props.dispatch(Object(ts.b)("playerEntryForm")))}},{key:"componentDidMount",value:function(){this.props.change("selectedEntryMethod",{value:"golfer_id",label:"GHIN #"}),this.setState({selectedEntryMethod:"golfer_id"}),this.props.super_user&&this.setState({playerEntryMethod:[{value:"golfer_id",label:"GHIN #"}]})}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit;return Object(re.jsx)("form",{ref:"form",onSubmit:t,children:Object(re.jsx)("div",{className:"filters columns",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-7",children:[Object(re.jsx)("label",{children:"Date Setup"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){e.props.dispatch(Object(ts.a)("playerEntryForm","date_setup",s))},name:"date_setup",component:yt,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Select ... ",options:this.state.dateSetup,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{children:"Player Entry Method"}),Object(re.jsx)(g.a,{component:yt,onChange:function(t){e.setState({selectedEntryMethod:t.value,golfers:[]});var s=e.props.formValues;s.Error="",delete s.PlayerName,delete s.Display,delete s.searchable_player_entry,delete s.player_entry,e.props.dispatch(Object(ts.c)("searchPlayerForm",s)),e.props.dispatch(Object(ts.b)("playerEntryForm"))},name:"selectedEntryMethod",className:"react-select-container",classNamePrefix:"react-select",options:this.state.playerEntryMethod,isSearchable:!1})]}),this.state.selectedEntryMethod&&Object(re.jsxs)("div",{className:"col is-1-of-4",children:[Object(re.jsxs)("label",{htmlFor:"player_entry",children:["Enter ",this.state.playerEntryMethod.filter((function(t){return t.value===e.state.selectedEntryMethod}))[0].label]}),"golfer_id"===this.state.selectedEntryMethod&&Object(re.jsx)(g.a,{onChange:this.debounceOnChange,component:ce,validate:"golfer_id"===this.state.selectedEntryMethod&&[xe],parse:function(t){return"golfer_id"===e.state.selectedEntryMethod?isNaN(parseInt(t))?"":parseInt(t):t},type:"text",autoComplete:"off",id:"player_entry",name:"player_entry",placeholder:"Enter ".concat(this.state.playerEntryMethod.filter((function(t){return t.value===e.state.selectedEntryMethod}))[0].label)}),"local_number"===this.state.selectedEntryMethod&&Object(re.jsx)(g.a,{onChange:this.searchDebounceLocal,component:ce,type:"text",autoComplete:"off",id:"player_entry",name:"player_entry",placeholder:"Enter ".concat(this.state.playerEntryMethod.filter((function(t){return t.value===e.state.selectedEntryMethod}))[0].label)}),"name"===this.state.selectedEntryMethod&&Object(re.jsx)(g.a,{component:Ho,type:"text",dontCacheOptions:!0,hideErrorMessages:!0,onChange:function(t){e.selectGolfer(t)},searchable:!0,defaultOptions:this.state.golfers,loadOptions:ho()(this.searchName,1e3),autoComplete:"off",className:"react-select-container",classNamePrefix:"react-select",id:"searchable_player_entry",name:"searchable_player_entry",placeholder:" "})]}),Object(re.jsxs)("div",{className:"col is-1-of-6 jc-fe",children:[Object(re.jsx)(g.a,{name:"PlayerName",component:function(e){return Object(re.jsx)("div",{className:"pull-data__golfer-name",children:e.input.value})}}),Object(re.jsx)(g.a,{name:"Display",component:function(e){return e.input.value&&Object(re.jsxs)("div",{className:"pull-data__golfer-handicap-index",children:["Handicap Index: ",Object(re.jsx)("span",{className:"cardinal",children:e.input.value})]})}}),Object(re.jsx)(g.a,{name:"Error",component:function(e){return Object(re.jsx)("div",{className:"pull-data__golfer-name",children:Object(re.jsx)("span",{className:"cardinal",children:e.input.value})})}})]})]})})})}}]),s}(a.Component);ld=Object(_.a)({form:"searchPlayerForm",destroyOnUnmount:!0,initialValues:{selectedEntryMethod:{value:"golfer_id",label:"GHIN #"},date_setup:{value:"specific",label:"Specific Date"}},onSubmit:function(e,t){Bt.getGolfer(e.selectedEntryMethod.value,e.player_entry).then((function(s){if(s&&s.golfer){var a=s.golfer;e.PlayerName=a.first_name+" "+a.last_name,e.Display=a.handicap_index,delete e.Error,a.clubs.filter((function(e){return"Active"===e.status})).length>0?(t(Object(ts.c)("searchPlayerForm",e)),t(Object(ts.c)("playerEntryForm",{score_type:{value:"H",label:"Home"},date_setup:e.date_setup,number_of_holes:{value:"18",label:"18 (9 + 9)"},golfer_id:a.id,gender:a.gender,firstName:a.first_name,lastName:a.last_name,played_at:new Date}))):(a.clubs.filter((function(e){return"Inactive"===e.status})).length>0?e.Error="This golfer is inactive.":e.Error="This is an Archived golfer.",t(Object(ts.c)("searchPlayerForm",e)),t(Object(ts.b)("playerEntryForm")))}else e.Error="Golfer Not Found",delete e.PlayerName,delete e.Display,t(Object(ts.c)("searchPlayerForm",e)),t(Object(ts.b)("playerEntryForm"))})).catch((function(s){e.Error="Golfer Not Found",delete e.PlayerName,delete e.Display,t(Object(ts.c)("searchPlayerForm",e)),t(Object(ts.b)("playerEntryForm")),console.error(s)}))}})(ld);var dd=Object(p.c)((function(e){var t=Object(es.a)("searchPlayerForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,userAccess:e.user.access,super_admin:e.user.access.super_user,PlayerName:t(e,"PlayerName"),playerEntry:t(e,"player_entry"),formValues:Object(Lt.a)("searchPlayerForm")(e),userType:e.user.access.user_type}}),(function(e){return Object(v.b)({destroyForm:ts.b},e)}))(ld),ud=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date,dateSetup:[{value:"specific",label:"Specific Date"},{value:"ascending",label:"Ascending Date"},{value:"descending",label:"Descending Date"}],scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}],holesOptions:[{value:"18",label:"18 (9 + 9)"},{value:"18t",label:"18 Total"},{value:"9",label:"9 Total"}],courses:[],teeSetsOptions:[],selectedCourse:{},confirmationModalOpen:!1,savedEntry:null,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.confirmScore=a.confirmScore.bind(Object(b.a)(a)),a.frontFieldInput=i.a.createRef(),a.backFieldInput=i.a.createRef(),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=this,s={golfer_id:e.golfer_id,course_id:e.course_name.value,tee_set_id:e.tee_set_id.value,tee_set_side:9===parseInt(e.number_of_holes.value)?e.tee_set_id.tee_set_side:"All18",played_at:ue()(e.played_at).format("YYYY-MM-DD"),score_type:e.score_type.value,number_of_holes:parseInt(e.number_of_holes.value),gender:e.gender};return"18"===e.number_of_holes.value?(s.front9_adjusted=e.front9,s.back9_adjusted=e.back9,Xr.post18h9and9(s).then((function(s){if(s.errors)throw new O.a(s.errors);var a=s.score;if(a.golfer_id=e.golfer_id,a.score_type_label=e.score_type.label,a.course_name=e.course_name.unparsedLabel,a.tee_name=e.tee_set_id.label,a.number_of_holes_played=e.number_of_holes.label,a.front=e.front9,a.back=e.back9,a.total=e.total,a.firstName=e.firstName,a.lastName=e.lastName,"UnderReview"===s.score.status)t.setState({savedEntry:a,confirmationModalOpen:!0,errors:[]});else{if(t.setState({errors:[]}),t.props.addEntry(a),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),t.props.change("front9",null),t.props.change("back9",null),t.props.change("total",null),"ascending"===e.date_setup.value&&!ue()(e.played_at).add(1,"d").isAfter(ue()())){var i=ue()(e.played_at).add(1,"d");t.props.change("played_at",new Date(i))}if("descending"===e.date_setup.value){var n=ue()(e.played_at).subtract(1,"d");t.props.change("played_at",new Date(n))}"18"===e.number_of_holes.value?document.getElementsByClassName("player-score")[0].getElementsByClassName("front9")[0].focus():document.getElementsByClassName("player-score")[0].getElementsByClassName("total-score")[0].focus()}})).catch((function(e){var s=[];e.data.errors&&(Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s}))}))):(s.adjusted_gross_score=parseInt(e.total||0),Xr.postAdjusted(s).then((function(s){if(s.errors)throw new O.a(s.errors);var a=s.score;if(a.golfer_id=e.golfer_id,a.score_type_label=e.score_type.label,a.course_name=e.course_name.unparsedLabel,a.tee_name=e.tee_set_id.label,a.number_of_holes_played=e.number_of_holes.label,a.front=e.front9,a.back=e.back9,a.total=e.total,a.firstName=e.firstName,a.lastName=e.lastName,"UnderReview"===s.score.status)t.setState({savedEntry:a,confirmationModalOpen:!0,errors:[]});else{if(t.setState({errors:[]}),t.props.addEntry(a),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),t.props.change("front9",null),t.props.change("back9",null),t.props.change("total",null),"ascending"===e.date_setup.value&&!ue()(e.played_at).add(1,"d").isAfter(ue()())){var i=ue()(e.played_at).add(1,"d");t.props.change("played_at",new Date(i))}if("descending"===e.date_setup.value){var n=ue()(e.played_at).subtract(1,"d");t.props.change("played_at",new Date(n))}"18"===e.number_of_holes.value?document.getElementsByClassName("player-score")[0].getElementsByClassName("front9")[0].focus():document.getElementsByClassName("player-score")[0].getElementsByClassName("total-score")[0].focus()}})).catch((function(e){var s=[];e.data.errors&&(Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s}))})))}},{key:"confirmScore",value:function(){var e=this;Xr.confirmScore(this.state.savedEntry.id,this.state.savedEntry.golfer_id).then((function(t){if(e.props.addEntry(e.state.savedEntry),e.setState({confirmationModalOpen:!1,savedEntry:null}),e.props.untouch("front9"),e.props.untouch("back9"),e.props.untouch("total"),e.props.change("front9",null),e.props.change("back9",null),e.props.change("total",null),"ascending"===e.props.date_setup.value&&!ue()(e.props.played_at).add(1,"d").isAfter(ue()())){var s=ue()(e.props.played_at).add(1,"d");e.props.change("played_at",new Date(s))}if("descending"===e.props.date_setup.value){var a=ue()(e.props.played_at).subtract(1,"d");e.props.change("played_at",new Date(a))}"18"===e.props.number_of_holes.value?document.getElementsByClassName("player-score")[0].getElementsByClassName("front9")[0].focus():document.getElementsByClassName("player-score")[0].getElementsByClassName("total-score")[0].focus()})).catch((function(t){e.setState({confirmationModalOpen:!1,savedEntry:null})}))}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"getHomeCourses",value:function(){var e=this;this.props.club_role&&this.props.default_club_id&&Zt.getClubHomeCourses(null,this.props.default_club_id).then(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a,i,n;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.facilities.map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.home_courses.map((function(e){var t=s.name+" - "+e.name+" (".concat(e.city,", ").concat(e.state,")");return{req:ar.getCourseDetails(e.course_id),teeIdMale:e.default_tee_male&&e.default_tee_male.id,teeIdFemale:e.default_tee_female&&e.default_tee_female.id,courseName:t,value:e.course_id,label:t,courseId:e.id}})).map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a,i,n;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.req;case 2:return a=t.sent,i=a.TeeSets.filter((function(e){return"Male"===e.Gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holesNumber:e.HolesNumber,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}})),n=a.TeeSets.filter((function(e){return"Female"===e.Gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holesNumber:e.HolesNumber,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}})),"9"===e.props.number_of_holes.value?(i=i.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]),n=n.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[])):(i=i.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),n=n.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}}))),delete s.req,s.maleTees=i,s.femaleTees=n,t.abrupt("return",s);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return a=t.sent,t.abrupt("return",cc()(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:a=t.sent,i=cc()(a),n=i[0],e.setState({courses:n},(function(){n&&(e.props.change("course_name",n),e.props.golfer_gender&&("M"===e.props.golfer_gender?e.setState({teeSetsOptions:n.maleTees},(function(){var t=n.maleTees.filter((function(e){return parseInt(e.value)===parseInt(n.teeIdMale)}));e.props.change("tee_set_id",t[0])})):e.setState({teeSetsOptions:n.femaleTees},(function(){var t=n.femaleTees.filter((function(e){return parseInt(e.value)===parseInt(n.teeIdFemale)}));e.props.change("tee_set_id",t[0])}))))}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}},{key:"componentDidUpdate",value:function(e,t,s){e.golfer_id!==this.props.golfer_id&&this.getHomeCourses()}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit,s=!(!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&("18t"===this.props.number_of_holes.value||"9"===this.props.number_of_holes.value));return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(dd,{}),Object(re.jsxs)("form",{className:"player-score",onSubmit:t(this.onSubmit),children:[Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"golfer_id",name:"golfer_id",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"gender",name:"gender",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"firstName",name:"firstName",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"lastName",name:"lastName",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",name:"date_setup",id:"date_setup",placeholder:"Course Name"}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"played_at",children:"Date played"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,className:"date",id:"played_at",onChange:function(){e.setState({errors:[]})},name:"played_at",component:os,disabled:!this.props.initialized,placeholder:"Select ... "})]}),Object(re.jsxs)("div",{className:"col is-1-of-7",children:[Object(re.jsx)("label",{children:"Posting Method"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){a&&("18"===a.value&&"9"===s.value&&(e.props.change("front9",null),e.props.change("back9",null)),"18"===a.value&&"18t"===s.value&&(e.props.change("front9",null),e.props.change("back9",null)),"18t"!==a.value&&"9"!==a.value||"18"!==s.value||(e.props.untouch("front9"),e.props.untouch("back9"))),s&&("9"===s.value?(e.props.score_type&&e.props.score_type.value&&"H"!==e.props.score_type.value&&"A"!==e.props.score_type.value&&e.props.change("score_type",null),e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}]})):"18t"===s.value?e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"},{value:"C",label:"Combined"}]}):(e.props.score_type&&e.props.score_type.value&&"H"!==e.props.score_type.value&&"A"!==e.props.score_type.value&&"T"!==e.props.score_type.value&&e.props.change("score_type",null),e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}]})),e.props.course_name&&ar.getCourseDetails(e.props.course_name.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.props.golfer_gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holesNumber:e.HolesNumber,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}}));if("9"===e.props.number_of_holes.value){if(s=s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]),e.props.tee_set_id){var a=s.filter((function(t){return t.value===e.props.tee_set_id.value}));a=a.filter((function(e){return e.label.match("F9")})),e.props.change("tee_set_id",a[0])}}else if(s=s.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),e.props.tee_set_id){var i=s.filter((function(t){return t.value===e.props.tee_set_id.value}));e.props.change("tee_set_id",i[0])}e.setState({teeSetsOptions:s,errors:[]})})))},name:"number_of_holes",component:yt,disabled:!this.props.initialized,className:"react-select-container",classNamePrefix:"react-select",options:this.state.holesOptions,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-1-of-9",children:[Object(re.jsx)("label",{children:"Score Type"}),Object(re.jsx)(g.a,{name:"score_type",component:yt,disabled:!this.props.initialized||!this.props.number_of_holes,className:"react-select-container",classNamePrefix:"react-select",options:this.state.scoreType,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-2-of-10",children:[Object(re.jsx)("label",{htmlFor:"course_name",children:"Course"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){s?ar.getCourseDetails(s.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.props.golfer_gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,holesNumber:e.HolesNumber,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}}));s="9"===e.props.number_of_holes.value?s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]):s.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),e.props.change("tee_set_id",null),e.setState({teeSetsOptions:s,errors:[]})})):(e.props.change("tee_set_id",null),e.setState({teeSetsOptions:[],errors:[]}))},defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),disabled:!this.props.initialized||!this.props.score_type,component:Ho,searchable:!0,type:"text",autoComplete:"off",validate:[he],hideErrorMessages:!0,id:"course_name",name:"course_name",placeholder:"Enter Course Name",grayPlaceholder:!0})]}),Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{children:"Tee (C.R. / Slope / Par)"}),Object(re.jsx)(g.a,{name:"tee_set_id",component:yt,disabled:!this.props.initialized||!this.props.course_name,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Men's Tees",options:this.state.teeSetsOptions,isSearchable:!1,validate:[he],hideErrorMessages:!0})]}),Object(re.jsxs)("div",{className:"col is-1-of-16",children:[Object(re.jsx)("label",{htmlFor:"front9",children:"Front 9"}),Object(re.jsx)(g.a,{className:"front9",hideErrorMessages:!0,validate:s?[_e,ve,xe,he]:void 0,onChange:function(t,s,a){if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var i=parseInt(e.props.back)||0;e.props.change("total",i+parseInt(s))}if(s.length>2)t.preventDefault();else if(2===s.length){var n=parseInt(e.props.back)||0;e.props.change("total",n+parseInt(s)),document.getElementsByClassName("back9")[0].focus()}},component:ce,disabled:!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&("18t"===this.props.number_of_holes.value||"9"===this.props.number_of_holes.value),type:"text",autoComplete:"off",id:"front9",name:"front9",placeholder:"Front 9"})]}),Object(re.jsxs)("div",{className:"col is-1-of-16",children:[Object(re.jsx)("label",{htmlFor:"back9",children:"Back 9"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,validate:s?[_e,ve,xe,he]:void 0,onChange:function(t,s,a){if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var i=parseInt(e.props.front)||0;e.props.change("total",i+parseInt(s))}if(s.length>2&&t.preventDefault(),2===s.length){var n=parseInt(e.props.front)||0;e.props.change("total",n+parseInt(s))}},className:"back9",component:ce,disabled:!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&("18t"===this.props.number_of_holes.value||"9"===this.props.number_of_holes.value),type:"text",autoComplete:"off",id:"back9",name:"back9",placeholder:"Back 9"})]}),Object(re.jsxs)("div",{className:"col is-1-of-16",children:[Object(re.jsx)("label",{htmlFor:"total",children:"Total"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,onChange:function(t,s,a){"9"===e.props.number_of_holes?s.length>2&&t.preventDefault():s.length>3&&t.preventDefault()},validate:[Ie(),xe],component:ce,disabled:!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&"18"===this.props.number_of_holes.value,type:"text",autoComplete:"off",id:"total",name:"total",className:"total-score",placeholder:"Total"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col ",children:[this.state.errors.length>0&&this.state.errors.map((function(e){return Object(re.jsx)("p",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)})})),this.props.errors&&Object.keys(this.props.errors).map((function(t){switch(t){case"total":return e.props.metas&&e.props.metas.total&&e.props.metas.total.touched?"18t"!==e.props.number_of_holes.value&&"9"!==e.props.number_of_holes.value||!e.props.tee_set_id?null:Object(re.jsx)("p",{className:"validation__message is-error",children:e.props.errors[t]}):null;case"front9":return e.props.metas&&e.props.metas.front9&&e.props.metas.front9.touched?e.props.front?Object(re.jsx)("p",{className:"validation__message is-error",children:"The front "+e.props.errors.front9}):Object(re.jsx)("p",{className:"validation__message is-error",children:"Please enter your score for the Front 9."}):null;case"back9":return e.props.metas&&e.props.metas.back9&&e.props.metas.back9.touched?e.props.back?Object(re.jsx)("p",{className:"validation__message is-error",children:"The back "+e.props.errors.back9}):Object(re.jsx)("p",{className:"validation__message is-error",children:"Please enter your score for the Back 9."}):null;case"course_name":return e.props.metas&&e.props.metas.course_name&&e.props.metas.course_name.touched?Object(re.jsx)("p",{className:"validation__message is-error",children:"Please select a course."}):null;case"tee_set_id":return e.props.metas&&e.props.metas.tee_set_id&&e.props.metas.tee_set_id.touched?Object(re.jsx)("p",{className:"validation__message is-error",children:"Please select Tees."}):null;default:return e.props[t]?Object(re.jsx)("p",{className:"validation__message is-error",children:e.props.errors[t]}):null}}))]}),Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{disabled:!this.props.initialized||!this.props.golfer_id||!this.props.tee_set_id,className:"btn fill blue",children:"Post Score"})})]})]}),Object(re.jsx)(cs,{openModal:this.state.confirmationModalOpen,onConfirmAction:function(){return e.confirmScore()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmationModalOpen:!1,savedEntry:null})},closeModal:function(){e.setState({confirmationModalOpen:!1,savedEntry:null})},question:"Duplicate Score Found",bodyQuestion:"This score may already exist in the golfers score history.",infoText:['Press "Continue" to post the score anyway','Press "Cancel" to review the score prior to posting'],cancelLabel:"Cancel",confirmLabel:"Continue"})]})}}]),s}(a.Component);ud=Object(_.a)({form:"playerEntryForm",destroyOnUnmount:!0})(ud);var hd=Object(p.c)((function(e){var t=Object(es.a)("playerEntryForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,course_name:t(e,"course_name"),golfer_gender:t(e,"gender"),number_of_holes:t(e,"number_of_holes"),score_type:t(e,"score_type"),tee_set_id:t(e,"tee_set_id"),date_setup:t(e,"date_setup"),total:t(e,"total"),front:t(e,"front9"),back:t(e,"back9"),played_at:t(e,"played_at"),golfer_id:t(e,"golfer_id"),errors:Object(ic.a)("playerEntryForm")(e),metas:Object(od.a)("playerEntryForm")(e),is_club_admin:"admin"===e.user.access.club_role,default_club_id:e.user.access.default_club_id,club_role:e.user.access.club_role}}),(function(e){return Object(v.b)({},e)}))(ud),pd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date,dateSetup:[{value:"specific",label:"Specific Date"},{value:"ascending",label:"Ascending Date"},{value:"descending",label:"Descending Date"}],scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}],holesOptions:[{value:"18",label:"18 (9 + 9)"},{value:"18t",label:"18 Total"},{value:"9",label:"9 Total"}],golfers:[],courses:[],teeSetsOptions:[],selectedCourse:{},confirmationModalOpen:!1,savedEntry:null,errors:[]},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.confirmScore=a.confirmScore.bind(Object(b.a)(a)),a.onGhinChange=a.onGhinChange.bind(Object(b.a)(a)),a.resetDefaults=a.resetDefaults.bind(Object(b.a)(a)),a.searchName=a.searchName.bind(Object(b.a)(a)),a.searchLocal=a.searchLocal.bind(Object(b.a)(a)),a.searchDebounce=us()(a.searchLocal,1e3),a.debounceOnChange=us()(a.onGhinChange,1e3),a}return Object(c.a)(s,[{key:"onGhinChange",value:function(e){var t=this;this.props.touch("player_entry_value"),!e.target.classList.contains("is-error")&&this.props.player_entry_value?Bt.getGolferByGHIN(this.props.player_entry_value).then((function(e){if(e&&e.golfer){var s=e.golfer,a=t;t.props.change("firstName",s.first_name),t.props.change("lastName",s.last_name),t.props.change("PlayerName",s.first_name+" "+s.last_name),t.props.change("Display",s.handicap_index),s.clubs.filter((function(e){return"Active"===e.status})).length>0?(t.props.change("Error",null),t.props.change("gender",s.gender),t.props.change("golfer_id",t.props.player_entry_value),t.getCourseDetails((function(){if(a.props.change("tee_set_id",null),"M"===s.gender){if(a.props.default_male_tee){var e=t.state.teeSetsOptions.filter((function(e){return"9"===a.props.number_of_holes.value?e.value===a.props.default_male_tee.value&&e.tee_set_side===a.props.default_male_tee.tee_set_side:e.value===a.props.default_male_tee.value}));a.props.change("tee_set_id",e[0])}}else if(a.props.default_female_tee){var i=t.state.teeSetsOptions.filter((function(e){return"9"===a.props.number_of_holes.value?e.value===a.props.default_female_tee.value&&e.tee_set_side===a.props.default_female_tee.tee_set_side:e.value===a.props.default_female_tee.value}));a.props.change("tee_set_id",i[0])}}))):(s.clubs.filter((function(e){return"Inactive"===e.status})).length>0?t.props.change("Error","This golfer is inactive."):t.props.change("Error","This is an Archived golfer."),t.props.change("golfer_id",null),t.props.change("gender",null))}else t.props.change("PlayerName",null),t.props.change("golfer_id",null),t.props.change("gender",null),t.props.change("firstName",null),t.props.change("lastName",null),t.props.change("PlayerName",null),t.props.change("Display",null),t.props.change("Error","Golfer Not Found")})).catch((function(e){t.props.change("PlayerName",null),t.props.change("golfer_id",null),t.props.change("gender",null),t.props.change("firstName",null),t.props.change("lastName",null),t.props.change("PlayerName",null),t.props.change("Display",null),t.props.change("Error","Golfer Not Found")})):(this.props.change("PlayerName",null),this.props.change("golfer_id",null),this.props.change("gender",null),this.props.change("firstName",null),this.props.change("lastName",null),this.props.change("PlayerName",null),this.props.change("Display",null),this.props.change("Error",null))}},{key:"resetDefaults",value:function(){this.props.change("number_of_holes",this.props.hidden_number_of_holes),this.props.change("score_type",this.props.hidden_score_type),this.props.change("course_name",this.props.hidden_course_name)}},{key:"onSubmit",value:function(e){var t=this,s={golfer_id:e.golfer_id,course_id:e.course_name.value,tee_set_id:e.tee_set_id.value,tee_set_side:9===parseInt(e.number_of_holes.value)?e.tee_set_id.tee_set_side:"All18",played_at:ue()(e.played_at).format("YYYY-MM-DD"),score_type:e.score_type.value,number_of_holes:parseInt(e.number_of_holes.value),gender:e.gender};return"18"===e.number_of_holes.value?(s.front9_adjusted=e.front9,s.back9_adjusted=e.back9,Xr.post18h9and9(s).then((function(s){if(s.errors)throw new O.a(s.errors);var a=s.score;if(a.golfer_id=e.golfer_id,a.score_type_label=e.score_type.label,a.course_name=e.course_name.unparsedLabel,a.tee_name=e.tee_set_id.label,a.number_of_holes_played=e.number_of_holes.label,a.front=e.front9,a.back=e.back9,a.total=e.total,a.firstName=e.firstName,a.lastName=e.lastName,"UnderReview"===s.score.status)t.setState({savedEntry:a,errors:[],confirmationModalOpen:!0});else{if(t.setState({errors:[],teeSetsOptions:[]}),t.props.addEntry(a),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),t.props.untouch("player_entry_value"),t.props.change("player_entry_value",null),t.props.change("golfer_id",null),t.props.change("tee_set_id",null),t.props.untouch("tee_set_id"),t.props.change("front9",null),t.props.change("back9",null),t.props.change("total",null),t.props.change("PlayerName",null),t.props.change("Display",null),t.resetDefaults(),e.date_setup&&"ascending"===e.date_setup.value){var i=ue()(e.played_at).add(1,"d");t.props.change("played_at",new Date(i))}if(e.date_setup&&"descending"===e.date_setup.value){var n=ue()(e.played_at).subtract(1,"d");t.props.change("played_at",new Date(n))}document.getElementsByClassName("player-score")[0].getElementsByClassName("player_entry_value")[0].focus()}})).catch((function(e){var s=[];e.data&&e.data.errors&&(Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s}))}))):(s.adjusted_gross_score=parseInt(e.total||0),Xr.postAdjusted(s).then((function(s){if(s.errors)throw new O.a(s.errors);var a=s.score;if(a.golfer_id=e.golfer_id,a.score_type_label=e.score_type.label,a.course_name=e.course_name.unparsedLabel,a.tee_name=e.tee_set_id.label,a.number_of_holes_played=e.number_of_holes.label,a.front=e.front9,a.back=e.back9,a.total=e.total,a.firstName=e.firstName,a.lastName=e.lastName,"UnderReview"===s.score.status)t.setState({savedEntry:a,errors:[],confirmationModalOpen:!0});else{if(t.setState({errors:[],teeSetsOptions:[]}),t.props.addEntry(a),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),t.props.untouch("player_entry_value"),t.props.change("player_entry_value",null),t.props.change("golfer_id",null),t.props.change("tee_set_id",null),t.props.untouch("tee_set_id"),t.props.change("front9",null),t.props.change("back9",null),t.props.change("total",null),t.props.change("PlayerName",null),t.props.change("Display",null),t.resetDefaults(),e.date_setup&&"ascending"===e.date_setup.value){var i=ue()(e.played_at).add(1,"d");t.props.change("played_at",new Date(i))}if(e.date_setup&&"descending"===e.date_setup.value){var n=ue()(e.played_at).subtract(1,"d");t.props.change("played_at",new Date(n))}document.getElementsByClassName("player-score")[0].getElementsByClassName("player_entry_value")[0].focus()}})).catch((function(e){var s=[];e.data&&e.data.errors&&(Object.keys(e.data.errors).forEach((function(t){e.data.errors[t].length>1?e.data.errors[t].forEach((function(e){s.push(t.replace(/_/g," ")+" "+e)})):s.push(e.data.errors[t][0])})),t.setState({errors:s}))})))}},{key:"confirmScore",value:function(){var e=this;Xr.confirmScore(this.state.savedEntry.id,this.state.savedEntry.golfer_id).then((function(t){if(e.props.addEntry(e.state.savedEntry),e.setState({confirmationModalOpen:!1,teeSetsOptions:[],savedEntry:null}),e.props.untouch("front9"),e.props.untouch("back9"),e.props.untouch("total"),e.props.untouch("player_entry_value"),e.props.change("player_entry_value",null),e.props.change("golfer_id",null),e.props.change("front9",null),e.props.change("back9",null),e.props.change("tee_set_id",null),e.props.untouch("tee_set_id"),e.props.change("total",null),e.props.change("PlayerName",null),e.props.change("Display",null),"ascending"===e.props.date_setup.value){var s=ue()(e.props.played_at).add(1,"d");e.props.change("played_at",new Date(s))}if("descending"===e.props.date_setup.value){var a=ue()(e.props.played_at).subtract(1,"d");e.props.change("played_at",new Date(a))}document.getElementsByClassName("player-score")[0].getElementsByClassName("player_entry_value")[0].focus(),e.resetDefaults()})).catch((function(t){e.setState({confirmationModalOpen:!1,savedEntry:null}),document.getElementsByClassName("player-score")[0].getElementsByClassName("player_entry_value")[0].focus()}))}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"getCourseDetails",value:function(e){var t=this;ar.getCourseDetails(this.props.hidden_course_name.value).then((function(s){var a=s.TeeSets.filter((function(e){return e.Gender.charAt(0)===t.props.golfer_gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(s.CourseRating," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(a.CourseRating," / ").concat(a.SlopeRating)}}));if("9"===t.props.number_of_holes.value){if(a=a.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]),t.props.tee_set_id){var i=a.filter((function(e){return e.value===t.props.tee_set_id.value}));i=i.filter((function(e){return e.label.match("F9")})),t.props.change("tee_set_id",i[0])}}else if(a=a.map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),t.props.tee_set_id){var n=a.filter((function(e){return e.value===t.props.tee_set_id.value}));t.props.change("tee_set_id",n[0])}t.setState({teeSetsOptions:a,errors:[]},(function(){"function"===typeof e&&e()}))}))}},{key:"searchName",value:function(e,t){var s=this;return e?(this.props.change("searchable_player_entry",""),this.props.change("golfer_id",null),this.props.change("gender",null),this.props.change("firstName",null),this.props.change("lastName",null),this.props.change("PlayerName",null),this.props.change("Display",null),cd()("/search_golfer.json?name=".concat(e,"&club_id=").concat(this.props.userAccess.default_club_id)).then((function(e){if(e&&e.data){var a=e.data.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{value:e.id,label:e.first_name+" "+e.last_name})})).sort((function(e,t){return e.label>t.label?1:-1}));s.setState({golfers:a}),t(a)}else t([])})).catch((function(e){s.props.change("Error","Golfer Not Found"),console.error(e)}))):new Promise((function(e){e([])}))}},{key:"searchLocal",value:function(e,t){var s=this;if(e.target.value)return this.props.change("searchable_player_entry",""),this.props.change("golfer_id",null),this.props.change("gender",null),this.props.change("firstName",null),this.props.change("lastName",null),this.props.change("PlayerName",null),this.props.change("Display",null),cd()("/search_golfer.json?local_number=".concat(e.target.value,"&club_id=").concat(this.props.userAccess.default_club_id)).then((function(e){var t=e&&e.data&&e.data.golfers&&e.data.golfers[0];t?(s.props.change("firstName",t.first_name),s.props.change("lastName",t.last_name),s.props.change("PlayerName",t.first_name+" "+t.last_name),s.props.change("Display",t.handicap_index),t.clubs.filter((function(e){return e.status="Active"})).length>0?(s.props.change("golfer_id",t.id),s.props.change("gender",t.gender),s.props.change("Error",null),s.getCourseDetails((function(){if(s.props.change("tee_set_id",null),"M"===t.gender){if(s.props.default_male_tee){var e=s.state.teeSetsOptions.filter((function(e){return"9"===s.props.number_of_holes.value?e.value===s.props.default_male_tee.value&&e.tee_set_side===s.props.default_male_tee.tee_set_side:e.value===s.props.default_male_tee.value}));s.props.change("tee_set_id",e[0])}}else if(s.props.default_female_tee){var a=s.state.teeSetsOptions.filter((function(e){return"9"===s.props.number_of_holes.value?e.value===s.props.default_female_tee.value&&e.tee_set_side===s.props.default_female_tee.tee_set_side:e.value===s.props.default_female_tee.value}));s.props.change("tee_set_id",a[0])}}))):(t.clubs.filter((function(e){return"Inactive"===e.status})).length>0?s.props.change("Error","This golfer is inactive."):s.props.change("Error","This is an Archived golfer."),s.props.change("golfer_id",null),s.props.change("gender",null))):(s.props.change("golfer_id",null),s.props.change("gender",null),s.props.change("firstName",null),s.props.change("lastName",null),s.props.change("PlayerName",null),s.props.change("Display",null),s.props.change("Error","Golfer Not Found"))})).catch((function(e){s.props.change("Error","Golfer Not Found"),console.error(e)}))}},{key:"selectGolfer",value:function(e){var t=this,s=this;e?(this.props.change("firstName",e.first_name),this.props.change("lastName",e.last_name),this.props.change("PlayerName",e.first_name+" "+e.last_name),this.props.change("Display",e.handicap_index),e.clubs.filter((function(e){return"Active"===e.status})).length>0?(this.props.change("Error",null),this.props.change("golfer_id",e.id),this.props.change("gender",e.gender),this.getCourseDetails((function(){if(s.props.change("tee_set_id",null),"M"===e.gender){if(s.props.default_male_tee){var a=t.state.teeSetsOptions.filter((function(e){return"9"===s.props.number_of_holes.value?e.value===s.props.default_male_tee.value&&e.tee_set_side===s.props.default_male_tee.tee_set_side:e.value===s.props.default_male_tee.value}));s.props.change("tee_set_id",a[0])}}else if(s.props.default_female_tee){var i=t.state.teeSetsOptions.filter((function(e){return"9"===s.props.number_of_holes.value?e.value===s.props.default_female_tee.value&&e.tee_set_side===s.props.default_female_tee.tee_set_side:e.value===s.props.default_female_tee.value}));s.props.change("tee_set_id",i[0])}}))):(e.clubs.filter((function(e){return"Inactive"===e.status})).length>0?this.props.change("Error","This golfer is inactive."):this.props.change("Error","This is an Archived golfer."),this.props.change("golfer_id",null),this.props.change("gender",null))):(this.props.change("golfer_id",null),this.props.change("gender",null),this.props.change("firstName",null),this.props.change("lastName",null),this.props.change("PlayerName",null),this.props.change("Display",null),this.props.change("Error",null))}},{key:"componentDidUpdate",value:function(e,t,s){e.hidden_course_name!==this.props.hidden_course_name&&this.getCourseDetails(),this.props.player_entry!==e.player_entry&&this.setState({golfers:[]})}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit,s=!(this.props.default_male_tee||this.props.default_female_tee),i=!(!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&("18t"===this.props.number_of_holes.value||"9"===this.props.number_of_holes.value));return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("form",{className:"player-score",onSubmit:t(this.onSubmit),disabled:"true",children:[Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"golfer_id",name:"golfer_id",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"gender",name:"gender",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"player_entry",name:"player_entry",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"hidden_number_of_holes",name:"hidden_number_of_holes",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"hidden_score_type",name:"hidden_score_type",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"hidden_course_name",name:"hidden_course_name",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"hidden_courses",name:"hidden_courses",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"hidden_male_tees",name:"hidden_male_tees",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"hidden_female_tees",name:"hidden_female_tees",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"default_male_tee",name:"default_male_tee",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"default_female_tee",name:"default_female_tee",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"date_setup",name:"date_setup",placeholder:"Player Entry"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"firstName",name:"firstName",placeholder:"Course Name"}),Object(re.jsx)(g.a,{component:ce,type:"hidden",autoComplete:"off",id:"lastName",name:"lastName",placeholder:"Course Name"}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-8",children:[Object(re.jsx)("label",{htmlFor:"played_at",children:"Date played"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,maxDate:new Date,showMonthDropdown:!0,showYearDropdown:!0,onChange:function(){e.setState({errors:[]})},className:"date",id:"played_at",name:"played_at",component:os,disabled:!this.props.initialized||s,placeholder:"Select ... "})]}),Object(re.jsxs)("div",{className:"col is-1-of-10",children:[Object(re.jsxs)("label",{children:["Enter ","name"===this.props.player_entry&&"Name","golfer_id"===this.props.player_entry&&"GHIN #","local_number"===this.props.player_entry&&"Local #"]}),Object(re.jsx)(g.a,{onChange:this.debounceOnChange,validate:[xe],parse:function(e){return isNaN(parseInt(e))?"":parseInt(e)},hideErrorMessages:!0,component:ce,type:"golfer_id"!==this.props.player_entry?"hidden":"text",autoComplete:"off",id:"player_entry_value",name:"player_entry_value",className:"player_entry_value",placeholder:"Player Entry",disabled:s}),Object(re.jsx)(g.a,{onChange:this.searchDebounce,hideErrorMessages:!0,component:ce,type:"local_number"!==this.props.player_entry?"hidden":"text",autoComplete:"off",id:"player_entry_value",name:"player_entry_value",className:"player_entry_value",placeholder:"Player Entry",disabled:s}),Object(re.jsx)(g.a,{component:Ho,type:"name"!==this.props.player_entry?"hidden":"text",onChange:function(t){e.selectGolfer(t)},searchable:!0,hideErrorMessages:!0,defaultOptions:!0,dontCacheOptions:!0,loadOptions:us()(this.searchName,1e3),autoComplete:"off",className:"react-select-container",classNamePrefix:"react-select",id:"searchable_player_entry",name:"searchable_player_entry",placeholder:" ",disabled:s})]}),Object(re.jsxs)("div",{className:"col is-1-of-8",children:[Object(re.jsx)("label",{children:"Posting Method"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){a&&("18"===a.value&&"9"===s.value&&(e.props.change("front9",null),e.props.change("back9",null)),"18"===a.value&&"18t"===s.value&&(e.props.change("front9",null),e.props.change("back9",null)),"18t"!==a.value&&"9"!==a.value||"18"!==s.value||(e.props.untouch("front9"),e.props.untouch("back9"))),s&&("9"===s.value?(e.props.score_type&&e.props.score_type.value&&"H"!==e.props.score_type.value&&"A"!==e.props.score_type.value&&e.props.change("score_type",null),e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}]})):"18t"===s.value?e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"},{value:"C",label:"Combined"}]}):(e.props.score_type&&e.props.score_type.value&&"H"!==e.props.score_type.value&&"A"!==e.props.score_type.value&&"T"!==e.props.score_type.value&&e.props.change("score_type",null),e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}]})),e.props.course_name&&ar.getCourseDetails(e.props.course_name.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.props.golfer_gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(s.CourseRating," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(a.CourseRating," / ").concat(a.SlopeRating)}}));if("9"===e.props.number_of_holes.value){if(s=s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(parseFloat(t.ratingFront).toFixed(1)," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(parseFloat(t.ratingBack).toFixed(1)," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]),e.props.tee_set_id){var a=s.filter((function(t){return t.value===e.props.tee_set_id.value}));a=a.filter((function(e){return e.label.match("F9")})),e.props.change("tee_set_id",a[0])}}else if(s=s.map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),e.props.tee_set_id){var i=s.filter((function(t){return t.value===e.props.tee_set_id.value}));e.props.change("tee_set_id",i[0])}e.setState({teeSetsOptions:s,errors:[]})})))},name:"number_of_holes",component:yt,disabled:!this.props.initialized||s,className:"react-select-container",classNamePrefix:"react-select",options:this.state.holesOptions,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-1-of-8",children:[Object(re.jsx)("label",{children:"Score Type"}),Object(re.jsx)(g.a,{name:"score_type",component:yt,disabled:!this.props.initialized||!this.props.number_of_holes||s,className:"react-select-container",classNamePrefix:"react-select",options:this.state.scoreType,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{htmlFor:"course_name",children:"Course"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){s?ar.getCourseDetails(s.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.props.golfer_gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(s.CourseRating," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(a.CourseRating," / ").concat(a.SlopeRating)}}));s="9"===e.props.number_of_holes.value?s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(parseFloat(t.ratingFront).toFixed(1)," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(parseFloat(t.ratingBack).toFixed(1)," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]):s.map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),e.props.change("tee_set_id",null),e.setState({teeSetsOptions:s,errors:[]})})):(e.props.change("tee_set_id",null),e.setState({teeSetsOptions:[],errors:[]}))},defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),disabled:!this.props.initialized||!this.props.score_type||s,component:Ho,searchable:!0,type:"text",autoComplete:"off",validate:[he],hideErrorMessages:!0,id:"course_name",name:"course_name",placeholder:"Enter Course Name",grayPlaceholder:!0})]}),Object(re.jsxs)("div",{className:"col is-1-of-10",children:[Object(re.jsx)("label",{children:"Tee"}),Object(re.jsx)(g.a,{name:"tee_set_id",component:yt,disabled:!this.props.initialized||!this.props.score_type||s||!this.props.golfer_id,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Men's Tees",options:this.state.teeSetsOptions,isSearchable:!1,validate:[he],hideErrorMessages:!0})]}),Object(re.jsxs)("div",{className:"col is-1-of-16",children:[Object(re.jsx)("label",{htmlFor:"front9",children:"Front 9"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,validate:i?[_e,ve,xe,he]:void 0,onChange:function(t,s,a){if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var i=parseInt(e.props.back)||0;e.props.change("total",i+parseInt(s))}if(s.length>2)t.preventDefault();else if(2===s.length){var n=parseInt(e.props.back)||0;e.props.change("total",n+parseInt(s)),document.getElementsByClassName("back9")[0].focus()}},component:ce,disabled:!this.props.golfer_id||!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&("18t"===this.props.number_of_holes.value||"9"===this.props.number_of_holes.value),type:"text",autoComplete:"off",id:"front9",name:"front9",placeholder:"Front 9"})]}),Object(re.jsxs)("div",{className:"col is-1-of-16",children:[Object(re.jsx)("label",{htmlFor:"back9",children:"Back 9"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,validate:i?[_e,ve,xe,he]:void 0,onChange:function(t,s,a){if(1===s.length){if(0===parseInt(s))return void t.preventDefault();var i=parseInt(e.props.front)||0;e.props.change("total",i+parseInt(s))}if(s.length>2&&t.preventDefault(),2===s.length){var n=parseInt(e.props.front)||0;e.props.change("total",n+parseInt(s))}},className:"back9",component:ce,disabled:!this.props.golfer_id||!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&("18t"===this.props.number_of_holes.value||"9"===this.props.number_of_holes.value),type:"text",autoComplete:"off",id:"back9",name:"back9",placeholder:"Back 9"})]}),Object(re.jsxs)("div",{className:"col is-1-of-16",children:[Object(re.jsx)("label",{htmlFor:"total",children:"Total"}),Object(re.jsx)(g.a,{hideErrorMessages:!0,onChange:function(t,s,a){"9"===e.props.number_of_holes?s.length>2&&t.preventDefault():s.length>3&&t.preventDefault()},validate:[Ie(),xe],component:ce,disabled:!this.props.golfer_id||!this.props.tee_set_id||!this.props.initialized||this.props.number_of_holes&&"18"===this.props.number_of_holes.value,type:"text",autoComplete:"off",id:"total",name:"total",placeholder:"Total"})]})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)(g.a,{name:"PlayerName",component:function(e){return Object(re.jsx)("div",{className:"pull-data__golfer-name",children:e.input.value})}}),Object(re.jsx)(g.a,{name:"Display",component:function(e){return e.input.value&&Object(re.jsxs)("div",{className:"pull-data__golfer-handicap-index",children:["Handicap Index: ",Object(re.jsx)("span",{className:"cardinal",children:e.input.value})]})}}),Object(re.jsx)(g.a,{name:"Error",component:function(e){return e.input.value&&Object(re.jsx)("div",{className:"pull-data__golfer-handicap-index",children:Object(re.jsx)("span",{className:"cardinal",children:e.input.value})})}}),this.state.errors.length>0&&this.state.errors.map((function(e){return Object(re.jsx)("p",{className:"validation__message is-error",children:e.charAt(0).toUpperCase()+e.substring(1)})})),this.props.errors&&Object.keys(this.props.errors).map((function(t){switch(t){case"total":return e.props.metas&&e.props.metas.total&&e.props.metas.total.touched?"18t"!==e.props.number_of_holes.value&&"9"!==e.props.number_of_holes.value||!e.props.tee_set_id?null:Object(re.jsx)("p",{className:"validation__message is-error",children:e.props.errors[t]}):null;case"front9":return e.props.metas&&e.props.metas.front9&&e.props.metas.front9.touched?e.props.front?Object(re.jsx)("p",{className:"validation__message is-error",children:"The front "+e.props.errors.front9}):Object(re.jsx)("p",{className:"validation__message is-error",children:"Please enter your score for the Front 9."}):null;case"back9":return e.props.metas&&e.props.metas.back9&&e.props.metas.back9.touched?e.props.back?Object(re.jsx)("p",{className:"validation__message is-error",children:"The back "+e.props.errors.back9}):Object(re.jsx)("p",{className:"validation__message is-error",children:"Please enter your score for the Back 9."}):null;case"course_name":return e.props.metas&&e.props.metas.course_name&&e.props.metas.course_name.touched?Object(re.jsx)("p",{className:"validation__message is-error",children:"Please select a course."}):null;case"tee_set_id":return e.props.metas&&e.props.metas.tee_set_id&&e.props.metas.tee_set_id.touched?Object(re.jsx)("p",{className:"validation__message is-error",children:"Please select Tees."}):null;default:return e.props[t]?Object(re.jsx)("p",{className:"validation__message is-error",children:e.props.errors[t]}):null}}))]}),Object(re.jsx)("div",{className:"col is-1-of-8 push-right",children:Object(re.jsx)("button",{disabled:!this.props.initialized||!this.props.golfer_id||!this.state.teeSetsOptions.length||!this.props.tee_set_id,className:"btn fill blue",children:"Post Score"})})]})]}),Object(re.jsx)(cs,{openModal:this.state.confirmationModalOpen,onConfirmAction:function(){return e.confirmScore()},modalIcon:"help_outline",onCancelAction:function(){e.setState({confirmationModalOpen:!1,savedEntry:null})},closeModal:function(){e.setState({confirmationModalOpen:!1,savedEntry:null})},question:"Duplicate Score Found",bodyQuestion:"This score may already exist in the golfers score history.",infoText:['Press "Continue" to post the score anyway','Press "Cancel" to review the score prior to posting'],cancelLabel:"Cancel",confirmLabel:"Continue"})]})}}]),s}(a.Component);pd=Object(_.a)({form:"multiplePlayerEntryForm",destroyOnUnmount:!0,initialValues:{player_entry:"golfer_id",played_at:new Date,number_of_holes:{value:"18",label:"18 (9 + 9)"},score_type:{value:"H",label:"Home"}}})(pd);var md=Object(p.c)((function(e){var t=Object(es.a)("multiplePlayerEntryForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,userAccess:e.user.access,course_name:t(e,"course_name"),golfer_gender:t(e,"gender"),golfer_id:t(e,"golfer_id"),number_of_holes:t(e,"number_of_holes"),score_type:t(e,"score_type"),tee_set_id:t(e,"tee_set_id"),total:t(e,"total"),front:t(e,"front9"),back:t(e,"back9"),played_at:t(e,"played_at"),date_setup:t(e,"date_setup"),hidden_courses:t(e,"hidden_courses"),hidden_course_name:t(e,"hidden_course_name"),player_entry:t(e,"player_entry"),player_entry_value:t(e,"player_entry_value"),hidden_male_tees:t(e,"hidden_male_tees"),hidden_female_tees:t(e,"hidden_female_tees"),default_male_tee:t(e,"default_male_tee"),default_female_tee:t(e,"default_female_tee"),hidden_number_of_holes:t(e,"hidden_number_of_holes"),hidden_score_type:t(e,"hidden_score_type"),errors:Object(ic.a)("multiplePlayerEntryForm")(e),metas:Object(od.a)("multiplePlayerEntryForm")(e),formValues:Object(Lt.a)("multiplePlayerEntryForm")(e)}}),(function(e){return Object(v.b)({},e)}))(pd),bd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date,dateSetup:[{value:"specific",label:"Specific Date"},{value:"ascending",label:"Ascending Date"},{value:"descending",label:"Descending Date"}],scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}],holesOptions:[{value:"18",label:"18 (9 + 9)"},{value:"18t",label:"18 Total"},{value:"9",label:"9 Total"}],playerEntryMethod:"club-admin"===a.props.userType||"score_only"===a.props.club_role||"score_maintenance"===a.props.club_role?[{value:"golfer_id",label:"GHIN #"},{value:"local_number",label:"Local # (Members)"},{value:"name",label:"Name (Members)"}]:[{value:"golfer_id",label:"GHIN #"}],courses:[],teeSetsOptions:[],mensTees:[],femalesTees:[],selectedCourse:{}},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.getCoursesOptions=a.getCoursesOptions.bind(Object(b.a)(a)),a.getMensFemalesTees=a.getMensFemalesTees.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"onSubmit",value:function(e){var t=this,s={golfer_id:e.golfer_id,course_id:e.course_name.value,tee_set_id:e.tee_set_id.value,tee_set_side:9===parseInt(e.number_of_holes.value)?e.tee_set_id.tee_set_side:"All18",played_at:ue()(e.played_at).format("YYYY-MM-DD"),score_type:e.score_type.value,number_of_holes:parseInt(e.number_of_holes.value),gender:e.gender};return"18"===e.number_of_holes.value?(s.front9_adjusted=e.front9,s.back9_adjusted=e.back9,Xr.post18h9and9(s).then((function(s){if(s.errors)throw new O.a(s.errors);var a=s.score;if(a.golfer_id=e.golfer_id,a.score_type_label=e.score_type.label,a.tee_name=e.tee_set_id.label,a.front=e.front9,a.back=e.back9,a.total=e.total,t.props.addEntry(a),t.props.change("front9",0),t.props.change("back9",0),t.props.change("total",0),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),"ascending"===e.date_setup.value){var i=ue()(e.played_at).add(1,"d");t.props.change("played_at",new Date(i))}if("descending"===e.date_setup.value){var n=ue()(e.played_at).subtract(1,"d");t.props.change("played_at",new Date(n))}})).catch((function(e){}))):(s.adjusted_gross_score=parseInt(e.total||0),Xr.postAdjusted(s).then((function(s){if(s.errors)throw new O.a(s.errors);var a=s.score;if(a.golfer_id=e.golfer_id,a.score_type_label=e.score_type.label,a.tee_name=e.tee_set_id.label,a.front=e.front9,a.back=e.back9,a.total=e.total,t.props.addEntry(a),t.props.change("front9",0),t.props.change("back9",0),t.props.change("total",0),t.props.untouch("front9"),t.props.untouch("back9"),t.props.untouch("total"),"ascending"===e.date_setup.value){var i=ue()(e.played_at).add(1,"d");t.props.change("played_at",new Date(i))}if("descending"===e.date_setup.value){var n=ue()(e.played_at).subtract(1,"d");t.props.change("played_at",new Date(n))}})).catch((function(e){})))}},{key:"getCoursesOptions",value:function(e,t){var s=this;return e?ar.searchCourses(e).then((function(e){var a=e.courses.map((function(e){return{value:e.CourseID,label:"".concat(e.FullName," ").concat(e.City&&e.State?"(".concat(e.City,", ").concat(e.State,")"):""),unparsedLabel:e.FullName}}));s.setState({courses:a}),s.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_courses",a)),t(a)})).catch((function(e){})):new Promise((function(e){e([])}))}},{key:"getMensFemalesTees",value:function(e){var t=e.TeeSets.filter((function(e){return"Male"===e.Gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holes:e.Holes,holesNumber:e.HolesNumber,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}})),s=e.TeeSets.filter((function(e){return"Female"===e.Gender})).map((function(e){var t=e.Ratings.filter((function(e){return"Total"===e.RatingType}))[0],s=e.Ratings.filter((function(e){return"Front"===e.RatingType}))[0],a=e.Ratings.filter((function(e){return"Back"===e.RatingType}))[0];return{label:e.TeeSetRatingName,holesNumber:e.HolesNumber,holes:e.Holes,value:e.TeeSetRatingId,ratingTotal:t&&"".concat(parseFloat(t.CourseRating).toFixed(1)," / ").concat(t.SlopeRating),ratingFront:s&&"".concat(parseFloat(s.CourseRating).toFixed(1)," / ").concat(s.SlopeRating),ratingBack:a&&"".concat(parseFloat(a.CourseRating).toFixed(1)," / ").concat(a.SlopeRating)}}));return"9"===this.props.number_of_holes.value?(t=t.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]),s=s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[])):(t=t.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}})),s=s.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}}))),{mensTees:t,femalesTees:s}}},{key:"componentDidMount",value:function(){var e=this;this.props.super_user?(this.setState({playerEntryMethod:[{value:"golfer_id",label:"GHIN #"}]}),this.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","date_setup",{value:"specific",label:"Specific Date"})),this.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_number_of_holes",{value:"18",label:"18 (9 + 9)"})),this.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_score_type",{value:"H",label:"Home"}))):this.props.club_role&&this.props.default_club_id&&Zt.getClubHomeCourses(null,this.props.default_club_id).then(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a,i,n;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.facilities.map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(s.home_courses.map((function(e){var t=s.name+" - "+e.name+" (".concat(e.city,", ").concat(e.state,")");return{req:ar.getCourseDetails(e.course_id),teeIdMale:e.default_tee_male?e.default_tee_male.id:null,teeIdFemale:e.default_tee_female?e.default_tee_female.id:null,courseName:t,value:e.course_id,label:t,courseId:e.id}})).map(function(){var t=Object(fa.a)(ja.a.mark((function t(s){var a,i,n,o;return ja.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,s.req;case 2:return a=t.sent,i=e.getMensFemalesTees(a),n=i.mensTees,o=i.femalesTees,delete s.req,s.maleTees=n,s.femaleTees=o,t.abrupt("return",s);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:return a=t.sent,t.abrupt("return",cc()(a));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()));case 2:a=t.sent,i=cc()(a),n=i[0],e.setState({courses:n,mensTees:n?n.maleTees:[],femalesTees:n?n.femaleTees:[]},(function(){if(n){e.props.change("course_name",n),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_male_tees",e.state.mensTees)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_female_tees",e.state.femalesTees)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","course_name",n)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_course_name",n));var t=e.state.mensTees.filter((function(e){return parseInt(e.value)===parseInt(n.teeIdMale)})),s=e.state.femalesTees.filter((function(e){return parseInt(e.value)===parseInt(n.teeIdFemale)}));e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","default_male_tee",t[0])),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","default_female_tee",s[0])),e.props.change("men_tee_set_id",t),e.props.change("women_tee_set_id",s)}}));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(e){console.error(e)}))}},{key:"render",value:function(){var e=this,t=this.props.handleSubmit;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("form",{onSubmit:t(this.onSubmit),children:Object(re.jsx)("div",{className:"filters columns",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-7",children:[Object(re.jsx)("label",{children:"Date Setup"}),Object(re.jsx)(g.a,{name:"date_setup",component:yt,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Select ... ",options:this.state.dateSetup,isSearchable:!1,onChange:function(t,s,a){e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","played_at",new Date)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","date_setup",s))}})]}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{children:"Player Entry Method"}),Object(re.jsx)(g.a,{component:yt,onChange:function(t){e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","player_entry",t.value)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","PlayerName",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","golfer_id",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","gender",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","firstName",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","lastName",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","Display",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","Error",null)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","searchable_player_entry",null))},name:"selectedEntryMethod",className:"react-select-container",classNamePrefix:"react-select",options:this.state.playerEntryMethod,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-1-of-10",children:[Object(re.jsx)("label",{children:"Posting Method"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){a&&("18"===a.value&&"9"===s.value&&(e.props.change("front9",null),e.props.change("back9",null)),"18"===a.value&&"18t"===s.value&&(e.props.change("front9",null),e.props.change("back9",null)),"18t"!==a.value&&"9"!==a.value||"18"!==s.value||(e.props.untouch("front9"),e.props.untouch("back9"))),s&&(e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_number_of_holes",s)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","number_of_holes",s)),e.props.change("front9",0),e.props.change("back9",0),e.props.change("total",0),"9"===s.value?(e.props.score_type&&e.props.score_type.value&&"H"!==e.props.score_type.value&&"A"!==e.props.score_type.value&&e.props.change("score_type",null),e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}]})):"18t"===s.value?e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"},{value:"C",label:"Combined"}]}):(e.props.score_type&&e.props.score_type.value&&"H"!==e.props.score_type.value&&"A"!==e.props.score_type.value&&"T"!==e.props.score_type.value&&e.props.change("score_type",null),e.setState({scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"}]})),e.props.course_name&&ar.getCourseDetails(e.props.course_name.value).then((function(t){var s=t.TeeSets.filter((function(t){return t.Gender.charAt(0)===e.props.golfer_gender})).map((function(e){return{label:e.TeeSetRatingName,holesNumber:e.HolesNumber,holes:e.Holes,value:e.TeeSetRatingId}}));s="9"===e.props.number_of_holes.value?s.reduce((function(e,t){var s=t.holes.reduce((function(e,t,s){return s<9?e+t.Par:e+0}),0),a=t.holes.reduce((function(e,t,s){return s>=9?e+t.Par:e+0}),0),i=t.ratingFront?{label:t.label+" F9 (".concat(t.ratingFront," / ").concat(s,")"),unparsedLabel:t.label+" F9",value:t.value,tee_set_side:"F9"}:null,n=t.ratingBack?{label:t.label+" B9 (".concat(t.ratingBack," / ").concat(a,")"),unparsedLabel:t.label+" B9",value:t.value,tee_set_side:"B9"}:null;return i&&n?e.concat([i,n]):i?e.concat([i]):n?e.concat([n]):null}),[]):s.filter((function(e){return 9!==e.holesNumber})).map((function(e){var t=e.holes.reduce((function(e,t,s){return e+t.Par}),0);return{label:"".concat(e.label," (").concat(e.ratingTotal," / ").concat(t,")"),value:e.value}}));var a=e.getMensFemalesTees(t),i=a.mensTees,n=a.femalesTees;e.setState({teeSetsOptions:s,mensTees:i,femalesTees:n}),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_male_tees",i)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_female_tees",n)),e.props.change("men_tee_set_id",null),e.props.change("women_tee_set_id",null),e.props.change("tee_set_id",null)})))},name:"number_of_holes",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.holesOptions,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-1-of-9",children:[Object(re.jsx)("label",{children:"Score Type"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_score_type",s)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","score_type",s))},name:"score_type",component:yt,className:"react-select-container",classNamePrefix:"react-select",options:this.state.scoreType,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col is-2-of-10",children:[Object(re.jsx)("label",{htmlFor:"course_name",children:"Course"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){s&&(e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","course_name",s)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_course_name",s)),ar.getCourseDetails(s.value).then((function(t){e.props.change("seasonStart",t.Season.SeasonStartDate),e.props.change("seasonEnd",t.Season.SeasonEndDate);var s=e.getMensFemalesTees(t),a=s.mensTees,i=s.femalesTees;e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_male_tees",a)),e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","hidden_female_tees",i)),e.props.change("men_tee_set_id",null),e.props.change("women_tee_set_id",null),e.setState({mensTees:a,femalesTees:i})})))},defaultOptions:this.state.courses,loadOptions:us()(this.getCoursesOptions,1e3),component:Ho,searchable:!0,type:"text",autoComplete:"off",id:"course_name",name:"course_name",placeholder:"Enter Course Name",grayPlaceholder:!0})]}),Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{children:"Men's Default Tee"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","default_male_tee",s)),e.props.formValues.golfer_id&&"M"===e.props.formValues.gender&&e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","tee_set_id",s))},name:"men_tee_set_id",component:yt,disabled:!this.props.course_name,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Men's Tees",options:this.state.mensTees,isSearchable:!1})]}),Object(re.jsxs)("div",{className:"col",children:[Object(re.jsx)("label",{children:"Women's Default Tee"}),Object(re.jsx)(g.a,{onChange:function(t,s,a){e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","default_female_tee",s)),e.props.formValues.golfer_id&&"F"===e.props.formValues.gender&&e.props.dispatch(Object(ts.a)("multiplePlayerEntryForm","tee_set_id",s))},name:"women_tee_set_id",component:yt,disabled:!this.props.course_name,className:"react-select-container",classNamePrefix:"react-select",placeholder:"Women's Tees",options:this.state.femalesTees,isSearchable:!1})]})]})})})})}}]),s}(a.Component);bd=Object(_.a)({form:"manyPlayersEntryForm",destroyOnUnmount:!0,initialValues:{selectedEntryMethod:{value:"golfer_id",label:"GHIN #"},date_setup:{value:"specific",label:"Specific Date"},number_of_holes:{value:"18",label:"18 (9 + 9)"},score_type:{value:"H",label:"Home"}}})(bd);var jd=Object(p.c)((function(e){var t=Object(es.a)("manyPlayersEntryForm");return{enableReinitialize:!0,keepDirtyOnReinitialize:!0,course_name:t(e,"course_name"),golfer_gender:t(e,"gender"),number_of_holes:t(e,"number_of_holes"),score_type:t(e,"score_type"),tee_set_id:t(e,"tee_set_id"),total:t(e,"total"),front:t(e,"front9"),back:t(e,"back9"),played_at:t(e,"played_at"),super_admin:e.user.access.super_user,club_role:e.user.access.club_role,default_club_id:e.user.access.default_club_id,userType:e.user.access.user_type,formValues:Object(Lt.a)("multiplePlayerEntryForm")(e)}}),(function(e){return Object(v.b)({},e)}))(bd),fd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={startDate:new Date,dateSetup:[{value:"specific",label:"Specific Date"},{value:"ascending",label:"Ascending Date"},{value:"descending",label:"Descending Date"}],scoreType:[{value:"H",label:"Home"},{value:"A",label:"Away"},{value:"T",label:"Competition"},{value:"C",label:"Combined"}],holesOptions:[{value:"18",label:"18 (9 + 9)"},{value:"18t",label:"18 Total"},{value:"9",label:"9 Total"}],courses:[],teeSetsOptions:[],selectedCourse:{}},a}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(jd,{}),Object(re.jsx)(md,{addEntry:this.props.addEntry})]})}}]),s}(a.Component),Od=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={entries:[],activeButton:"multipleplayers",deleteScoreModalIsOpen:!1,scoreToDelete:null},a.addEntry=a.addEntry.bind(Object(b.a)(a)),a.deleteEntry=a.deleteEntry.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){Ee.accesses(),et.a.setAppElement("body")}},{key:"componentDidUpdate",value:function(e,t,s){}},{key:"addEntry",value:function(e){var t=[e].concat(Object(We.a)(this.state.entries));this.setState({entries:t})}},{key:"showDeleteConfirmationModal",value:function(e,t,s,a,i){e.preventDefault(),this.setState({deleteScoreModalIsOpen:!0,scoreToDelete:{id:t,ghinNumber:s,uniqueId:a,datePlayed:i}})}},{key:"deleteEntry",value:function(){var e=this,t=this.state.scoreToDelete.id;Xr.deleteScore(t).then((function(s){var a=e.state.entries;a=a.filter((function(e){return e.id!==t})),e.setState({entries:a,deleteScoreModalIsOpen:!1,scoreToDelete:null})})).catch((function(e){}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto",children:Object(re.jsxs)("ul",{className:"inline__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){return e.setState({activeButton:"multipleplayers"})},className:"btn fill ".concat("multipleplayers"===this.state.activeButton?"blue":""),children:"Many Players"})}),Object(re.jsx)("li",{children:Object(re.jsx)("button",{onClick:function(){return e.setState({activeButton:"oneplayer"})},className:"btn fill ".concat("oneplayer"===this.state.activeButton?"blue":""),children:"One Player"})})]})})}),Object(re.jsxs)("section",{className:"default",children:["oneplayer"===this.state.activeButton&&Object(re.jsx)(hd,{addEntry:this.addEntry}),"multipleplayers"===this.state.activeButton&&Object(re.jsx)(fd,{addEntry:this.addEntry}),Object(re.jsxs)("table",{className:"data__table margin-top",children:[Object(re.jsxs)("colgroup",{children:[Object(re.jsx)("col",{className:"col_date"}),Object(re.jsx)("col",{className:"col_player-name"}),Object(re.jsx)("col",{className:"col_score"}),Object(re.jsx)("col",{className:"col_method-small"}),Object(re.jsx)("col",{className:""}),Object(re.jsx)("col",{className:"col_tee"}),Object(re.jsx)("col",{className:"col_min"}),Object(re.jsx)("col",{className:"col_min"}),Object(re.jsx)("col",{className:"col_min"}),Object(re.jsx)("col",{className:"col_min"})]}),Object(re.jsx)("thead",{children:Object(re.jsxs)("tr",{children:[Object(re.jsx)("th",{children:"Date Played"}),Object(re.jsx)("th",{children:"Player Name"}),Object(re.jsx)("th",{children:"Score Type"}),Object(re.jsx)("th",{children:"Posting Method"}),Object(re.jsx)("th",{children:"Course Played"}),Object(re.jsx)("th",{children:"Tee"}),Object(re.jsx)("th",{children:"Front 9"}),Object(re.jsx)("th",{children:"Back 9"}),Object(re.jsx)("th",{children:"Total"}),Object(re.jsx)("th",{})]})}),Object(re.jsxs)("tbody",{children:[0===this.state.entries.length&&Object(re.jsx)("tr",{children:Object(re.jsx)("td",{colSpan:"100%",children:"No records to display"})}),this.state.entries.length>0&&this.state.entries.map((function(t){return Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:t.played_at}),Object(re.jsxs)("td",{children:[t.firstName," ",t.lastName," [",t.golfer_id,"]"]}),Object(re.jsx)("td",{children:t.score_type_display_full}),Object(re.jsx)("td",{children:t.number_of_holes_played}),Object(re.jsx)("td",{children:t.course_display_value}),Object(re.jsx)("td",{children:t.tee_name}),Object(re.jsx)("td",{style:{textAlign:"center"},children:t.front>0?t.front:""}),Object(re.jsx)("td",{style:{textAlign:"center"},children:t.back>0?t.back:""}),Object(re.jsx)("td",{style:{textAlign:"center"},children:t.total}),Object(re.jsx)("td",{children:Object(re.jsx)("button",{onClick:function(s){return e.showDeleteConfirmationModal(s,t.id,t.golfer_id,t.score_day_order,t.played_at)},href:"#",children:"Delete"})})]},t.id)}))]})]})]}),Object(re.jsx)(ca,{openModal:this.state.deleteScoreModalIsOpen,onConfirmAction:function(){return e.deleteEntry()},onCancelAction:function(){e.setState({deleteScoreModalIsOpen:!1,scoreToDelete:null})},closeModal:function(){e.setState({deleteScoreModalIsOpen:!1,scoreToDelete:null})},question:"Are you sure you want to delete this score?",cancelLabel:"No",confirmLabel:"Yes"})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component),gd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"render",value:function(){return Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("table",{className:"data__table merge",children:Object(re.jsxs)("tbody",{children:[Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"GHIN Number"}),Object(re.jsx)("td",{children:this.props.golfer&&this.props.golfer.id})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Gender"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.gender||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Prefix"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.prefix||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"First Name"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.first_name||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Middle Name"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.middle_name||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Last Name"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.last_name||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Sufix"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.suffix||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Date Of Birth"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.date_of_birth&&ue()(this.props.golfer.date_of_birth).format("MM/DD/YYYY")||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Email"}),Object(re.jsx)("td",{children:this.props.golfer&&(this.props.golfer.email||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Digital Profile?"}),Object(re.jsx)("td",{children:this.props.golfer&&(void 0!==this.props.golfer.has_digital_profile&&(this.props.golfer.has_digital_profile?"Yes":"No")||"-")})]}),Object(re.jsxs)("tr",{children:[Object(re.jsx)("td",{children:"Active GPS Subscription?"}),Object(re.jsx)("td",{children:this.props.golfer&&(void 0!==this.props.golfer.gps_subscribed&&(this.props.golfer.gps_subscribed?"Yes":"No")||"-")})]})]})})})})}}]),s}(a.Component),_d=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s);var i="";(a=t.call(this,e)).props.fromAccountCommand&&(i=a.props.fromAccountCommand.ghinNumber.toString());return a.state={ghinInputOne:i,ghinInputTwo:"",inputOneError:!1,inputTwoError:!1,golferOne:null,golferTwo:null,secondFieldDisabled:!0,selectedRecordToKeep:1,confirmationModalOpen:!1,responseModalOpen:!1,responseModalErrorOpen:!1,mergeLoading:!1},a.mergeGolfers=a.mergeGolfers.bind(Object(b.a)(a)),a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){if(this.props.fromAccountCommand){var e=new Event("default");this.searchGolferOne(e)}}},{key:"setInitialState",value:function(){document.getElementById("golferone").value=null,document.getElementById("golfertwo").value=null,this.setState({ghinInputOne:"",ghinInputTwo:"",inputOneError:!1,inputTwoError:!1,golferOne:null,golferTwo:null,secondFieldDisabled:!0,selectedRecordToKeep:1,confirmationModalOpen:!1,responseModalOpen:!1,responseModalErrorOpen:!1,mergeLoading:!1})}},{key:"searchGolferOne",value:function(e){var t=this,s="";s="default"===e.type?this.state.ghinInputOne:e.target.validity.valid?e.target.value:this.state.ghinInputOne,this.setState({ghinInputOne:s}),s.length?this.state.golferTwo&&this.state.golferTwo.id.toString()===s||Bt.getGolferByGHIN(s).then((function(e){e&&e.golfer?t.setState({golferOne:e.golfer,secondFieldDisabled:!1,inputOneError:!1}):t.setState({golferOne:null,inputOneError:!0})})).catch((function(e){console.error(e),t.setState({golferOne:null,inputOneError:!0})})):this.setState({golferOne:null})}},{key:"searchGolferTwo",value:function(e){var t=this,s=e.target.validity.valid?e.target.value:this.state.ghinInputTwo;this.setState({ghinInputTwo:s}),s.length?this.state.golferOne&&this.state.golferOne.id.toString()===s||Bt.getGolferByGHIN(s).then((function(e){e&&e.golfer?t.setState({golferTwo:e.golfer,inputTwoError:!1}):t.setState({golferTwo:null,inputTwoError:!0})})).catch((function(e){console.error(e),t.setState({golferTwo:null,inputTwoError:!0})})):this.setState({golferTwo:null})}},{key:"mergeGolfers",value:function(){var e=this;this.setState({mergeLoading:!0},(function(){Bt.mergeGolfers({merger_id:1===e.state.selectedRecordToKeep?e.state.golferOne.id:e.state.golferTwo.id,merged_id:1===e.state.selectedRecordToKeep?e.state.golferTwo.id:e.state.golferOne.id}).then((function(t){t.errors?e.setState({confirmationModalOpen:!1,responseModalOpen:!1,mergeLoading:!1,responseModalErrorOpen:t.errors}):e.setState({confirmationModalOpen:!1,responseModalErrorOpen:!1,mergeLoading:!1,responseModalOpen:!0})})).catch((function(e){console.error(e)}))}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Golfer 1"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("input",{id:"golferone",value:this.state.ghinInputOne,onChange:function(t){return e.searchGolferOne(t)},type:"text",pattern:"[0-9]*",autoComplete:"off",placeholder:"GHIN Number"}),this.state.inputOneError&&Object(re.jsx)("span",{className:"validation__message is-error",children:"GHIN # not found."})]})}),Object(re.jsx)(gd,{golfer:this.state.golferOne})]})})]})}),Object(re.jsx)("div",{className:"col is-1-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Golfer 2"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("input",{id:"golfertwo",value:this.state.ghinInputTwo,onChange:function(t){return e.searchGolferTwo(t)},type:"text",pattern:"[0-9]*",autoComplete:"off",placeholder:"GHIN Number",disabled:this.state.secondFieldDisabled}),this.state.inputTwoError&&Object(re.jsx)("span",{className:"validation__message is-error",children:"GHIN # not found."})]})}),Object(re.jsx)(gd,{golfer:this.state.golferTwo})]})})]})}),Object(re.jsx)("div",{className:"col is-1-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Result"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-3-of-7 jc-c",children:"Choose record to keep:"}),Object(re.jsx)("div",{className:"col is-4-of-7 jc-c",children:Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)("input",{id:"golferOne",type:"radio",name:"golferOne",onChange:function(t){return e.setState({selectedRecordToKeep:1})},checked:1===this.state.selectedRecordToKeep}),Object(re.jsx)("label",{htmlFor:"golferOne",children:"Golfer 1"}),Object(re.jsx)("input",{id:"golferTwo",type:"radio",name:"golferTwo",onChange:function(t){return e.setState({selectedRecordToKeep:2})},checked:2===this.state.selectedRecordToKeep}),Object(re.jsx)("label",{htmlFor:"golferTwo",children:"Golfer 2"})]})})]}),1===this.state.selectedRecordToKeep&&Object(re.jsx)(gd,{golfer:Object(j.a)(Object(j.a)({},this.state.golferOne),{email:this.state.golferOne&&this.state.golferOne.email?this.state.golferOne.email:this.state.golferTwo&&this.state.golferTwo.email,gps_subscribed:this.state.golferOne&&this.state.golferTwo?this.state.golferOne.gps_subscribed||this.state.golferTwo.gps_subscribed:void 0})}),2===this.state.selectedRecordToKeep&&Object(re.jsx)(gd,{golfer:Object(j.a)(Object(j.a)({},this.state.golferTwo),{email:this.state.golferTwo&&this.state.golferTwo.email?this.state.golferTwo.email:this.state.golferOne&&this.state.golferOne.email,gps_subscribed:this.state.golferOne&&this.state.golferTwo?this.state.golferOne.gps_subscribed||this.state.golferTwo.gps_subscribed:void 0})})]})})]})})]}),(this.state.golferOne&&1===this.state.selectedRecordToKeep&&!this.state.golferOne.has_digital_profile&&this.state.golferTwo&&this.state.golferTwo.has_digital_profile||this.state.golferTwo&&2===this.state.selectedRecordToKeep&&!this.state.golferTwo.has_digital_profile&&this.state.golferOne&&this.state.golferOne.has_digital_profile)&&Object(re.jsxs)("div",{className:"col auto push-right",children:[Object(re.jsx)("span",{className:"validation__message is-error",children:"The chosen record does not have a digital profile. When merged the golfer will need to create a new one."}),Object(re.jsx)("br",{})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(t){t.preventDefault(),e.state.golferOne&&e.state.golferTwo&&e.setState({confirmationModalOpen:!0})},className:"btn fill green",children:"Merge"})})})]}),this.state.confirmationModalOpen&&Object(re.jsx)(cs,{openModal:this.state.confirmationModalOpen,onConfirmAction:function(){return e.mergeGolfers()},onCancelAction:function(){e.setState({confirmationModalOpen:!1})},closeModal:function(){e.setState({confirmationModalOpen:!1})},loading:this.state.mergeLoading,bodyQuestion:Object(re.jsxs)(a.Fragment,{children:[this.state.golferOne.first_name," ",this.state.golferOne.last_name," - ",this.state.golferOne.id,Object(re.jsx)("br",{})," ",this.state.golferTwo.first_name," ",this.state.golferTwo.last_name," - ",this.state.golferTwo.id]}),question:"Merge the following golfers?",cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),this.state.responseModalOpen&&Object(re.jsx)(cs,{openModal:this.state.responseModalOpen,onConfirmAction:function(){return e.setInitialState()},onCancelAction:function(){e.setState({responseModalOpen:!1})},closeModal:function(){e.setState({responseModalOpen:!1})},bodyQuestion:"".concat(this.state.golferOne.first_name," ").concat(this.state.golferOne.last_name," & ").concat(this.state.golferTwo.first_name," ").concat(this.state.golferTwo.last_name," have been merged successfully."),question:"Success!",confirmLabel:"Ok",modalIcon:"check_circle"}),this.state.responseModalErrorOpen&&Object(re.jsx)(cs,{openModal:this.state.responseModalErrorOpen,onConfirmAction:function(){return e.setState({responseModalErrorOpen:!1})},onCancelAction:function(){e.setState({responseModalErrorOpen:!1})},closeModal:function(){e.setState({responseModalErrorOpen:!1})},bodyQuestion:Object(re.jsx)(a.Fragment,{children:this.state.responseModalErrorOpen&&this.state.responseModalErrorOpen.map((function(e){return Object(re.jsx)("div",{className:"is-error",children:e})}))}),question:"Unable to merge golfers",confirmLabel:"Ok",modalIcon:"error_outline"})]})}}]),s}(a.Component),vd=function(e){return e.last_name+(e.suffix?" "+e.suffix+", ":", ")+(e.prefix?e.prefix+" ":"")+e.first_name+" "+(e.middle_name?e.middle_name:"")},xd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s);var i="";(a=t.call(this,e)).props.fromAccountCommand&&(i=a.props.fromAccountCommand.ghinNumber.toString());return a.state={ghinMergedGolfer:i,golferOne:null,golferTwo:null,currentGolfer:null,confirmationModalOpen:!1,unMergeLoading:!1,responseModalOpen:!1,id:null,idError:!1,nameError:null},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){if(this.props.fromAccountCommand){var e=new Event("default");this.populateGolfers(e)}}},{key:"setInitialState",value:function(){this.setState({ghinMergedGolfer:"",golferOne:null,golferTwo:null,currentGolfer:null,confirmationModalOpen:!1,unMergeLoading:!1,responseModalOpen:!1,id:null,idError:!1,nameError:null})}},{key:"populateGolfers",value:function(e){var t=this,s="";s="default"===e.type?this.state.ghinMergedGolfer:e.target.validity.valid?e.target.value:this.state.ghinMergedGolfer,this.setState({ghinMergedGolfer:s}),Bt.getGolferMerges(s).then((function(e){if(e.errors){var a=e.errors[0];"This golfer is Archived and cannot be unmerged."!==a&&(a="GHIN # is not a merged golfer."),t.setState({idError:!0,nameError:a})}else{var i=e.golfer,n=e.merged_golfer;n.PlayerName=vd(e.merged_golfer);var o=e.merger_golfer;o.PlayerName=vd(e.merger_golfer),document.getElementById("golferOne").value=e.merged_golfer.id,document.getElementById("golferTwo").value=e.merger_golfer.id,t.setState({currentGolfer:i,golferOne:n,golferTwo:o,idError:!1,nameError:null,id:s})}})).catch((function(e){console.error(e)}))}},{key:"unMergeGolfers",value:function(){var e=this;this.setState({unMergeLoading:!0},(function(){Bt.unmergeGolfers({ghin_number:e.state.id}).then((function(t){document.getElementById("golferOne").value="",document.getElementById("golferTwo").value="",document.getElementById("mergedGolfer").value="",e.setState({confirmationModalOpen:!1,responseModalErrorOpen:!1,responseModalOpen:!0})})).catch((function(e){}))}))}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Merged Golfer Record"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsxs)("div",{className:"col is-full",children:[Object(re.jsx)("input",{id:"mergedGolfer",value:this.state.ghinMergedGolfer,onChange:function(t){return e.populateGolfers(t)},type:"text",pattern:"[0-9]*",autoComplete:"off",placeholder:"GHIN Number"}),this.state.idError&&Object(re.jsx)("span",{className:"validation__message is-error",children:this.state.nameError})]})}),Object(re.jsx)(gd,{golfer:this.state.currentGolfer})]})})]})}),Object(re.jsx)("div",{className:"col is-1-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Golfer 1"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("input",{id:"golferOne",type:"text",autoComplete:"off",placeholder:"GHIN Number",disabled:!0})})}),Object(re.jsx)(gd,{golfer:this.state.golferOne})]})})]})}),Object(re.jsx)("div",{className:"col is-1-of-3 jc-fs",children:Object(re.jsxs)("div",{className:"panel",children:[Object(re.jsx)("div",{className:"panel__head",children:"Golfer 2"}),Object(re.jsx)("div",{className:"panel__body",children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-full",children:Object(re.jsx)("input",{id:"golferTwo",type:"text",autoComplete:"off",placeholder:"GHIN Number",disabled:!0})})}),Object(re.jsx)(gd,{golfer:this.state.golferTwo})]})})]})})]}),this.state.currentGolfer&&this.state.currentGolfer.has_digital_profile&&Object(re.jsxs)("div",{className:"col auto push-right",children:[Object(re.jsx)("span",{className:"validation__message is-error",children:"When unmerged, each golfer will need to create a new Digital Profile."}),Object(re.jsx)("br",{})]}),Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col auto push-right",children:Object(re.jsx)("button",{onClick:function(t){t.preventDefault(),e.state.golferOne&&e.state.golferTwo&&e.setState({confirmationModalOpen:!0})},className:"btn fill green",children:"Unmerge"})})})]}),this.state.confirmationModalOpen&&Object(re.jsx)(cs,{openModal:this.state.confirmationModalOpen,onConfirmAction:function(){return e.unMergeGolfers()},onCancelAction:function(){e.setState({confirmationModalOpen:!1})},closeModal:function(){e.setState({confirmationModalOpen:!1})},loading:this.state.unMergeLoading,bodyQuestion:Object(re.jsxs)(a.Fragment,{children:[this.state.golferOne.PlayerName," - ",this.state.golferOne.id,Object(re.jsx)("br",{})," ",this.state.golferTwo.PlayerName," - ",this.state.golferTwo.id]}),question:"Are you sure you want to unmerge the following golfers?",cancelLabel:"No",confirmLabel:"Yes",modalIcon:"help_outline"}),this.state.responseModalOpen&&Object(re.jsx)(cs,{openModal:this.state.responseModalOpen,onConfirmAction:function(){return e.setInitialState()},onCancelAction:function(){e.setState({responseModalOpen:!1})},closeModal:function(){e.setState({responseModalOpen:!1})},bodyQuestion:"Golfers have been unmerged successfully.",question:"Success!",confirmLabel:"Ok",modalIcon:"check_circle"})]})}}]),s}(a.Component),yd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);var i="merge";return e.fromAccountCommand&&(i=e.fromAccountCommand.pageType),a.state={selectedAction:i},a}return Object(c.a)(s,[{key:"changeAction",value:function(e,t){this.setState({selectedAction:t})}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)("div",{className:"columns",children:[Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsxs)("div",{className:"custom-radio__container",children:[Object(re.jsx)("input",{id:"merge",type:"radio",name:"merge",onChange:function(t){return e.changeAction(t,"merge")},checked:"merge"===this.state.selectedAction}),Object(re.jsx)("label",{htmlFor:"merge",children:"Merge"}),Object(re.jsx)("input",{id:"unmerge",type:"radio",name:"unmerge",onChange:function(t){return e.changeAction(t,"unmerge")},checked:"unmerge"===this.state.selectedAction}),Object(re.jsx)("label",{htmlFor:"unmerge",children:"Unmerge"})]})})}),"unmerge"===this.state.selectedAction&&Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"col jc-c",children:Object(re.jsxs)("span",{children:[Object(re.jsx)("span",{className:"bold red",children:"Important:"}),"  Unmerging records will return them to their original state.  Any scores posted to the merged record will be lost.  Please export the golfers scoring record prior to unmerging the records."]})})}),Object(re.jsxs)("div",{className:"row",children:["merge"===this.state.selectedAction&&Object(re.jsx)(_d,{fromAccountCommand:this.props.fromAccountCommand}),"unmerge"===this.state.selectedAction&&Object(re.jsx)(xd,{fromAccountCommand:this.props.fromAccountCommand})]})]})})}}]),s}(a.Component),Nd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){Ee.accesses()}},{key:"render",value:function(){return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)(Pt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)("div",{className:"page__head",children:Object(re.jsx)("h2",{className:"page__title",children:"Merges"})}),Object(re.jsxs)("ul",{className:"page__tabs",children:[Object(re.jsx)("li",{children:Object(re.jsx)("a",{href:"#donothing",onClick:function(e){e.preventDefault()},className:"page__tab is-active",children:"Golfer"})}),Object(re.jsx)("span",{className:"message-align red",children:"When performing merges, please choose the golfer with the richest revision history as the winner."})]}),Object(re.jsx)("section",{className:"page__tab-panel",children:Object(re.jsx)(yd,{fromAccountCommand:this.props.location.fromAccountProps})})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component),Sd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){var s={filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))};"association_id"===e&&(s.filters.club=null,s.clubs=[]),a.setState(s,(function(){a.updateTable(),"association_id"===e&&a.loadClubs(t.value)}))},a.updateTable=us()((function(){var e=qs.filtersToArray(a.state.filters);a.props.updateFiltered(e)}),200),a.state={associations:[],clubs:[],filters:{search:a.props.searchText}},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadAssociations()}},{key:"reset",value:function(){var e=this;this.setState({filters:{search:"",email:"",gender:"",authorized:null,is_test:null,is_dac:null,technology_provider:null,club_id:null,association_id:null}},(function(){e.updateTable()}))}},{key:"loadAssociations",value:function(){var e=this;return Zt.getGolfAssociations("global").then((function(t){e.setState({associations:t.associations.map((function(e){return{label:e.name,value:e.id}})).sort((function(e,t){return e.label.localeCompare(t.label)}))})}))}},{key:"loadClubs",value:function(e){var t=this;return rs.getAllClubs(e,{}).then((function(e){t.setState({clubs:e.clubs.map((function(e){return{label:e.club_name,value:e.id}})).sort((function(e,t){return e.label.localeCompare(t.label)}))})}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-7",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Golfer Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.search,name:"golfer-name",id:"golfer-name",onChange:function(t){e.updateFilter("search",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Membership Status"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{value:"M",label:"Male"},{value:"F",label:"Female"}],value:this.state.filters.gender,onChange:function(t){return e.updateFilter("gender",t)},label:"Gender"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{isSearchable:!0,singleChoice:!0,options:this.state.associations,value:this.state.filters.association_id,onChange:function(t){return e.updateFilter("association_id",t)},label:"Association"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{isSearchable:!0,singleChoice:!0,options:this.state.clubs,value:this.state.filters.club_id,onChange:function(t){return e.updateFilter("club_id",t)},label:"Club"})}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Email"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.email,name:"email-name",id:"email-name",onChange:function(t){e.updateFilter("email",t.target.value)}})]})]})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})})})}}]),s}(a.Component),Cd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),(a=t.call(this,e)).loadGolferList=us()((function(){a.setState({loading:!0,golfers:[]});var e=a.getRequestParams();Bt.getGolfers(e).then((function(e){a.setState({loading:!1,isAllSelected:!1,global_search:!0,golfers:e.golfers.map((function(e){return Object(j.a)(Object(j.a)({},e),{full_name:(t=e,t.last_name+(t.suffix?" "+t.suffix+", ":", ")+(t.prefix?t.prefix+" ":"")+t.first_name+" "+(t.middle_name?t.middle_name:""))});var t})),total:parseInt(e["total-count"],10),per_page:parseInt(e["per-page"],10),pages:parseInt(e["total-pages"],10)})}))}),1e3);var i=decodeURI(a.props.location.search.substring(3));return a.state={tableFilterIsHidden:!1,associations:[],filtered:[],sorted:[{id:"full_name",desc:!1}],searchText:i||"",isAllSelected:!1,golfers:[],page:0,per_page:25,isExportDataOpened:!1,selectedGolfers:[],tableInternalData:[]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadGolferList()}},{key:"getRequestParams",value:function(){var e={page:this.state.page+1,per_page:this.state.per_page,global_search:!0};return this.state.sorted.length>0&&(e.sorting_criteria=this.state.sorted[0].id,e.order=this.state.sorted[0].desc?"desc":"asc"),(e=Object(j.a)(Object(j.a)({},e),qs.filtersArrayToParams(this.state.filtered))).search||(e.search=this.state.searchText),e}},{key:"updateFilter",value:function(e){var t=this;this.setState({filtered:e,page:0},(function(){t.loadGolferList()}))}},{key:"render",value:function(){var e=this,t=[{accessor:"id",show:!1},{accessor:"last_name",show:!1},{Header:"Name",accessor:"full_name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())},Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.original.association_id,"/club/").concat(e.original.club_id,"/golfer/").concat(e.original.ghin),children:e.row.full_name})})}},{Header:"Status",accessor:"status",colClassName:"col_status"},{Header:"H.I.",accessor:"handicap_index",colClassName:"col_handicap-index"},{Header:"GHIN #",accessor:"ghin",colClassName:"col_gender"},{Header:"Gender",accessor:"gender",colClassName:"col_gender"},{Header:"Email Address",accessor:"email",sortable:!1,colClassName:"col_club-name",Cell:function(e){return e.row._original.entitlement?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto:".concat(e.value),children:e.value})}):Object(re.jsx)("span",{children:e.value})}},{Header:Object(re.jsxs)(a.Fragment,{children:["Golfer ",Object(re.jsx)("br",{})," State/Prov"]}),accessor:"state",colClassName:"col_state"},{Header:"Club Name",accessor:"club_name",colClassName:"col_club-name",Cell:function(e){return e.row._original.entitlement?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.original.association_id,"/club/").concat(e.original.club_id),children:e.value})}):Object(re.jsx)("span",{children:e.value})}},{Header:"Country",accessor:"country",colClassName:"col_phone-number"}];return Object(re.jsxs)("section",{className:"default",children:[Object(re.jsx)(Sd,{updateFiltered:this.updateFilter.bind(this),searchText:this.state.searchText}),Object(re.jsxs)("h2",{className:"section__title large",children:["Golfer Results (",this.state.total?this.state.total:0,")"]}),Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.golfers,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.loadGolferList()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.loadGolferList()}))},sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t,page:0},(function(){e.loadGolferList()}))},hideSelect:!0})]})}}]),s}(a.Component),kd=[{value:!0,label:"Yes"},{value:!1,label:"No"}],Ad=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){a.setState({filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))},(function(){a.updateTable()}))},a.updateTable=us()((function(){var e=qs.filtersToArray(a.state.filters);a.props.updateFiltered(e)}),200),a.state={filters:{name:a.props.searchText}},a}return Object(c.a)(s,[{key:"reset",value:function(){var e=this;this.setState({filters:{name:"",is_aga:"",authorized:null,is_test:null,is_dac:null,technology_provider:null}},(function(){e.updateTable()}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters columns",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"golfer-name",children:"Association Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.name,name:"association-name",id:"association-name",onChange:function(t){e.updateFilter("name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Status"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:kd,singleChoice:!0,value:this.state.filters.is_aga,onChange:function(t){return e.updateFilter("is_aga",t)},label:"Is AGA ?"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["GHIN","BlueGolf","GolfNet","AdminEscape"],value:this.state.filters.FrontEndProvider,onChange:function(t){return e.updateFilter("FrontEndProvider",t)},label:"Front End Provider"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:kd,singleChoice:!0,value:this.state.filters.is_test,onChange:function(t){return e.updateFilter("is_test",t)},label:"Is Test Association ?"})})]})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})}}]),s}(a.Component),Md=s(478),wd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),(a=t.call(this,e)).loadAssociationSummary=us()((function(){var e=a.table.getFilteredData();a.setState(Object(j.a)({},a.generateCountSummary(e)))}),200);var i=Md.parse(a.props.location.search,{ignoreQueryPrefix:!0});return a.state={filtered:[{id:"name",value:i.q||""}],searchText:i.q||"",data:[],page:1,per_page:25,total:0,loading:!0},a}return Object(c.a)(s,[{key:"loadAssociations",value:function(){var e=this;return this.setState({loading:!0}),Zt.getGolfAssociations("global").then((function(t){e.setState({loading:!1,data:t.associations},(function(){e.loadAssociationSummary()}))}))}},{key:"generateCountSummary",value:function(e){return{total:e.length}}},{key:"componentDidMount",value:function(){this.loadAssociations()}},{key:"render",value:function(){var e=this,t=[{Header:"#",accessor:"id",colClassName:"col_id"},{Header:"aga",accessor:"is_aga",show:!1},{Header:"is_test",accessor:"is_test",show:!1},{Header:"association_group_id",accessor:"association_group_id",show:!1},{Header:"Name",accessor:"name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())||t.id===parseInt(e.value,10)},Cell:function(e){return e.row._original.entitlement?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.row.id,"/list"),children:e.value})}):Object(re.jsx)("span",{children:e.value})},colClassName:"col_assoc-name"},{Header:"Status",accessor:"status",colClassName:"col_status"},{Header:"City",accessor:"city",colClassName:"col_city"},{Header:"State/Prov",accessor:"state",colClassName:"col_state"},{Header:"Country",accessor:"country",colClassName:"col_country"},{Header:"Contact Name",accessor:"primary_contact_name",colClassName:"col_contact"},{Header:"Phone Number",accessor:"telephone",colClassName:"col_phone-number"},{Header:"Email Address",accessor:"email",colClassName:"col_email",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto: ".concat(e.value),children:e.value})})}},{Header:"Website",accessor:"web_address",colClassName:"col_email",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"//".concat(e.value),children:e.value})})}}];return Object(re.jsxs)("section",{className:"default",children:[Object(re.jsx)(Ad,{searchText:this.state.searchText,updateFiltered:function(t){e.setState({filtered:t,page:1},(function(){return e.loadAssociationSummary()}))}}),Object(re.jsxs)("h2",{className:"section__title large",children:["Association Results (",this.state.total?this.state.total:0,")"]}),Object(re.jsx)($t,{columns:t,data:this.state.data,filtered:this.state.filtered,ref:function(t){return e.table=t},defaultSorted:[{id:"name",desc:!1}],sortable:!0,loading:this.state.loading,hideSelect:!0,pageSize:this.state.per_page,onPageChange:function(t){return e.setState({page:t},(function(){return e.loadAssociationSummary()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.loadAssociationSummary()}))}})]})}}]),s}(a.Component),Id=[{value:!0,label:"Yes"},{value:!1,label:"No"}],Td=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){a.setState({filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))},(function(){a.updateTable()}))},a.updateTable=us()((function(){var e=qs.filtersToArray(a.state.filters);a.props.updateFiltered(e)}),200),a.state={associations:[],filters:{club_name:a.props.searchText}},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadAssociations()}},{key:"reset",value:function(){var e=this;this.setState({filters:{status:"",club_name:"",club_type:null,association_id:"",authorized:null,is_test:null,is_dac:null,technology_provider:null}},(function(){e.updateTable()}))}},{key:"loadAssociations",value:function(){var e=this;return Zt.getGolfAssociations("global").then((function(t){e.setState({associations:t.associations.map((function(e){return{label:e.name,value:e.id}})).sort((function(e,t){return e.label.toString().localeCompare(t.label.toString())}))})}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"filters__inputs col",children:[Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Club Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.club_name,name:"club-name",id:"club-name",onChange:function(t){e.updateFilter("club_name",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{isSearchable:!0,singleChoice:!0,options:this.state.associations,value:this.state.filters.association_id,onChange:function(t){return e.updateFilter("association_id",t)},label:"Association"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Club Status"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Affiliate","Military","Private","Public","Resort","Semi-Private","Not Specified"],value:this.state.filters.club_category,onChange:function(t){return e.updateFilter("club_category",t)},label:"Club Category"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Type 1","Type 2","Type 3"],value:this.state.filters.club_type,onChange:function(t){return e.updateFilter("club_type",t)},label:"Club Type"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:[{label:"Yes",value:!0},{label:"No",value:!1}],value:this.state.filters.authorized,singleChoice:!0,onChange:function(t){return e.updateFilter("authorized",t)},label:"Authorized?"})})]}),Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{singleChoice:!0,options:[{value:!0,label:"DAC only"},{value:!1,label:"Non-DAC"}],value:this.state.filters.is_dac,onChange:function(t){return e.updateFilter("is_dac",t)},label:"Handicap Oversight"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:Is,value:this.state.filters.technology_provider,onChange:function(t){return e.updateFilter("technology_provider",t)},label:"Front End Provider"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:Id,singleChoice:!0,value:this.state.filters.is_test,onChange:function(t){return e.updateFilter("is_test",t)},label:"Is Test club ?"})})]})]}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})})})}}]),s}(a.Component),Ed=s(478),Fd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);var i=Ed.parse(a.props.location.search,{ignoreQueryPrefix:!0});return a.state={tableFilterIsHidden:!1,associations:[],filtered:[{id:"club_name",value:i.q||""}],sorted:[{id:"club_name",desc:!1}],searchText:i.q||"",isAllSelected:!1,clubs:[],page:0,per_page:25,isExportDataOpened:!1,selectedClubs:[],tableInternalData:[]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadClubList()}},{key:"getClubRequestParams",value:function(){var e={page:this.state.page+1,per_page:this.state.per_page,global_search:!0};return this.state.sorted.length>0&&(e.sorting_criteria=this.state.sorted[0].id,e.order=this.state.sorted[0].desc?"desc":"asc"),e=Object(j.a)(Object(j.a)({},e),qs.filtersArrayToParams(this.state.filtered))}},{key:"loadClubList",value:function(){var e=this;this.setState({loading:!0});var t=this.getClubRequestParams();Zt.getClubs(t).then((function(t){e.setState({loading:!1,isAllSelected:!1,clubs:t.clubs.map((function(e){return Object(j.a)(Object(j.a)({},e),{},{date:ue()(e.date).format("MM/DD/YYYY")})})),total:parseInt(t["total-count"],10),per_page:parseInt(t["per-page"],10),pages:parseInt(t["total-pages"],10),inactive:parseInt(t["total-count"],10)-parseInt(t.meta.active_clubs_count,10),active:parseInt(t.meta.active_clubs_count,10)})}))}},{key:"updateFilter",value:function(e){var t=this;this.setState({filtered:e,page:0},(function(){t.loadClubList()}))}},{key:"render",value:function(){var e=this,t=[{accessor:"id",show:!1,colClassName:"col_club-name"},{accessor:"club_category",show:!1},{accessor:"technology_provider",show:!1},{accessor:"golf_association_id",show:!1},{Header:"Club Name",accessor:"club_name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())},Cell:function(e){return e.row._original.entitlement?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.row.golf_association_id,"/club/").concat(e.row.id),children:e.value})}):Object(re.jsx)("span",{children:e.value})},colClassName:"col_club-name"},{Header:"Status",accessor:"status",colClassName:"col_status"},{Header:"City",accessor:"city",colClassName:"col_city"},{Header:"State",accessor:"state",colClassName:"col_city"},{Header:"Phone",accessor:"phone",colClassName:"col_phone-number"},{Header:"Email",accessor:"email",colClassName:"col_email",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto: ".concat(e.value),children:e.value})})}},{Header:"Website",accessor:"website",colClassName:"col_website",Cell:function(e){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"//".concat(e.value),children:e.value})})}}];return Object(re.jsxs)("section",{className:"default",children:[Object(re.jsx)(Td,{updateFiltered:this.updateFilter.bind(this),searchText:this.state.searchText}),Object(re.jsxs)("h2",{className:"section__title large",children:["Club Results (",this.state.total?this.state.total:0,")"]}),Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.clubs,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.loadClubList()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.loadClubList()}))},sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t,page:0},(function(){e.loadClubList()}))},hideSelect:!0})]})}}]),s}(a.Component),Dd=[{label:"Father",value:"Father"},{label:"Mother",value:"Mother"},{label:"Legal Guardian",value:"Legal Guardian"},{label:"Coach",value:"Coach"},{label:"Other",value:"Other"}],Pd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).updateFilter=function(e,t){var s={filters:Object(j.a)(Object(j.a)({},a.state.filters),{},Object(Et.a)({},e,t))};"association_id"===e&&(s.filters.club=null,s.clubs=[]),a.setState(s,(function(){a.updateTable(),"association_id"===e&&a.loadClubs(t.value)}))},a.updateTable=us()((function(){var e=qs.filtersToArray(a.state.filters);a.props.updateFiltered(e)}),200),a.state={associations:[],clubs:[],filters:{search:a.props.searchText}},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadAssociations()}},{key:"reset",value:function(){var e=this;this.setState({filters:{search:"",email:"",gender:"",authorized:null,is_test:null,is_dac:null,technology_provider:null,club_id:null,association_id:null}},(function(){e.updateTable()}))}},{key:"loadAssociations",value:function(){var e=this;return Zt.getGolfAssociations("global").then((function(t){e.setState({associations:t.associations.map((function(e){return{label:e.name,value:e.id}})).sort((function(e,t){return e.label.localeCompare(t.label)}))})}))}},{key:"loadClubs",value:function(e){var t=this;return rs.getAllClubs(e,{}).then((function(e){t.setState({clubs:e.clubs.map((function(e){return{label:e.club_name,value:e.id}})).sort((function(e,t){return e.label.localeCompare(t.label)}))})}))}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"filters columns",children:Object(re.jsx)("div",{className:"row",children:Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsx)("div",{className:"filters__inputs col",children:Object(re.jsxs)("div",{className:"row",children:[Object(re.jsxs)("div",{className:"col is-1-of-7",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Guardian Name"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.search,name:"golfer-name",id:"golfer-name",onChange:function(t){e.updateFilter("search",t.target.value)}})]}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{options:["Active","Inactive","Archived"],value:this.state.filters.status,onChange:function(t){return e.updateFilter("status",t)},label:"Guardianship Status"})}),Object(re.jsx)("div",{className:"col is-1-of-6",children:Object(re.jsx)(Bs,{singleChoice:!0,options:Dd,value:this.state.filters.relationship,onChange:function(t){return e.updateFilter("relationship",t)},label:"Relationship"})}),Object(re.jsxs)("div",{className:"col is-1-of-6",children:[Object(re.jsx)("label",{htmlFor:"association-name",children:"Email"}),Object(re.jsx)("input",{type:"text",autoComplete:"off",value:this.state.filters.email,name:"email-name",id:"email-name",onChange:function(t){e.updateFilter("email",t.target.value)}})]})]})}),Object(re.jsx)("div",{className:"filters__controls col is-1-of-7 jc-fe",children:Object(re.jsx)("button",{className:"btn fill gray",onClick:this.reset.bind(this),children:"Reset"})})]})})})})})}}]),s}(a.Component),Gd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;Object(r.a)(this,s),a=t.call(this,e);var i=decodeURI(a.props.location.search.substring(3));return a.state={tableFilterIsHidden:!1,associations:[],filtered:[],sorted:[{id:"full_name",desc:!1}],searchText:i||"",isAllSelected:!1,guardians:[],page:0,per_page:25,isExportDataOpened:!1,selectedGolfers:[],tableInternalData:[]},a}return Object(c.a)(s,[{key:"componentDidMount",value:function(){this.loadGuardianList()}},{key:"getRequestParams",value:function(){var e={page:this.state.page+1,per_page:this.state.per_page,global_search:!0};return this.state.sorted.length>0&&(e.sorting_criteria=this.state.sorted[0].id,e.order=this.state.sorted[0].desc?"desc":"asc"),(e=Object(j.a)(Object(j.a)({},e),qs.filtersArrayToParams(this.state.filtered))).search||(e.search=this.state.searchText),e}},{key:"updateFilter",value:function(e){var t=this;this.setState({filtered:e,page:0},(function(){t.loadGuardianList()}))}},{key:"loadGuardianList",value:function(){var e=this;this.setState({loading:!0,golfers:[]});var t=this.getRequestParams();fs.getGuardians(t).then((function(t){e.setState({loading:!1,isAllSelected:!1,global_search:!0,guardians:t.guardians.map((function(e){return Object(j.a)(Object(j.a)({},e),{full_name:(t=e,t.last_name+(t.suffix?" "+t.suffix+", ":", ")+(t.prefix?t.prefix+" ":"")+t.first_name+" "+(t.middle_name?t.middle_name:""))});var t})),total:parseInt(t["total-count"],10),per_page:e.state.per_page,pages:parseInt(t["total-pages"],10)})}))}},{key:"render",value:function(){var e=this,t=[{accessor:"id",show:!1},{Header:"Guardian Name",accessor:"full_name",filterMethod:function(e,t){return-1!==t[e.id].toLowerCase().indexOf(e.value.toLowerCase())},Cell:function(e){return e.original.golfer_id?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/association/".concat(e.original.golf_association_id,"/club/").concat(e.original.club_id,"/golfer/").concat(e.original.golfer_id),children:e.row.full_name})}):Object(re.jsx)(a.Fragment,{children:Object(re.jsx)(f.NavLink,{to:"/manage/guardian/".concat(e.original.id),children:e.row.full_name})})}},{Header:"Guardian GHIN #",Cell:function(e){return Object(re.jsx)(re.Fragment,{children:e.original.golfer_id||"N/A"})},colClassName:"col_ghin"},{Header:"Guardianship Status",accessor:"status",colClassName:"col_guardianship_status"},{Header:"Relationship",Cell:function(e){return Object(re.jsxs)(re.Fragment,{children:["Other"===e.original.relationship?"Other - ".concat(e.original.other_relationship):e.original.relationship,"  "]})},colClassName:"col_relationship"},{Header:"Guardian Email Address",accessor:"email",sortable:!1,colClassName:"col_club-name",Cell:function(e){return e.row._original.entitlement?Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("a",{href:"mailto:".concat(e.value),children:e.value})}):Object(re.jsx)("span",{children:e.value})}},{Header:"Golfer Name",accessor:"minor_name",colClassName:"col_golfer-name"}];return Object(re.jsxs)("section",{className:"default",children:[Object(re.jsx)(Pd,{updateFiltered:this.updateFilter.bind(this),searchText:this.state.searchText}),Object(re.jsxs)("h2",{className:"section__title large",children:["Guardian Results (",this.state.total?this.state.total:0,")"]}),Object(re.jsx)($t,{loading:this.state.loading,columns:t,pages:this.state.pages,page:this.state.page,total:this.state.total,manual:!0,pageSize:this.state.per_page,data:this.state.guardians,ref:function(t){return e.table=t},onPageChange:function(t){return e.setState({page:t},(function(){return e.loadGuardianList()}))},onPageSizeChange:function(t,s){return e.setState({per_page:t,page:s},(function(){return e.loadGuardianList()}))},sorted:this.state.sorted,onSortedChange:function(t,s,a){e.setState({sorted:t,page:0},(function(){e.loadGuardianList()}))},hideSelect:!0})]})}}]),s}(a.Component),Rd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){Ee.accesses()}},{key:"render",value:function(){var e=this;return Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(wt,{}),Object(re.jsx)(Tt,{}),Object(re.jsx)("main",{children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)(ii,{title:this.props.location.pathname.split("/")[2]+" Search"}),Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/golfer"),component:function(){return Object(re.jsx)(Cd,Object(j.a)({},e.props))},props:this.props}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/club"),component:function(){return Object(re.jsx)(Fd,Object(j.a)({},e.props))},props:this.props}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/association"),component:function(){return Object(re.jsx)(wd,Object(j.a)({},e.props))},props:this.props}),Object(re.jsx)(u.d,{path:"".concat(this.props.match.url,"/guardian"),component:function(){return Object(re.jsx)(Gd,Object(j.a)({},e.props))},props:this.props})]})]})}),Object(re.jsx)(Ht,{})]})}}]),s}(a.Component),Hd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){Ee.accesses()}},{key:"goToAnchor",value:function(e){var t=document.location.toString().split("#")[0];return document.location=t+"#"+e,!1}},{key:"render",value:function(){var e=this;return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"simple__page",children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)("p",{className:"text-align-center",children:"UNITED STATES GOLF ASSOCIATION"}),Object(re.jsx)("p",{className:"text-align-center",children:"PRIVACY POLICY"}),Object(re.jsx)("p",{className:"text-align-center",children:"(Last Updated May 2018)"}),Object(re.jsxs)("p",{children:["The United States Golf Association (\u201c",Object(re.jsx)("strong",{children:"USGA"}),"\u201d or \u201c",Object(re.jsx)("strong",{children:"we"}),"\u201d or \u201c",Object(re.jsx)("strong",{children:"us"}),"\u201d or \u201c",Object(re.jsx)("strong",{children:"our"}),"\u201d) recognizes the importance users of our websites and mobile applications place on the privacy of their information. We created this privacy policy statement (\u201c",Object(re.jsx)("strong",{children:"Privacy Policy"}),"\u201d) to demonstrate our firm commitment to protecting the privacy of your information as described below and to explain the privacy policies and procedures of the USGA."]}),Object(re.jsxs)("p",{children:["This Privacy Policy governs the privacy practices and procedures of the USGA with respect to the data it collects from users of the suite of products and services that are part of GHIN Technology Services (including GHIN.com, GHIN Kiosks, USGA Admin Portal, Tournament Pairing Program and USGA Tournament Management) distributed through USGA\u2019s (or it\u2019s licensor\u2019s) web sites and properties (\u201c",Object(re.jsx)("strong",{children:"USGA Web Sites"}),"\u201d) and their associated USGA mobile applications (\u201c",Object(re.jsx)("strong",{children:"USGA Mobile Apps"}),"\u201d), if any.\xa0The USGA Web Sites and the USGA Mobile Apps are herein collectively referred to as the \u201c",Object(re.jsx)("strong",{children:"USGA Products"}),"\u201d."]}),Object(re.jsxs)("p",{children:["By using the applicable USGA Products, you are consenting to the practices and procedures described in this Privacy Policy and in the USGA\u2019s ",Object(re.jsx)(f.Link,{to:"./terms-and-conditions",children:"Terms of Service"}),"  into which this Privacy Policy is incorporated. If you do not agree with the practices and procedures described in this Privacy Policy or in the ",Object(re.jsx)(f.Link,{to:"./terms-and-conditions",children:"Terms of Service"})," , please discontinue using all of the USGA Products and follow the applicable procedures described in the ",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("optout")},children:"Opt Out"})," section of this Privacy Policy."]}),Object(re.jsxs)("p",{children:[Object(re.jsx)("strong",{children:"PLEASE NOTE -"})," WE SHARE CERTAIN PERSONAL AND NON-PERSONAL INFORMATION ABOUT YOU WITH REGIONAL ASSOCIATIONS AND SUB-ASSOCIATIONS, MEMBER CLUBS, OTHER GOLFERS, APPROVED TECHNOLOGY PROVIDERS, AND IN SOME INSTANCES WITH THE PUBLIC, SO PLEASE MAKE SURE YOU READ THIS PRIVACY POLICY CAREFULLY, INCLUDING THE SECTION ENTITLED ",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("sharing")},children:"SHARING WITH REGIONAL ASSOCIATIONS, MEMBER CLUBS, GOLFERS AND APPROVED TECHNOLOGY PROVIDERS"}),".\xa0As used herein, the term \u201c",Object(re.jsx)("strong",{children:"Regional Associations"}),"\u201d shall mean Allied Golf Associations, State and Regional Golf Associations and any other golf associations that can access and use the USGA Products, and the term \u201c",Object(re.jsx)("strong",{children:"Approved Technology Providers"}),"\u201d shall mean golf related technology providers who have been pre-approved by the USGA."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Table of Contents"})}),Object(re.jsx)("p",{children:"Please click on a section title below to skip to that section of this Privacy Policy."}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("policy")},children:"Policy Changes"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("information")},children:"What Information Does the USGA Collect?"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("personalinfo")},children:"How Does the USGA Use My Information?"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("sharing")},children:"Sharing with Regional Associations, Member Clubs, Golfers and Approved Technology Providers"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("thirdparties")},children:"Sharing with Other Third Parties"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("cookies")},children:"Cookies, Third Party Advertisers, Analytics and Social Networking"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("protection")},children:"How Does The USGA Try to Protect My Information?"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("deactivation")},children:"Account Deactivation"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("links")},children:"Links to Other Web Sites"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("children")},children:"Children\u2019s Online Privacy Protection"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("consent")},children:"Consent to Worldwide Transfer and Processing of Personal Information"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("change")},children:"Change Information"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("optout")},children:"Opt Out"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("california")},children:"California Privacy Rights"})}),Object(re.jsx)("p",{children:Object(re.jsx)("button",{onClick:function(){e.goToAnchor("contactus")},children:"Contact Us"})}),Object(re.jsx)("p",{id:"policy",children:Object(re.jsx)("strong",{children:"Policy Changes"})}),Object(re.jsxs)("p",{children:["The USGA has the right to change or modify any part of the ",Object(re.jsx)(f.Link,{to:"./terms-and-conditions",children:"Terms of Service"})," (including this Privacy Policy), or to impose new conditions on your use of the USGA Products, at any time.\xa0 Such changes, modifications, additions or deletions shall be effective immediately upon notice thereof, which may be given by any means including, but not limited to, posting within the USGA Products, by electronic mail, by messaging, or by any other means from which you may obtain notice thereof.\xa0 Any use of the",Object(re.jsx)("span",{id:"information"})," USGA Products by you subsequent to such notice shall be deemed to constitute your acceptance of such changes, modifications, additions, or deletions."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"What Information Does the USGA Collect?"})}),Object(re.jsxs)("p",{children:["The USGA collects two types of information from users of the USGA Products: (1) non-personal information as you interact with the USGA Products that cannot, in itself, be used to specifically identify or contact an individual (except as described below) (\u201c",Object(re.jsx)("strong",{children:"Non-Personal Information"}),"\u201d); and (2) personal information that can be used to specifically identify or contact an individual (\u201c",Object(re.jsx)("strong",{children:"Personal Information"}),"\u201d)."]}),Object(re.jsx)("p",{children:Object(re.jsx)("i",{children:"Non-Personal Information"})}),Object(re.jsx)("p",{children:"If you are using one of the USGA Products, we will automatically capture certain Non-Personal Information about you and your use of the USGA Product. For example, our web server automatically recognizes and collects certain Non-Personal Information about your visit to the USGA Products, such as your Internet Protocol (IP) address, Internet service provider and domain name. The USGA also collects usage and \u201cclickstream\u201d data, which includes a trail of electronic information captured when you use a USGA Product. The USGA uses cookies on the USGA Products, which are small pieces of data stored by your web browser or USGA Mobile App that contain data regarding your settings and preferences or other data used by and about your visits to the USGA Products. We use this information to, for example, recognize you and your computer or mobile device when you return to any of the USGA Products, provide you with access to certain account information you may have entered on any USGA Product, compile statistics about traffic to the USGA Products, and for other purposes consistent with this Privacy Policy. Your usage and clickstream data may tell us, for example and as applicable, the type of device and browsing software you are using and their settings (including language settings), your browser ID, general geographic information derived from your IP address, URL information, the address of the web site from which you linked to a USGA Product, the pages, content or ads you see or click on during your visit and when and for how long you do so, items you download, any search terms you have entered on the USGA Products or a referral site, the time stamps of your visits to the USGA Products and other similar types of information. Using analytics, we may also receive counts of the screens and features of the USGA Products that are used, the countries from which the USGA Product is used, time stamps of uses, device language settings, and the types of devices, operating systems, carriers, IP addresses, wireless connections you are using and other similar types of information. In addition, the USGA Product may assign a unique numerical identifier that is associated with other information about you. We work with analytics companies to help us understand how the USGA Products are being used, by how many users, for how long, and how frequently. We may use this data to determine how much time visitors spend on each page or section of any USGA Product, how visitors navigate throughout the USGA Products, and how we may tailor the USGA Products to better meet the needs of users and visitors. Except as described in this Privacy Policy for cross-site tracking, clickstream data will be anonymous and it is not our intention to use clickstream data to obtain any Personal Information."}),Object(re.jsxs)("p",{children:["You may be able to refuse cookies any time by turning them off in your Web browser. However, if you turn off cookies, certain features and functions of the USGA Products may not be available to you. To learn more about the use of cookies, including how to manage or delete them, ",Object(re.jsx)("a",{href:"http://www.allaboutcookies.org/",children:"click here"}),"."]}),Object(re.jsx)("p",{children:"The USGA uses Web beacons or similar technologies to help track usage and viewing of the USGA Products and communications (such as emails). Web beacons, also sometimes called single pixel GIFs or action tags, allow the USGA to track page and message viewing counts and patterns, which we use to focus and tailor future content development and otherwise measure and improve the performance of the USGA Products."}),Object(re.jsx)("p",{children:"Any or all of the above-described activities may be performed by us and/or on our behalf by our Representatives (defined below). These technologies enable us to assign a unique number to you, and relate your Non-Personal Information to other information about you, including your Personal Information. If we relate or combine your Non-Personal Information with your Personal Information, we will treat such related or combined information as Personal Information. These technologies also enable us to recognize you when you access the USGA Products using different Web browsers and different computers or devices."}),Object(re.jsx)("p",{children:Object(re.jsx)("i",{children:"Personal Information"})}),Object(re.jsx)("p",{children:"When you use a USGA Product, you may be asked to provide or otherwise choose to provide Personal Information about yourself, including, but not limited to, your name, employer, social security number, driver\u2019s license number or state identification card number, account number, credit card, debit card or other payment instrument information, security code, access code or password, birthdate, address, email address or other contact information, GHIN number or other golfer identification number, and certain golf play statistics (such as where played) about yourself that can be used on its own or with other information to identify, contact, or locate you, or to identify you in context."}),Object(re.jsx)("p",{children:"The USGA Mobile Apps may collect precise information about the geographic location of your device. If your device is equipped with GPS or can connect with wireless access points or hot spots, or if your device is also a phone that communicates with cell towers or satellites, then your device is able to use these features to determine its precise geographic location. If you have consented using your device\u2019s user interface, the geographic location of your device may be transmitted to our servers in real time any time that the USGA Mobile App is running (sometimes even if you are not actively using the USGA Mobile App or it is minimized on your device). Once you set your device to transmit its location information to us, your device will continue to transmit its location information to us until you set your device to no longer do so. You may at any time opt-out from further allowing us to have access to your device\u2019s location information by accessing the USGA Mobile App\u2019s location settings on your device and setting your device not to share its location with us. If there is any reasonable way such geolocation data can be associated with any of your Personal Information then we will treat such geolocation data as part of your Personal Information. Notwithstanding, you agree that we have the right to use any such geolocation data so long as we de-identify such data with any other Personal Information about you, and to the extent we so de-identify the data, the resulting data will be considered Non-Personal Information that we can use for research, marketing and any other legal purposes (e.g., tracking crowd movement in a tournament, etc.)."}),Object(re.jsx)("p",{children:"You may be able to send information about products and services to your friends and family members by clicking on a \u201cSend-to-a-Friend\u201d or similar button on the USGA Products, or in an e-mail that we have sent you. In some of these cases, you may provide the name and e-mail address of your friend or family member to us, and such information will be treated in accordance with this Privacy Policy and applicable law. In some parts of the USGA Product, you will also have an opportunity to provide us with Personal Information of third parties (i.e., other golfers, member golfers in your club or Regional Association). We will assume you have the required permission to do so and all such information will be treated within the USGA Product in accordance with this Privacy Policy and applicable law. You may also share information about yourself and others through social media and any such conduct shall be governed by the privacy policies of those social platforms."}),Object(re.jsxs)("p",{children:["The above are only examples of the types of Personal Information we may collect. The actual types of Personal Information",Object(re.jsx)("span",{id:"personalinfo"})," collected depend on the specific product or service you request, the types of transactions you conduct on the USGA Products and the various activities in which you participate."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"How Does the USGA Use My Information?"})}),Object(re.jsxs)("p",{children:["The USGA uses the information it collects (including Personal Information and Non-Personal Information) primarily to serve our needs and the needs of the Regional Associations, member clubs, golfers and Approved Technology Providers, including to administer and manage membership, manage tournaments, to calculate, manage and administer the ",Object(re.jsxs)("i",{children:["Handicap System",Object(re.jsx)("sup",{children:"TM"})]}),", and to better understand your needs, provide you with better products and services, and deliver the specific product, service, or information you requested. For example, we may use the information you provide for processing and evaluating your entry application, for processing your membership application, for processing transactions on certain USGA Products, for processing your registration on certain USGA Products, and for contacting you with regard to your membership, registration, transactions and other activities or accounts on the USGA Products."]}),Object(re.jsxs)("p",{children:["We may use your information to communicate back to you, to update you on products, services, and benefits of ours and select third parties, to personalize your experience on the USGA Products, to tailor ads displayed to you on the USGA Products and elsewhere to your interests and history with us, to contact you for market research or to provide you with marketing information, newsletters, or other information we think would be of particular interest. We may also use the information we collect to send you occasional e-mails about USGA news, announcements, or changes to the USGA Products. If you do not want to receive promotional e-mails from us, please notify us by following the procedures contained in our promotional e-mails or in the \u201c",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("optout")},children:"Opt Out"}),"\u201d section of this Privacy Policy. In addition, we may use your location information to send you relevant notifications and other information through the USGA Mobile Apps. If you wish to stop receiving notifications through the USGA Mobile App, you may change the settings for the USGA Mobile App and/or your device."]}),Object(re.jsxs)("p",{children:["Information obtained through the USGA Products (including both Personal Information and Non-Personal Information) may be combined and used in conjunction with information obtained through sources other than the USGA Products or at different times, including both offline and online sources. The USGA and our Representatives may use this combined information to",Object(re.jsx)("span",{id:"sharing"})," enhance and personalize your various experiences with us on and in connection with the USGA Products."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Sharing with Regional Associations, Member Clubs, Golfers and Approved Technology Providers"})}),Object(re.jsxs)("p",{children:[Object(re.jsxs)("i",{children:["The USGA will share your Personal Information and Non-Personal Information with Regional Associations, member clubs, other golfers, Approved Technology Providers, and sometimes the general public as described herein. Your Regional Association is tasked with administering the Handicap System",Object(re.jsx)("sup",{children:"TM"})," for its member clubs and golfers, therefore all related information about you will be shared among the USGA, the Regional Association and member clubs. Additionally, when a Regional Association or a member club manages a golf tournament using Tournament Pairing Program or USGA Tournament Management, then all information collected through such USGA Product will be shared among all organizations, entities and persons affiliated with that tournament. All information inputted by an individual when using the USGA Product will be shared with those organizations that either you or your organization is part of or managed by. For example, all information collected through the USGA Products from a golfer may be shared with the member club that the golfer belongs to and the Regional Association to which such member club belongs, and all information collected through the USGA Products from a member club may be shared with the Regional Association to which the member club belongs. Additionally, because Regional Associations play such a critical role in the administration of the USGA Products and managing regional qualifiers, they are given access rights (not edit rights) to the Personal Information and Non-Personal Information of all member clubs and golfers who use USGA Products; the Regional Association(s) and member club(s) to which golfers are a member have access and edit rights to your Personal Information and Non-Personal Information (prospective member club(s) have access rights in order to add golfers to their membership and after golfers have been added to their roster then they will have edit rights as well). If you or your Regional Association or member club uses an Approved Technology Provider, then such Approved Technology Provider will have access and edit rights to your Personal Information and Non-Personal Information.\xa0 Finally, as part of the peer review process, certain parts of a golfer\u2019s Personal Information and Non-Personal Information like name, golf club affiliation and golf data (scores, locations of play, dates played, etc.) will be generally available to the public (if you would like more information on peer review please refer to: "]}),Object(re.jsx)("a",{href:"http://www.usga.org/content/usga/home-page/handicapping/handicap-manual.html#!rule-14370",adhocenable:"false",children:Object(re.jsx)("i",{children:"Definition of PEER REVIEW"})}),Object(re.jsxs)("i",{children:[". THE SHARING OF INFORMATION AS DESCRIBED HEREIN IS AN ESSENTIAL REQUIREMENT OF THE USGA PRODUCTS AND ADMINISTRATION OF THE HANDICAP SYSTEM",Object(re.jsx)("sup",{children:"TM"}),". IF YOU DO NOT AGREE TO SUCH SHARING OF INFORMATION THEN YOU SHOULD IMMEDIATELY STOP USING THE USGA PRODUCTS AND REQUEST THAT THE MEMBER CLUB(S) AND THE ASSOCIATED REGIONAL ASSOCIATIONS NOT INCLUDE ANY OF YOUR INFORMATION IN ANY USGA PRODUCTS AND APPROVED TECHNOLOGY PROVIDERS."]})]}),Object(re.jsxs)("p",{children:[Object(re.jsx)("i",{children:"Furthermore, to the extent you or any third party uploads any Personal Information about you on a publicly available tournament event site hosted on a USGA Product, you understand that such Personal Information may be available to the general public and outside the control of the USGA.\xa0 You are responsible for controlling and monitoring any of your Personal Information uploaded on a publicly available tournament event site hosted on a USGA Product.\xa0 If You become aware of Personal Information about you on a publicly available tournament event site hosted on a USGA Product that has not been authorized by you, you may contact the USGA at "}),Object(re.jsx)("a",{href:"mailto:comments@usga.org",children:Object(re.jsx)("i",{children:"comments@usga.org"})}),Object(re.jsxs)("i",{children:[" to request removal of such information and the USGA will",Object(re.jsx)("span",{id:"thirdparties"})," make commercial reasonable efforts to comply subject to additional information the USGA may request from you for verification purposes."]})]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Sharing with Other Third Parties"})}),Object(re.jsx)("p",{children:"The USGA may share your information (including Personal Information and Non-Personal Information) with third parties in certain circumstances where it believes such sharing is (1) reasonably necessary to providing you with a requested service, (2) legally required, or (3) permitted by this Privacy Policy or otherwise by you."}),Object(re.jsxs)("p",{children:["For example, we may share your information (including Personal Information and Non-Personal Information) with our affiliates, technical consultants, service providers, third party auditors, third party partners or other third parties who use such information on our behalf to help make the USGA Products available, enhance their functionality, provide associated services, process your orders, or deliver content, samples, products, services, advertisements, gifts and prizes (our \u201c",Object(re.jsx)("strong",{children:"Representatives"}),"\u201d). Such Representatives include, for example, Web site or database hosting companies, address list hosting companies, e-mail service providers, analytics companies, advertising companies, distribution companies, fulfillment companies, payment processing companies and other similar vendors and services providers. We aim to implement reasonable and appropriate contractual and technical protections for limiting our Representatives\u2019 use of your information to these business activities."]}),Object(re.jsx)("p",{children:"We reserve the right to access and disclose your Personal Information and Non-Personal Information as required by courts or administrative agencies and to the extent required to permit us to investigate suspected fraud, harassment, or other violations of any law, rule, or regulation, the rules or policies of the USGA Products, or the rights of third parties, or to investigate any suspected conduct which the USGA deems improper. We may disclose your Personal Information and Non-Personal Information when we have reason to believe that someone is causing injury to or interference with our rights or property, other users of the USGA Products, or anyone else that could be harmed by such activities. We also reserve the right to transfer your Personal Information and other information in the event we, or a substantial portion of our assets, undergo a business restructuring, transfer of ownership, or similar transaction."}),Object(re.jsxs)("p",{children:["Except for the sharing of information as explained in this Privacy Policy, the USGA does not share your Personal Information with third party marketers without your permission, which we will seek to obtain either by an \u201copt-in\u201d or \u201copt-out\u201d method at the point of collection, or by other means, such as sending you an e-mail if we seek to share your information at a later point in time. You can also opt out of such sharing by notifying us in accordance with the \u201c",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("optout")},children:"Opt Out"}),"\u201d section of this Privacy Policy below. However, we reserve the right to freely share your Non-Personal Information for marketing and other purposes, with or without your consent. For example, we may disclose Non-Personal Information regarding our users and user behavior as a measure of interest in, and use of, the USGA Products to third parties, including, for example, aggregate data, such as overall patterns or demographic reports that do not describe or identify any individual user. PLEASE NOTE THAT THIS SECTION DOES NOT AFFECT THE SHARING OF INFORMATION WITH REGIONAL ASSOCIATIONS, MEMBER CLUBS OTHER GOLFERS AND APPROVED TECHNOLOGY PROVIDERS, WHICH IS STRICTLY GOVERNED BY THE SECTION ENTITLED SHARING WITH ",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("sharing")},children:"REGIONAL ASSOCIATIONS, MEMBER CLUBS, GOLFERS AND APPROVED TECHNOLOGY PROVIDERS"}),". YOU ARE NOT ABLE TO OPT-OUT OF SUCH SHARING AND SHOULD NOT USE ANY OF THE USGA PRODUCTS IF YOU DO NOT AGREE TO SUCH SHARING."]}),Object(re.jsxs)("p",{children:["Please note that the USGA is not responsible for removing your information from third party lists or databases. You can restrict",Object(re.jsx)("span",{id:"cookies"})," the use of certain of your Personal Information by certain direct mail companies by contacting: Mail Preference Service c/o Direct Marketing Association, P.O. Box 9008, Farmingdale, New York 11735-9008."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Cookies, Third Party Advertisers, Analytics and Social Networking"})}),Object(re.jsxs)("p",{children:["Please note that at times, some of the advertisers on the USGA Products and their and our ad service providers (including affiliate network providers and third party ad servers) may set cookies or use related technologies or web beacons when you view and/or click their advertising banners, links or other ads. While we use cookies and web beacons on parts of the USGA Products, information from cookies, tracking pixels, clear GIFs and other tracking technologies received with third party ads and links may be collected directly by those advertisers and ad service providers and used to cause relevant ads to be displayed to you. For example, these companies may collect and use information about you and your visits to the USGA Products and other Web sites (including Personal Information and Non-Personal Information) in order to provide advertisements about goods and services of interest to you. These advertisements may appear on the USGA Products and on other Web sites. The advertiser\u2019s privacy policy and/or that of its service provider will govern the use of this information and we are not responsible for the privacy practices of such companies. We encourage you to read these businesses\u2019 privacy policies to learn about how they treat your information. Additionally, some of these companies (like the ad networks) are members of the industry groups, the Network Advertising Initiative and the Digital Advertising Alliance, each of which offers a single location to opt out of their cookies. ",Object(re.jsx)("i",{children:"For more information about third party advertisers and how to prevent them from using your information, we encourage you to visit the Network Advertising Initiative\u2019s consumer web site, at http://www.networkadvertising.org, and the Digital Advertising Alliance's consumer choice page at http://www.aboutads.info/choices."})]}),Object(re.jsx)("p",{children:"As described herein, we and third parties, such as ad networks, web analytics companies and social networking platforms, may collect information (including Personal Information and Non-Personal Information) about you and your online activities over time and across the USGA Products and other web sites. Unless you opt out following the instructions below, these companies may use your Personal Information, information about your visits to and usage of the USGA Products and other web sites, and general geographic information derived from your IP address, in order to provide advertisements about goods and services that are customized to your interests and preferences on the USGA Products and other web sites. Some advertisements may display icons that consumers can click on for more information about their advertising choices."}),Object(re.jsxs)("p",{children:["We work with advertising partners, including DoubleClick, Quantcast and Adobe, to make this happen. These companies may employ cookies, clear GIFs, tracking pixels and/or other tracking technologies to cause relevant ads to be displayed to you. To opt out of this, follow the instructions ",Object(re.jsx)("a",{href:"http://www.networkadvertising.org/choices/",children:"here"})," or ",Object(re.jsx)("a",{href:"http://www.aboutads.info/choices/",children:"here"}),". You may also individually opt out of DoubleClick ",Object(re.jsx)("a",{href:"http://www.google.com/settings/ads?hl=en&sig=ACi0TCiNkpC5e-BfQeqqCktpS0wJrCJ9CjqGEJPb85sjeyKpZr1U2AhiU1r3o7Ge4l7Bs-WOtJliZ86GboerZQZKFkfONfWVCI2mXdSMnMcI5pVK6BECGjHtzP1RDRNSG9mpt_Ef-lvcad0oStUr9xPkFrsAbKGdcL7eYWWAUOyeKcyfHPNU7v0",children:"here"}),", Quantcast ",Object(re.jsx)("a",{href:"https://www.quantcast.com/opt-out",children:"here"})," and Adobe ",Object(re.jsx)("a",{href:"http://www.adobe.com/privacy/opt-out.html",children:"here"}),". For information about applicable Doubleclick privacy practices, visit ",Object(re.jsx)("a",{href:"https://www.google.com/intl/en/policies/privacy/",children:"https://www.google.com/intl/en/policies/privacy/"}),"; for information about Quantcast\u2019s privacy practices, visit ",Object(re.jsx)("a",{href:"https://www.quantcast.com/how-we-do-it/consumer-choice/privacy-policy/",children:"https://www.quantcast.com/how-we-do-it/consumer-choice/privacy-policy/"}),"; and for information about Adobe\u2019s privacy practices, visit ",Object(re.jsx)("a",{href:"http://www.adobe.com/privacy/policy.html",children:"http://www.adobe.com/privacy/policy.html"}),". If you do want to opt out of using these tools, you need to opt out separately for each of your devices and for each Web browser you use (like Internet Explorer, Firefox or Safari) on each device. However, if you opt out, we may still suggest offerings to you on the USGA Products based on your history at the USGA Products."]}),Object(re.jsxs)("p",{children:["Unless you opt-out, you consent to the use of cookies, pixels and other similar tracking technologies on your computer or device in this way and as described in this Privacy Policy. For more information about third-party advertisers and how to prevent them from using your information, visit the NAI\u2019s consumer Web site at ",Object(re.jsx)("a",{href:"http://www.networkadvertising.org/choices/",children:"http://www.networkadvertising.org/choices/"})," \xa0or the DAA\u2019s consumer Web site at ",Object(re.jsx)("a",{href:"http://www.aboutads.info/choices/",children:"http://www.aboutads.info/choices/"}),". We currently do not change our tracking practices in response to \u201cdo not track\u201d signals transmitted by users\u2019 web browsers, so we encourage you to visit these links if you would like to opt out of certain tracking.",Object(re.jsx)("span",{id:"protection"})]}),Object(re.jsxs)("p",{children:["You may opt in or opt out of our sharing of your Personal Information with third parties for their marketing use by following the directions in the \u201c",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("optout")},children:"Opt Out"}),"\u201d section below."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"How Does the USGA Try to Protect My Information?"})}),Object(re.jsxs)("p",{children:["The security of your Personal Information is important to us. For example, when you register and use any USGA Products, we endeavor to protect the security and integrity of any sensitive information collected thereon or there through by putting in place reasonable physical, electronic, and managerial procedures. However, while we strive to protect your Personal Information, due to the inherent open nature of the Internet we cannot guarantee that communications between you and any USGA Products, or information stored on any USGA Products or servers, will be free from unauthorized access by third parties such as hackers. Your use of the USGA Products demonstrates your assumption of this risk. We also cannot guarantee or assume any liability for the security and safeguarding of your information by the Regional Association, member clubs, other golfers or Approved Technology Providers after we have shared your information with them in accordance with the section entitled ",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("sharing")},children:"Sharing with Regional Associations, Member Clubs, Golfers and Approved Technology Providers"}),". We encourage you to follow up with the Regional Associations, member clubs and Approved Technology Providers (if applicable) directly to obtain information on the procedures they use to secure and safeguard your information. It is also important that you review and appreciate the rules governing what the Regional Association, member clubs and Approved Technology Providers do with any information we share with them and any information you provide to them directly. Please make sure to review their terms of use and privacy policy, if any. If you have any questions on identifying who your Regional Association, member club or Approved Technology Provider (if applicable) is, please contact us at ",Object(re.jsx)("a",{href:"mailto:comments@usga.org",children:"comments@usga.org"})," and we\u2019ll try to assist you in identifying them. When contacting us, please make sure to provide us with your name and GHIN number."]}),Object(re.jsx)("p",{children:"You should be aware that any information and content, including Personal Information you post to message boards, community tools, or other publicly accessible forums may be viewed and used by anyone with access to such forums. By using these services, you assume the risk that the Personal Information provided by you may be viewed and used by third parties."}),Object(re.jsxs)("p",{children:["If you are using a shared or public computer, we recommend that you log off your profile and close your browser window when you have finished using any of the USGA Web Sites. If you notice any inaccuracies in your Personal Information, please contact",Object(re.jsx)("span",{id:"deactivation"})," us immediately."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Account Deactivation"})}),Object(re.jsxs)("p",{children:["To deactivate your user account, you may",Object(re.jsx)("strong",{children:" "}),"email ",Object(re.jsx)("a",{href:"mailto:comments@usga.org",children:"comments@usga.org"}),", call us at (908) 234-2300, or write us at the United States Golf Association, P.O. Box 708, Liberty Corner, NJ 07938, or follow the procedures in the Contact Us section of this Privacy Policy, or use the deactivate feature in the USGA Product, if available. We will remove your profile from the USGA Products but may retain any record of your information that is necessary to comply with applicable federal, state, or local law. The USGA may maintain and continue to use anonymized data for any lawful business purposes. Please keep in mind that (a) the deactivation of your user account on the USGA Products will not affect the information that Regional Associations, member clubs and Approved Technology Providers (if applicable) may have about you, if any, and (b) if you made use of communication features, e. g., sending a personal message, or using community tools (such as posting on message boards or other publicly accessible forums, to share information with other individuals on any of the USGA Products), such communications are generally not removable. By registering for a user account, you acknowledge and consent that, even after removal of your profile and Personal Information from a USGA Product, your information may remain viewable in cached and archived pages of individuals",Object(re.jsx)("span",{id:"links"})," who have copied or stored such information or content."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Links to Other Web Sites"})}),Object(re.jsx)("p",{children:"The USGA Products may contain links, banners, or advertisements to other web sites.\xa0 When you click on such links, banners, or advertisements, the privacy policies of the web sites to which you are linked and/or their service provider (as applicable) will govern the use of your information collected on such sites.\xa0 The USGA does not have access to or control over any technologies or practices that may be used by third parties."}),Object(re.jsxs)("p",{children:["This Privacy Policy applies solely to information collected by the USGA via its USGA Products.\xa0 We are not responsible for the privacy practices of other web sites.\xa0 We encourage our users to read the privacy statements of each and every web site visited after leaving any of the USGA Web Sites through such a link, banner or advertisement, in order to learn how such third parties",Object(re.jsx)("span",{id:"children"})," may treat your information."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Children\u2019s Online Privacy Protection"})}),Object(re.jsxs)("p",{children:["In order for a child under the age of 13 (\u201c",Object(re.jsx)("strong",{children:"Young Minor"}),"\u201d) to obtain and maintain a ",Object(re.jsxs)("i",{children:["Handicap System",Object(re.jsx)("sup",{children:"TM"})]}),", the parent or guardian of the Young Minor or any other adult with authority to act on behalf of the Young Minor for this specific purpose (i.e., club professional) (\u201c",Object(re.jsx)("strong",{children:"Authorized Adult"}),"\u201d), must register the Young Minor on the USGA Product, a process which requires an Authorized Adult, and not the Young Minor, to provide certain Personal Information regarding the Young Minor. Thereafter, only an Authorized Adult may interact with the USGA Products and act on behalf of the Young Minor in order to maintain a ",Object(re.jsxs)("i",{children:["Handicap System",Object(re.jsx)("sup",{children:"TM"})]})," and participate in tournaments. All information collected from the Authorized Adult relating to the Young Minor will be treated in the same manner as any other information subject to this Privacy Policy, including the section entitled ",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("sharing")},children:"Sharing with Regional Associations, Member Clubs, Golfers and Approved Technology Providers"}),"."]}),Object(re.jsxs)("p",{children:[Object(re.jsx)("i",{children:"Young Minors are expressly prohibited from providing any Personal Information, including name, physical and e-mail address, telephone number, golf playing data and information, or any other information to the USGA via the USGA Products. "}),"USGA does not knowingly collect or solicit Personal Information directly from Young Minors or allow Young Minors to register to use any USGA Product. In the event the USGA learns that we have collected Personal Information from a Young Minor without verifiable",Object(re.jsx)("span",{id:"consent"})," parental consent, we will delete such information as quickly as possible."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Consent to Worldwide Transfer and Processing of Personal Information"})}),Object(re.jsxs)("p",{children:[Object(re.jsx)("i",{children:"Note to residents of the EEA:"})," When you give your Personal Information to the USGA through the USGA Products, it may be collected and used by the USGA and its affiliates for the purposes of, for example, providing you services and sending you correspondence. Your Personal Information may also be transferred to entities other than the USGA and its affiliates, which entities may be located in countries outside the European Economic Area (\u201c",Object(re.jsx)("strong",{children:"EEA"}),"\u201d), including the United States. Each of these countries has different privacy laws that afford varying levels of protection for your personally identifiable information, and such laws may not be as comprehensive as those that exist in the EEA. By registering on the USGA Products or otherwise using their",Object(re.jsx)("span",{id:"change"})," services, you consent to the USGA\u2019s and its affiliates\u2019 transmission to, and collection and processing of your information in, any jurisdiction, in accordance with its Privacy Policy."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Change Information"})}),Object(re.jsxs)("p",{children:["You can access, view and change your preferences, profile, and other information by visiting the applicable profile section of the USGA Product or emailing us at ",Object(re.jsx)("a",{href:"mailto:comments@usga.org",children:"comments@usga.org"}),", calling us at (908) 234-2300, or writing us at the United States Golf Association, P.O. Box 708, Liberty Corner, NJ 07938. You may also inform us of such changes by following the procedures",Object(re.jsx)("span",{id:"optout"})," described in the Contact Us section of this Privacy Policy, and the USGA will take reasonable steps to correct any information about you that is incorrect."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Opt Out"})}),Object(re.jsx)("p",{children:"You may opt out of being contacted by the USGA for promotional purposes, or having your Personal Information disclosed to third parties for such third parties\u2019 marketing use, by updating your opt-out preferences in your USGA Web Site account (if any and if applicable) or by contacting the USGA by following the instructions set forth in the Contact Us section of this Privacy Policy below. From each of its promotional e-mails, the USGA also enables you to opt-out of receiving future promotional emails from the USGA."}),Object(re.jsx)("p",{children:"Please understand that if you opt out of receiving promotional correspondence from us, we may still contact you in connection with your relationship, activities, transactions and communications with us. Also, a request to have us stop sharing your Personal Information with other entities for marketing purposes will only apply as of the date of your request, and we will not be responsible for any communications that you may receive from entities that received your Personal Information prior to such request. In these cases, please contact that entity directly."}),Object(re.jsx)("p",{children:"Note that your choice to change your information or opt out may affect the USGA\u2019s ability to provide you with the requested product or service. If you change your mind at a later time, you can contact the USGA about your preferences by following the procedures in the Contact Us section of this Privacy Policy."}),Object(re.jsxs)("p",{children:["PLEASE NOTE THAT THIS SECTION DOES NOT AFFECT THE SHARING OF INFORMATION WITH REGIONAL ASSOCIATIONS, MEMBER CLUBS, OTHER GOLFERS AND APPROVED TECHNOLOGY PROVIDERS, WHICH IS STRICTLY GOVERNED BY THE SECTION ENTITLED ",Object(re.jsx)("button",{onClick:function(){e.goToAnchor("sharing")},children:"SHARING WITH REGIONAL ASSOCIATIONS, MEMBER CLUBS, GOLFERS AND APPROVED TECHNOLOGY"}),Object(re.jsx)("span",{id:"california"})," PROVIDERS. YOU ARE NOT ABLE TO OPT-OUT OF SUCH SHARING AND SHOULD NOT USE ANY USGA PRODUCT IF YOU DO NOT AGREE TO SUCH SHARING."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"California Privacy Rights"})}),Object(re.jsxs)("p",{children:["Under California Civil Code Section 1798.83, also known as Senate Bill 27 or \u201cShine the Light\u201d law, California residents with whom we have an established business relationship are entitled to request and receive, free of charge, once per calendar year, information about the customer information we shared, if any, with other businesses for their own direct marketing uses in the previous calendar year. You may email us at ",Object(re.jsx)("a",{href:"mailto:comments@usga.org",children:"comments@usga.org"}),", calling us at (908) 234-2300 to request a copy. We will provide the requested information to you at your email address in response. Please be aware that not all information sharing is",Object(re.jsx)("span",{id:"contactus"})," covered by the \u201cShine the Light\u201d law requirements and only information on covered sharing will be included in our response."]}),Object(re.jsx)("p",{children:Object(re.jsx)("strong",{children:"Contact Us"})}),Object(re.jsxs)("p",{children:["The USGA welcomes your questions and comments about privacy. Please feel free to contact us for any reason, including a request to be added to or taken off a marketing list or to prevent sharing your Personal Information with third parties, by sending an e-mail to ",Object(re.jsx)("a",{href:"mailto:comments@usga.org",children:"comments@usga.org"}),", calling us at (908) 234-2300, or writing us at the United States Golf Association, P.O. Box 708, Liberty Corner, NJ 07938."]})]})})})}}]),s}(a.Component),Ud=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(){return Object(r.a)(this,s),t.apply(this,arguments)}return Object(c.a)(s,[{key:"componentDidMount",value:function(){Ee.accesses()}},{key:"render",value:function(){return Object(re.jsx)(a.Fragment,{children:Object(re.jsx)("div",{className:"simple__page",children:Object(re.jsxs)("div",{className:"container",children:[Object(re.jsx)("p",{className:"text-align-center",children:"UNITED STATES GOLF ASSOCIATION"}),Object(re.jsx)("p",{className:"text-align-center",children:"TERMS OF SERVICE AGREEMENT"}),Object(re.jsxs)("p",{className:"text-align-center",children:["(Last Updated May 2018)",Object(re.jsx)("b",{children:Object(re.jsx)("i",{})})]}),Object(re.jsxs)("p",{children:["Welcome to GHIN Technology Services (including GHIN.com, GHIN Kiosks, Tournament Pairing Program and USGA Tournament Management) distributed through the USGA\u2019s (or its licensor\u2019s) web sites and properties (\u201c",Object(re.jsx)("b",{children:"USGA Web Sites"}),"\u201d) and their associated USGA mobile applications (\u201c",Object(re.jsx)("b",{children:"USGA"})," ",Object(re.jsx)("b",{children:"Mobile Apps"}),"\u201d), if any. \xa0The USGA Web Sites and the USGA Mobile Apps are herein collectively referred to as the \u201c",Object(re.jsx)("b",{children:"USGA Products"}),"\u201d."]}),Object(re.jsxs)("p",{children:["PLEASE CAREFULLY READ THESE TERMS OF SERVICE (HEREAFTER, THE \u201c",Object(re.jsx)("b",{children:"AGREEMENT"}),"\u201d).\xa0 THIS AGREEMENT IS A LEGALLY BINDING AGREEMENT BETWEEN THE UNITED STATES GOLF ASSOCIATION (\u201c",Object(re.jsx)("b",{children:"USGA"}),"\u201d) AND THE INDIVIDUAL ACCEPTING THIS AGREEMENT (\u201c",Object(re.jsx)("b",{children:"AUTHORIZED USER"}),"\u201d OR \u201c",Object(re.jsx)("b",{children:"YOU"}),"\u201d AND \u201c",Object(re.jsx)("b",{children:"YOUR"}),"\u201d).\xa0 This Agreement governs the access and use of THE USGA PRODUCTS.\xa0The USGA\u2019s information collection and use policies with respect to user information are set forth in the ",Object(re.jsx)(f.Link,{to:"./privacy-policy",children:"Privacy Policy"}),", which is incorporated herein by reference for all purposes."]}),Object(re.jsx)("p",{children:"USE OF AND ACCESS TO THE USGA PRODUCTS BY AUTHORIZED USER IN ACCORDANCE WITH THIS AGREEMENT IS CONDITIONED UPON AUTHORIZED USER ACCEPTING THIS AGREEMENT BY CLICKING ON THE \u201cI AGREE\u201d CHECKBOX OR SIMILAR ATTESTATION UPON REGISTRATION AND/OR LOGIN.\xa0 IF YOU ARE USING AND ACCESSING THE USGA PRODUCTS AS AN AUTHORIZED USER, YOUR CONTINUED USE OF AND ACCESS TO ANY USGA PRODUCT IS DEEMED TO BE ACCEPTANCE OF THIS AGREEMENT.\xa0 YOU REPRESENT AND WARRANT THAT YOU HAVE THE RIGHT, POWER AND AUTHORITY TO ENTER INTO THIS AGREEMENT AND THAT IF YOU ARE PROVIDING ANY PERSONAL INFORMATION AT THE TIME OF REGISTRATION OR AT ANY TIME WHILE USING THE USGA PRODUCTS, YOU ARE 13 YEARS OF AGE OR OLDER. \xa0IF YOU ARE UNDER THE AGE OF 13, YOU ARE NOT PERMITTED TO PROVIDE ANY INFORMATION THROUGH THE USGA PRODUCTS."}),Object(re.jsx)("p",{children:"For purposes of this Agreement, the following definitions apply."}),Object(re.jsxs)("p",{children:["\u201c",Object(re.jsx)("b",{children:"Personal Information"}),"\u201d means any personally identifiable information and other potentially sensitive information, including, but not limited to, an individual\u2019s name, employer, social security number, driver\u2019s license number or state identification card number, account number, credit card, debit card or other payment instrument information, security code, access code or password, birthdate, address, email address or other contact information,\xa0GHIN number or other golfer identification number, and certain golf play statistics (such as where played) regarding such individual that can be used on its own or with other information to identify, contact, or locate a single individual, or to identify an individual in context."]}),Object(re.jsxs)("p",{children:["\u201c",Object(re.jsx)("b",{children:"Registered User"}),"\u201d means an Authorized User who has access to the USGA Products by way of a user name and password or other access credentials (e.g., GGID).",Object(re.jsx)("b",{children:Object(re.jsx)("i",{})})]}),Object(re.jsx)("h3",{children:"1.\xa0USGA PRODUCT SUBSCRIPTION AND LICENSE"}),Object(re.jsx)("p",{children:"a.\xa0\xa0USGA Web Sites.\xa0 Subject to the terms and conditions of this Agreement and Authorized User's compliance with this Agreement, USGA hereby grants to Authorized User during the Subscription Term (as defined below) a limited, personal, non-commercial, non-exclusive, non-transferrable, non-assignable, revocable access to the USGA Web Sites to which such Authorized User is permitted access."}),Object(re.jsx)("p",{children:"b.\xa0USGA Mobile Apps.\xa0 Subject to the terms and conditions of this Agreement and Authorized User's compliance with this Agreement, USGA hereby grants to Authorized User during the Subscription Term (as defined below) a limited, personal, non-commercial, non-exclusive, non-transferrable, non-assignable, revocable license under copyright to reproduce a copy of the USGA Mobile App on Authorized User\u2019s mobile device solely for personal use to access the functionalities to which such Authorized User is permitted access."}),Object(re.jsx)("h3",{children:"2.\xa0REGISTRATION AND USER ACCOUNT"}),Object(re.jsx)("p",{children:"a.\xa0Authorized User Credentials.\xa0 To the extent Authorized User has access to any USGA Product as a Registered User, Authorized User acknowledges the access credentials are personal to Authorized User and Authorized User shall not share such access credentials with any other person for any purpose."}),Object(re.jsx)("h3",{children:"3.\xa0SUPPORT"}),Object(re.jsxs)("p",{children:["USGA, through is suppliers and agents, may provide support to Authorized User for the USGA Products. \xa0USGA may, in its discretion, provide written materials in form of user guides, instruction manuals, quick reference guides, demonstration or tutorial videos or white papers (\u201c",Object(re.jsx)("b",{children:"Documentation"}),"\u201d).\xa0 To the extent such Documentation is provided to Authorized User, such Documentation shall be used by Authorized User solely to support use of the USGA Products in accordance with this Agreement and such Documentation shall not be reproduced, distributed, displayed or modified for any purpose.\xa0 Authorized User shall destroy all copies of the Documentation upon termination of this Agreement."]}),Object(re.jsx)("h3",{children:"4.\xa0TERM; TERMINATION."}),Object(re.jsxs)("p",{children:["This Agreement commences on the date Authorized User accepts this Agreement and shall remain in effect while Authorized User continues to access the USGA Products or the USGA terminates this Agreement (whichever is earlier) (\u201c",Object(re.jsx)("b",{children:"Subscription Term"}),"\u201d)."]}),Object(re.jsx)("p",{children:"The USGA may terminate, change, suspend or discontinue any aspect of the USGA Products at any time with or without notice.\xa0 Without limiting the foregoing, USGA may restrict, suspend or terminate Authorized User\u2019s access or use of the USGA Products if USGA believes Authorized User is in breach of this Agreement or applicable law, or for any other reason without notice or liability. Upon termination of this Agreement for any reason, Authorized User must cease all use of the USGA Products. \xa0Termination of this Agreement shall not limit any of USGA\u2019s rights or remedies at law or in equity."}),Object(re.jsx)("h3",{children:"5.\xa0PROPRIETARY RIGHTS"}),Object(re.jsx)("p",{children:"Authorized User acknowledges and agrees that USGA and/or its licensors own and retain all right, title, and interest in and to the USGA Products and any intellectual property contained therein, including without limitation, any and all, technology, software, code, user interfaces, trademarks and other items posted thereon or used in connection or associated with the USGA Products."}),Object(re.jsx)("p",{children:"Except as expressly granted in Section 1(b) with respect to the USGA Mobile Apps, no license or right under any intellectual property rights in the USGA Products are granted or implied by this Agreement.\xa0 Specifically, Authorized User shall not (a) modify, port, translate, localize or create derivative works of the USGA Products or the intellectual property contained therein; (b) decompile, disassemble, reverse engineer or attempt to reconstruct, identify or discover any source code, underlying ideas, underlying user interface techniques or algorithms of the USGA Products or intellectual property contained therein by any means whatsoever, or disclose any of the foregoing; or (c) sell, lease, license, sublicense, copy, market, distribute or offer as a service the USGA Products or the intellectual property contained therein. Authorized User shall not remove, obscure or alter any copyright or trademark notices or any trademarks contained in the USGA Products."}),Object(re.jsxs)("p",{children:["The trademarks, logos, service marks and trade names that may be displayed on or within the USGA Products are registered and unregistered trademarks of the USGA and other entities or persons (collectively, the \u201c",Object(re.jsx)("b",{children:"Trademarks"}),"\u201d), and may not be used unless authorized in writing by the Trademark owner.\xa0 Nothing contained in the USGA Products should be construed as granting, by implication, estoppel, or otherwise, any license or right to use any Trademark displayed on or within the USGA Products without the USGA\u2019s written permission or that of the third party rights holder."]}),Object(re.jsx)("h3",{children:"6.\xa0\xa0SUBMITTED MATERIALS"}),Object(re.jsxs)("p",{children:["Unless specifically requested, the USGA does not solicit, nor does the USGA wish to receive, any confidential, secret or proprietary information or other material from Authorized User through the USGA Products, by e-mail or in any other way.\xa0 Any information, proposals, requests, creative works, pictures, photographs, documents, letters, demos, ideas, suggestions, concepts, methods, systems, designs, drawings, renderings, plans, techniques or other materials score entries, and other non-personal information concerning golf events (collectively \u201c",Object(re.jsx)("b",{children:"Submitted Materials"}),"\u201d) submitted, posted, uploaded or sent or transmitted on or through the USGA Products in any manner will be deemed not to be confidential or secret, and may be used by the USGA in any manner consistent with this Agreement.\xa0 \xa0\xa0"]}),Object(re.jsxs)("p",{children:["By submitting, uploading, posting or sending Submitted Materials through, to or on the USGA Products, Authorized User: (A) represent and warrant that either (i) Authorized User\u2019s Submitted Materials are original to Authorized User and that no other party has any rights thereto or (ii) that Authorized User has the necessary licenses, rights, consents and permissions to use such Submitted Materials and use them in the USGA Products for the use of the USGA and its applicable service providers in accordance with this Agreement, and that any \u201cmoral rights\u201d in the Submitted Materials have been waived; and (B) Authorized User grants to the USGA, Regional Associations, member clubs and Approved Technology Providers (if any) that can access and use the USGA Products, and their respective service providers, a royalty-free, unrestricted, worldwide, perpetual, irrevocable, non-exclusive and fully transferable, assignable and sublicensable right and license to use, copy, reproduce, modify, adapt, publish, translate, create derivative works from, distribute, perform, display, make, sell and export such material (in whole or part) and/or to incorporate it (in whole or in part) in other works (including, without limitation, other USGA products and services), products or services in any form, media, or technology now known or later developed.\xa0 The USGA cannot be responsible for maintaining any Submitted Material that Authorized User provides to the USGA or on or through USGA Products, and the USGA may delete or destroy any such Submitted Material at any time. As used herein, the term \u201c",Object(re.jsx)("b",{children:"Regional Associations"}),"\u201d shall mean Allied Golf Associations, State and Regional Golf Associations and any other golf associations that can access and use the USGA Products, and the term \u201c",Object(re.jsx)("b",{children:"Approved Technology Providers"}),"\u201d shall mean golf related technology providers who have been pre-approved by the USGA."]}),Object(re.jsx)("h3",{children:"7.\xa0PRIVACY POLICY"}),Object(re.jsxs)("p",{children:["To the extent Authorized User provides any Personal Information through the USGA Products, the USGA treats such Personal Information in accordance with its ",Object(re.jsx)(f.Link,{to:"./privacy-policy",children:"Privacy Policy located here"}),".\xa0\xa0",Object(re.jsx)("b",{children:"Notwithstanding the foregoing, if You are under the age of 13, You acknowledge and understand that You may only use the USGA Products to view information through the USGA Products and shall not provide any Personal Information through the USGA Products."})]}),Object(re.jsx)("h3",{children:"8.\xa0RULES OF CONDUCT"}),Object(re.jsx)("p",{children:"While using or accessing the USGA Products, in addition to any other supplementary terms and conditions that may be posted or otherwise made available in connection with particular components of the USGA Products, areas or features on the USGA Products, Authorized User agrees that Authorized User shall not:"}),Object(re.jsx)("p",{children:"\u2022\xa0 impersonate any person or entity or misrepresent Authorized User\u2019s affiliation with any other person or entity;"}),Object(re.jsx)("p",{children:"\u2022\xa0 use, resell, redistribute, republish or exploit in whole or in part any portion of the USGA Products (including its content) for any commercial or promotional purposes, or contact any other user of the USGA Products for commercial or promotional purposes, or offer to buy or sell any product or service on or through Authorized User\u2019s activities on the USGA Products or in a Forum (as defined below) on the USGA Products except as authorized by USGA;"}),Object(re.jsx)("p",{children:"\u2022\xa0 alter, edit, delete, remove, fail to display, otherwise change the meaning or appearance of, or repurpose any component of the USGA Products or its contents, including, without limitation, any trademarks, trade names, logos, service marks, promotional taglines, or any other proprietary content or proprietary rights notices included therein or thereon;"}),Object(re.jsx)("p",{children:"\u2022\xa0 obtain or attempt to gain unauthorized access to other computer systems, materials, information or any services available on or through the USGA Products through any means, including through means not intentionally made publicly available or provided for in the USGA Products;"}),Object(re.jsx)("p",{children:"\u2022\xa0 engage in spidering, screen scraping, database scraping, harvesting of e-mail addresses or other personal information, or any other automatic or unauthorized means of accessing, logging-in or registering on USGA Products, or obtaining lists of users or other information from or through the USGA Products, including, without limitation, any information residing on any server or database connected to the USGA Products;"}),Object(re.jsx)("p",{children:"\u2022\xa0 use the USGA Products or any of its respective features and services in any manner that could interrupt, damage, disable, overburden or impair the USGA Products or interfere with any other party's use and enjoyment of the USGA Products, including, without limitation, sending mass unsolicited messages or \u201cflooding\u201d servers with requests;"}),Object(re.jsx)("p",{children:"\u2022\xa0 circumvent, reverse engineer, decrypt, or otherwise alter or interfere (or attempt, encourage or support anyone else\u2019s attempt to do any of the foregoing) with the USGA Products, in whole or in part;"}),Object(re.jsx)("p",{children:"\u2022\xa0 frame any part of the USGA Products in any third party sites or content or any third party sites or content in any USGA Product, in any manner that would constitute or could be interpreted as an endorsement or sponsorship by the USGA or its service providers of any third party site, content, information or other materials, or in any manner that would violate the terms and conditions of any such third party sites;"}),Object(re.jsx)("p",{children:"\u2022\xa0 upload, post, transmit, distribute or otherwise publish to, on or through the USGA Products, any information, content or materials which are false, fraudulent, misleading, unlawful, threatening, abusive, harassing, hateful, racially, ethnically or otherwise objectionable, libelous, defamatory, obscene, vulgar, offensive, pornographic, profane, sexually explicit or indecent, including without limitation, any material which encourages conduct that would constitute a criminal offense, give rise to civil liability or otherwise violate any local, state, national or international law;"}),Object(re.jsx)("p",{children:"\u2022\xa0 use the USGA Products to, or in any other manner, violate, plagiarize or infringe the rights of third parties, including without limitation, copyright, trademark, trade secret, confidentiality, contract, patent, rights of privacy or rights of publicity or any other proprietary or legal right;"}),Object(re.jsx)("p",{children:"\u2022\xa0 upload, post, publish, distribute or otherwise transmit any information or material which constitutes or contains a virus, spyware, or other harmful component, or which contains any embedded links, advertising, chain letters or pyramid schemes of any kind; or"}),Object(re.jsx)("p",{children:"\u2022\xa0 use the USGA Products, in whole or in part, in violation of any applicable law."}),Object(re.jsx)("h3",{children:"9.\xa0\xa0PUBLIC FORUMS"}),Object(re.jsxs)("p",{children:["The USGA Products may include certain features that allow Authorized Users to interact and communicate with each other and/or with the general public (such as messaging services, chat services, bulletin boards, message boards, blogs and other similar forums, areas and services) (collectively, the \u201c",Object(re.jsx)("b",{children:"Forums"}),"\u201d).\xa0 All of the terms and conditions set forth in this Agreement (as well as any other applicable, supplementary terms and conditions posted or otherwise made available in connection with particular features or services on the USGA Products), are applicable to Authorized User\u2019s use of the Forums.\xa0 It is important to remember that content submitted to a Forum may be recorded and stored in multiple places, both on databases that service the USGA Products and elsewhere on the Internet, and Authorized User may have no control over who will access or view them eventually.\xa0 Therefore, Authorized User should be careful and selective about the information that Authorized User choose to disclose in such Forums and on the USGA Products in general about Authorized User and others, and in particular, Authorized User should not disclose any sensitive, personally identifiable, proprietary or confidential information in Authorized User\u2019s submissions to the Forums."]}),Object(re.jsx)("h3",{children:"10.\xa0RIGHT TO MONITOR AND EDITORIAL CONTROL"}),Object(re.jsx)("p",{children:"The USGA reserves the right (but does not have nor assume any obligation) to monitor and/or review all information and materials posted or otherwise submitted to the USGA Products (including, without limitation, the Forums).\xa0 The USGA is not responsible for any such materials.\xa0 However, the USGA reserves the right at all times to disclose any information as necessary to satisfy any law, regulation or government request, or to edit, refuse to post or to remove any information or materials, in whole or in part, that in the USGA\u2019s sole discretion, are objectionable or in violation of Agreement, the USGA\u2019s policies or applicable law.\xa0 The USGA may also impose limits on certain features or restrict Authorized User\u2019s access to part or all of the USGA Products, without notice or penalty, if the USGA believes Authorized User is in breach of this Agreement or applicable law, or for any other reason without notice or liability."}),Object(re.jsx)("h3",{children:"11.\xa0\xa0THIRD PARTY WEBSITES AND PRODUCTS"}),Object(re.jsxs)("p",{children:["a.\xa0Links and Integrated Applications.\xa0 Authorized User may be able to link from the USGA Products to third party web sites and/or third party web sites may link to the USGA Products (in each case, such third party web site is referred to as a ",Object(re.jsx)("b",{children:"\u201cLinked Site\u201d"}),").\xa0 The USGA Products may also be integrated with third party applications to provide Authorized User with additional features and an enhanced experience (\u201c",Object(re.jsx)("b",{children:"Integrated Applications"}),"\u201d).\xa0 Authorized User acknowledges and agrees that the USGA has no responsibility for any information, content, advertising, products, services or other materials on any Linked Sites or Integrated Applications, and that Integrated Applications and links to Linked Sites do not necessarily constitute an endorsement, approval or sponsorship thereof by the USGA. If Authorized User chooses to rely on any Linked Site or Integrated USGA Products, Authorized User is doing so at Authorized User\u2019s own risk and Authorized User assumes all responsibilities and consequences resulting from such choice. Linked Sites and Integrated Applications may be subject to separate end user license agreements, terms or service or terms of use."]}),Object(re.jsx)("h3",{children:"12.\xa0\xa0INDEMNIFICATION"}),Object(re.jsx)("p",{children:"Authorized User agrees to defend, indemnify and hold the USGA, and its directors, officers, employees, agents, service providers and licensors harmless from any and all claims, liabilities, costs and expenses, including reasonable attorneys' fees, arising in any way from (i) Authorized User\u2019s use of the USGA Products, (ii) Authorized User\u2019s Submitted Materials, in whole or in part, or (iii) Authorized User\u2019s breach or violation of the law or this Agreement.\xa0 The USGA reserves the right, at its own expense, to assume the exclusive defense and control of any matter otherwise subject to indemnification by Authorized User, and in such case, Authorized User agrees to cooperate with any such defense."}),Object(re.jsx)("h3",{children:"13.\xa0\xa0DISCLAIMER OF WARRANTIES"}),Object(re.jsx)("p",{children:"TO THE EXTENT PERMITTED BY LAW, THE USGA PRODUCTS, INCLUDING, WITHOUT LIMITATION, ALL SERVICES, FORUMS, CONTENT, FUNCTIONS, DOWNLOADS AND MATERIALS CONTAINED THEREIN, IS PROVIDED \u201cAS IS,\u201d \u201cAS AVAILABLE,\u201d WITHOUT WARRANTY OF ANY KIND, EITHER EXPRESS OR IMPLIED, INCLUDING, WITHOUT LIMITATION, ANY WARRANTY FOR INFORMATION, DATA, DATA PROCESSING SERVICES, UPTIME OR UNINTERRUPTED ACCESS, ANY WARRANTIES CONCERNING THE AVAILABILITY, ACCURACY, USEFULNESS, CORRECTNESS, PRECISION, THOROUGHNESS, COMPLETENESS OR CONTENT OF INFORMATION, AND ANY WARRANTIES OF TITLE, NON-INFRINGEMENT, MERCHANTABILITY OR FITNESS FOR A PARTICULAR PURPOSE, AND THE USGA HEREBY DISCLAIMS ANY AND ALL SUCH WARRANTIES, EXPRESS AND IMPLIED."}),Object(re.jsx)("p",{children:"TO THE EXTENT PERMITTED BY LAW, THE USGA DOES NOT WARRANT THAT THE USGA PRODUCTS, INCLUDING, WITHOUT LIMITATION, ALL SERVICES, FORUMS, CONTENT, FUNCTIONS, DOWNLOADS AND MATERIALS CONTAINED THEREIN, WILL BE TIMELY, SECURE, UNINTERRUPTED OR ERROR FREE, OR THAT DEFECTS WILL BE CORRECTED IN A TIMELY MANNER OR AT ALL."}),Object(re.jsx)("p",{children:"TO THE EXTENT PERMITTED BY LAW, USGA MAKES NO WARRANTY THAT THE USGA PRODUCTS, IN WHOLE OR IN PART, WILL MEET AUTHORIZED USER REQUIREMENTS.\xa0 NO ADVICE, RESULTS OR INFORMATION, WHETHER ORAL OR WRITTEN, OBTAINED BY AUTHORIZED USER FROM USGA, SHALL CREATE ANY WARRANTY NOT EXPRESSLY MADE HEREIN."}),Object(re.jsx)("p",{children:"USGA ALSO ASSUMES NO RESPONSIBILITY, AND SHALL NOT BE LIABLE FOR, ANY DAMAGES TO, OR VIRUSES THAT MAY INFECT, AUTHORIZED USER\u2019S COMPUTER OR MOBILE EQUIPMENT OR ANY OTHER PROPERTY ON ACCOUNT OF AUTHORIZED USER\u2019S ACCESS TO, USE OF, OR BROWSING IN THE USGA PRODUCTS OR AUTHORIZED USER\u2019S DOWNLOADING OF THE USGA MOBILE APP OR THE AUTHORIZED USER\u2019S DOWNLOADING OR UPLOADING OF ANY MATERIALS, DATA, TEXT, IMAGES, VIDEO, OR AUDIO FROM THE USGA PRODUCTS."}),Object(re.jsx)("p",{children:"IF AUTHORIZED USER IS DISSATISFIED WITH THE USGA PRODUCTS, AUTHORIZED USER SHOULD DISCONTINUE USE.\xa0 USGA DOES NOT NECESSARILY ENDORSE, SUPPORT, SANCTION, ENCOURAGE OR AGREE WITH ANY SITE CONTENT OR ANY SUBMITTED MATERIALS, OR ANY OPINION, RECOMMENDATION, CONTENT, LINK, DATA OR ADVICE EXPRESSED OR IMPLIED THEREIN, AND USGA EXPRESSLY DISCLAIMS, TO THE EXTENT PERMITTED BY LAW, ANY AND ALL LIABILITY IN CONNECTION WITH SUBMITTED MATERIALS AND ANY OTHER CONTENT, MATERIALS OR INFORMATION AVAILABLE ON OR THROUGH THE USGA PRODUCTS CREATED OR PROVIDED BY AUTHORIZED USERS OR OTHER THIRD PARTIES."}),Object(re.jsx)("p",{children:"WITHOUT LIMITATION OF THE ABOVE IN THIS SECTION AND TO THE EXTENT PERMITTED BY LAW, USGA AND ITS AFFILIATES, SUPPLIERS AND LICENSORS MAKE NO WARRANTIES OR REPRESENTATIONS REGARDING ANY PRODUCTS OR SERVICES PROVIDED VIA THE USGA PRODUCTS, AND HEREBY DISCLAIM, AND AUTHORIZED USER HEREBY WAIVES, ANY AND ALL WARRANTIES AND REPRESENTATIONS MADE IN PRODUCT OR SERVICES LITERATURE, FREQUENTLY ASKED QUESTIONS DOCUMENTS AND OTHERWISE ON THE USGA PRODUCTS OR IN CORRESPONDENCE WITH USGA AND ITS AGENTS.\xa0 ANY PRODUCTS AND SERVICES PROVIDED VIA THE USGA PRODUCTS ARE PROVIDED BY USGA (OR ITS LICENSORS OR THIRD PARTY PROVIDERS OR SUPPLIERS) \u201cAS IS\u201d, EXCEPT TO THE EXTENT, IF AT ALL, OTHERWISE SET FORTH IN A LICENSE OR SUBSCRIPTION AGREEMENT SEPARATELY ENTERED INTO IN WRITING BETWEEN AUTHORIZED USER AND USGA OR ITS LICENSORS OR SUPPLIERS."}),Object(re.jsx)("h3",{children:"14.\xa0\xa0LIMITATION OF LIABILITY"}),Object(re.jsxs)("p",{children:["TO THE EXTENT PERMITTED BY LAW, IN NO EVENT, INCLUDING BUT NOT LIMITED TO NEGLIGENCE, SHALL USGA OR ANY OF ITS DIRECTORS, OFFICERS, EMPLOYEES, AGENTS, LICENSORS, OR SERVICE PROVIDERS (COLLECTIVELY, THE \u201c",Object(re.jsx)("b",{children:"PROTECTED ENTITIES"}),"\u201d) BE LIABLE FOR ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, CONSEQUENTIAL, EXEMPLARY OR PUNITIVE DAMAGES ARISING FROM, OR DIRECTLY OR INDIRECTLY RELATED TO, THE USE OF, OR THE INABILITY TO USE, USGA PRODUCTS OR CONTENT, MATERIALS AND FUNCTIONS OF OR RELATED THERETO, AUTHORIZED USER\u2019S PROVISION OF INFORMATION OR CONTENT VIA THE USGA PRODUCTS, LOST BUSINESS OR LOST SALES, EVEN IF SUCH PROTECTED ENTITY HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES.\xa0 SOME JURISDICTIONS DO NOT ALLOW THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO SOME OF THE ABOVE LIMITATIONS MAY NOT APPLY.\xa0 IN NO EVENT SHALL THE TOTAL AGGREGATE LIABILITY OF THE PROTECTED ENTITIES TO AUTHORIZED USER FOR ANY DIRECT DAMAGES, LOSSES, AND CAUSES OF ACTION (WHETHER IN CONTRACT OR TORT, INCLUDING, BUT NOT LIMITED TO, NEGLIGENCE OR OTHERWISE) ARISING FROM THIS AGREEMENT OR AUTHORIZED USER\u2019S USE OF THE USGA PRODUCTS EXCEED ONE DOLLAR ($1.00)."]}),Object(re.jsx)("h3",{children:"15.\xa0\xa0JURISDICTIONAL ISSUES"}),Object(re.jsx)("p",{children:"The USGA does not represent that the USGA Products or any contents contained therein are appropriate or available for use in any location outside of the United States.\xa0 Authorized Users who choose to access the USGA Products from locations outside of the United States do so on their own initiative, and are responsible for compliance with local laws, if and to the extent local laws are applicable.\xa0 To the extent local laws require additional terms, this Agreement may be subject to separate jurisdictional terms, if any and as applicable.\xa0 The USGA Products are subject to United States export controls. The USGA Products may not be downloaded or otherwise exported or re-exported (i) into (or to a national or resident of) Cuba, Iran, North Korea, Sudan, Syria or any other country to which the United States has embargoed goods; or (ii) to anyone on the U.S. Treasury Department's list of Specially Designated Nationals or the U.S. Commerce Department's Table of Deny Orders; or (iii) in any other manner that violates U.S. law. By using the USGA Products, Authorized User represents and warrants that Subscriber is not located in, under the control of, or a national or resident of any such country or on any such list."}),Object(re.jsx)("h3",{children:"16.\xa0\xa0CHANGES TO THIS AGREEMENT"}),Object(re.jsx)("p",{children:"USGA has the right to change or modify this Agreement, or to impose new conditions on Authorized User\u2019s use of the USGA Products, at any time.\xa0 Such changes, modifications, additions or deletions shall be effective immediately upon notice thereof, which may be given by any means including, but not limited to, posting within the USGA Products, by electronic mail, by messaging, or by any other means from which Authorized User may obtain notice thereof.\xa0 Any use of the USGA Products by Authorized User subsequent to such notice shall be deemed to constitute Authorized User\u2019s acceptance of such changes, modifications, additions, or deletions."}),Object(re.jsx)("h3",{children:"17.\xa0\xa0COPYRIGHT"}),Object(re.jsxs)("p",{children:["USGA respects the intellectual property rights of others, and require that the people who use the products and services of the USGA do the same.\xa0 If any person or entity believes that work has been copied in a way that constitutes copyright infringement, please forward the following information to the USGA\u2019s Copyright Agent, designated as such pursuant to the Digital Millennium Copyright Act, 17 U.S.C. \xa7 512(c)(2) (the \u201c",Object(re.jsx)("b",{children:"DMCA"}),"\u201d), named below:"]}),Object(re.jsx)("p",{children:"\u2022\xa0 Authorized User\u2019s address, telephone number, and email address;"}),Object(re.jsx)("p",{children:"\u2022\xa0 A description of the copyrighted work that Authorized User claims has been infringed;"}),Object(re.jsx)("p",{children:"\u2022\xa0 A description of where the alleged infringing material is located;"}),Object(re.jsx)("p",{children:"\u2022\xa0 A statement by Authorized User that Authorized User has a good faith belief that the disputed use is not authorized by the copyright owner, its agent, or the law;"}),Object(re.jsx)("p",{children:"\u2022\xa0 An electronic or physical signature of the person authorized to act on behalf of the owner of the copyright interest; and"}),Object(re.jsx)("p",{children:"\u2022\xa0 A statement by Authorized User, made under penalty of perjury, that the above information in Authorized User\u2019s Notice is accurate and that Authorized User is the copyright owner or authorized to act on the copyright owner's behalf."}),Object(re.jsx)("p",{children:"Copyright Agent:"}),Object(re.jsx)("p",{children:"Belinda Berman"}),"b",Object(re.jsx)("p",{children:"United States Golf Association"}),Object(re.jsx)("p",{children:"77 Liberty Corner Road"}),Object(re.jsx)("p",{children:"Liberty Corner, NJ 07938"}),Object(re.jsx)("p",{children:"Phone: (908) 234-2300 x 1034"}),Object(re.jsx)("p",{children:"Fax: (908) 719-9593"}),Object(re.jsxs)("p",{children:["Email: ",Object(re.jsx)("a",{adhocenable:"false",href:"mailto:DMCA-agent@usga.org",target:"_blank",rel:"noopener noreferrer",children:"DMCA-agent@usga.org"})]}),Object(re.jsx)("p",{children:"USGA will respond to notices of claimed copyright infringement in accordance with the DMCA."}),Object(re.jsx)("h3",{children:"18.\xa0\xa0MISCELLANEOUS"}),Object(re.jsx)("p",{children:"This Agreement and the relationship between Authorized User and the USGA shall be governed by the laws of the United States and the State of New York, without regard to its conflict of law provisions.\xa0 Authorized User agrees that any cause of action that may arise under this Agreement shall be commenced and be heard in the appropriate court in the State of New York, County of New York.\xa0 Authorized User agrees to submit to the personal and exclusive jurisdiction of the courts located within New York County in the State of New York.\xa0 The USGA\u2019s failure to exercise or enforce any right or provision of this Agreement shall not constitute a waiver of such right or provision.\xa0 If any provision of this Agreement is found by a court of competent jurisdiction to be invalid, the parties nevertheless agree that the court should endeavor to give effect to the parties' intentions as reflected in the provision, and the other provisions of this Agreement remain in full force and effect."})]})})})}}]),s}(a.Component),Ld=(s(1082),s(528)),Yd=["component","isAuthenticated","userType","props"];var zd=Object(p.c)((function(e){return{isAuthenticated:e.auth.isAuthenticated,userType:e.user.access.user_type}}),null)((function(e){var t=e.component,s=e.isAuthenticated,a=e.userType,i=e.props,n=Object(Ld.a)(e,Yd);return Object(re.jsx)(u.d,Object(j.a)(Object(j.a)({},n),{},{render:function(e){return s?"score-only"!==a||"/rapid-score-entry"===e.location.pathname||"/affiliation/select"===e.location.pathname?Object(re.jsx)(t,Object(j.a)(Object(j.a)({},e),i)):Object(re.jsx)(u.c,{to:{pathname:"/rapid-score-entry",state:{from:e.location}}}):Object(re.jsx)(u.c,{to:{pathname:"/auth/login",state:{from:e.location}}})}}))})),Bd=function(e){Object(l.a)(s,e);var t=Object(d.a)(s);function s(e){var a;return Object(r.a)(this,s),(a=t.call(this,e)).state={persisted:!1},a}return Object(c.a)(s,[{key:"componentDidCatch",value:function(e,t){console.error(e,t)}},{key:"dispatchAuthenticationStatus",value:function(){var e=new x.a;this.props.store.dispatch({type:"@@ghin/USER_AUTHENTICATED",payload:!!e.get("token")})}},{key:"componentDidUpdate",value:function(e,t,s){this.state.persisted!==t.persisted&&this.dispatchAuthenticationStatus()}},{key:"render",value:function(){var e=this;return Object(re.jsx)(p.a,{store:this.props.store,children:Object(re.jsx)(m.a,{onBeforeLift:function(){return e.setState({persisted:!0})},persistor:this.props.persistor,children:Object(re.jsx)(h.a,{history:this.props.routerHistory,children:Object(re.jsx)(a.Fragment,{children:Object(re.jsxs)(u.g,{children:[Object(re.jsx)(u.c,{exact:!0,from:"/",to:"/auth"}),Object(re.jsx)(u.d,{path:"/auth",component:mt}),Object(re.jsx)(zd,{path:"/affiliation/select",component:kt}),Object(re.jsx)(zd,{path:"/home",component:Ys}),Object(re.jsx)(zd,{path:"/manage",component:ql}),Object(re.jsxs)(a.Fragment,{children:[Object(re.jsx)(zd,{path:"/reports",component:Ql}),Object(re.jsx)(zd,{path:"/advanced-reports",component:nd}),Object(re.jsx)(zd,{path:"/rapid-score-entry",component:Od}),Object(re.jsx)(zd,{path:"/merges",component:Nd}),Object(re.jsx)(zd,{path:"/search",component:Rd}),Object(re.jsx)(u.d,{path:"/privacy-policy",component:Hd}),Object(re.jsx)(u.d,{path:"/terms-and-conditions",component:Ud})]})]})})})})})}}]),s}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(Object(re.jsx)(Bd,{routerHistory:K,store:se,persistor:te}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},114:function(e){e.exports=JSON.parse('[{"label":"AdminEscape","value":"AdminEscape"},{"label":"Blue Golf","value":"Blue Golf"},{"label":"GHIN","value":"GHIN"},{"label":"Golf Net","value":"Golf Net"},{"label":"MyScorecard","value":"MyScorecard"},{"label":"The Grint","value":"The Grint"},{"label":"Own Software","value":"Own Software"}]')},183:function(e){e.exports=JSON.parse('[{"value":"AdminEscape","label":"AdminEscape"},{"value":"Blue Golf","label":"Blue Golf"},{"value":"GHIN","label":"GHIN"},{"value":"Golf Net","label":"Golf Net"}]')},267:function(e){e.exports=JSON.parse('[{"value":"Affiliate","label":"Affiliate"},{"value":"Military","label":"Military"},{"value":"Private","label":"Private"},{"value":"Public","label":"Public"},{"value":"Resort","label":"Resort"},{"value":"Semi-Private","label":"Semi-Private"},{"value":"Not Specified","label":"Not Specified"}]')},268:function(e){e.exports=JSON.parse('[{"label":"Ken Dixon","value":"Ken Dixon"},{"label":"Adam Baj","value":"Adam Baj"},{"label":"Brad Mair","value":"Brad Mair"},{"label":"Jim Hauman","value":"Jim Hauman"},{"label":"Casey Mackey","value":"Casey Mackey"},{"label":"Justin Scott","value":"Justin Scott"},{"label":"Tyler Cope","value":"Tyler Cope"}]')},269:function(e){e.exports=JSON.parse('[{"label":"Joe Sprague","value":"Joe Sprague"},{"label":"Tyler Riggin","value":"Tyler Riggin"},{"label":"Kathy Gordon","value":"Kathy Gordon"},{"label":"Kyle Nuss","value":"Kyle Nuss"},{"label":"Mike Sweeney","value":"Mike Sweeney"}]')},496:function(e){e.exports=JSON.parse('{"emails":["notifications@hcp2020.com","jcavallo@usga.org","lgooley@usga.org","lmccormick-smith@usga.org","ccapasso@usga.org","akuppler@usga.org","cmusgalogin@gmail.com"]}')},497:function(e){e.exports=JSON.parse('{"emails":["ccapasso@usga.org","jcavallo@usga.org","bdelong@usga.org","lmccormick-smith@usga.org","mneville@usga.org","mcogliandro@usga.org","lgooley@usga.org","gmitchell@usga.org","akuppler@usga.org","glondt@usga.org","mphillips@usga.org","bulkuploads@hcp2020.com"]}')},761:function(e,t,s){},997:function(e,t){},999:function(e,t){}},[[1083,1,2]]]);
//# sourceMappingURL=main.03dfbac4.chunk.js.map